(function(){function s(d,e,n){function t(l,r){if(!e[l]){if(!d[l]){var i="function"==typeof require&&require;if(!r&&i)return i(l,!0);if(o)return o(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=e[l]={exports:{}};d[l][0].call(u.exports,function(e){var o=d[l][1][e];return t(o||e)},u,u.exports,s,d,e,n)}return e[l].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)t(n[r]);return t}return s})()({1:[function(e,t,n){"use strict";function o(){function e(e){return e=e||d,s(c,e)||r("no-app",{name:e}),c[e]}function t(){return Object.keys(c).map(function(e){return c[e]})}function n(e,t){Object.keys(u).forEach(function(n){var o=l(e,n);null===o||m[o]&&m[o](t,e)})}function l(e,t){if("serverAuth"===t)return null;e.options;return t}var c={},u={},m={},h={__esModule:!0,initializeApp:function(e,t){if(void 0===t&&(t={}),"object"!=typeof t||null===t){var o=t;t={name:o}}var i=t;void 0===i.name&&(i.name=d);var l=i.name;"string"==typeof l&&l||r("bad-app-name",{name:l+""}),s(c,l)&&r("duplicate-app",{name:l});var u=new p(e,i,h);return c[l]=u,n(u,"create"),u},app:e,apps:null,Promise:Promise,SDK_VERSION:"4.13.0",INTERNAL:{registerService:function(n,o,s,d,l){u[n]&&r("duplicate-service",{name:n}),u[n]=o,d&&(m[n]=d,t().forEach(function(e){d("create",e)}));var c=function(t){return void 0===t&&(t=e()),"function"!=typeof t[n]&&r("invalid-app-argument",{name:n}),t[n]()};return void 0!==s&&i.deepExtend(c,s),h[n]=c,p.prototype[n]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=this._getService.bind(this,n);return o.apply(this,l?e:[])},c},createFirebaseNamespace:o,extendNamespace:function(e){i.deepExtend(h,e)},createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,removeApp:function(e){var t=c[e];n(t,"delete"),delete c[e]},factories:u,useAsService:l,Promise:Promise,deepExtend:i.deepExtend}};return i.patchProperty(h,"default",h),Object.defineProperty(h,"apps",{get:t}),i.patchProperty(e,"App",p),h}function r(e,t){throw c.create(e,t)}Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/util"),s=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d="[DEFAULT]",l=[],p=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled||!1,this.options_=i.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){l.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){l=l.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed_(),this._automaticDataCollectionEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(o){t.push(e.services_[n][o])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=d),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t===d?void 0:t,o=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=o}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;i.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(l.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),l=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&r("app-deleted",{name:this.name_})},e}();/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var c=new i.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),u=o();/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.firebase=u,n.default=u},{"@firebase/util":7}],2:[function(e){var o=Math.floor,t=Math.max;(function(n){(function(){function i(e){return"string"==typeof e}function s(e){return"boolean"==typeof e}function p(){}function d(e){var t=typeof e;if("object"==t){if(e){if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else return"null";}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function c(e){return null===e}function _(e){return"array"==d(e)}function m(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function h(e){return"function"==d(e)}function E(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function f(e){return e.call.apply(e.bind,arguments)}function b(e,t){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,n),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function j(){return j=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:b,j.apply(null,arguments)}function r(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function $(e,t){function n(){}n.prototype=t.prototype,e.lb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ad=function(n,o){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[o].apply(n,r)}}function _e(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function et(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function tt(e){if(Error.captureStackTrace)Error.captureStackTrace(this,tt);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=e+"")}function u(t,n){t=t.split("%s");for(var o="",r=t.length-1,i=0;i<r;i++)o+=t[i]+(i<n.length?n[i]:"%s");tt.call(this,o+t[r])}function nt(e){throw new u("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function at(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function ot(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function rt(){this.b=this.a=null}function it(){var e=op,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function st(){this.next=this.b=this.a=null}function dt(e,t){var n=e.length,o=i(e)?e.split(""):e;for(--n;0<=n;--n)n in o&&t.call(void 0,o[n],n,e)}function lt(t){a:{for(var n=er,o=t.length,r=i(t)?t.split(""):t,s=0;s<o;s++)if(s in r&&n.call(void 0,r[s],s,t)){n=s;break a}n=-1}return 0>n?null:i(t)?t.charAt(n):t[n]}function pt(e,t){return 0<=wa(e,t)}function ct(e,t){t=wa(e,t);var n;return(n=0<=t)&&Array.prototype.splice.call(e,t,1),n}function ut(t,n){var o=0;dt(t,function(r,i){n.call(void 0,r,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&o++})}function w(){return Array.prototype.concat.apply([],arguments)}function mt(e){var t=e.length;if(0<t){for(var n=Array(t),o=0;o<t;o++)n[o]=e[o];return n}return[]}function ht(t){for(var n=t.split("%s"),o="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)o+=n.shift()+r.shift();return o+n.join("%s")}function ft(e){return Sa.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(Ka,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(Na,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Oa,"&gt;")),-1!=e.indexOf("\"")&&(e=e.replace(Pa,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(Qa,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(Ra,"&#0;")),e):e}function gt(e,t){return-1!=e.indexOf(t)}function x(e,t){return e<t?-1:e>t?1:0}function yt(e){return gt(Ma,e)}function y(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function bt(e){for(var t in e)return!1;return!0}function _t(e){var t={},n;for(n in e)t[n]=e[n];return t}function vt(t){for(var n=1,e,o;n<arguments.length;n++){for(e in o=arguments[n],o)t[e]=o[e];for(var r=0;r<Wa.length;r++)e=Wa[r],Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}}function Et(e){np.setTimeout(function(){throw e},0)}function Ct(){var e=np.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!yt("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),o="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=j(function(e){("*"==o||e.origin==o)&&e.data==n&&this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,o)}}}),"undefined"!=typeof e&&!yt("Trident")&&!yt("MSIE")){var t=new e,n={},o=n;return t.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var e=n.rb;n.rb=null,e()}},function(e){o.next={rb:e},o=o.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){np.setTimeout(e,0)}}function Tt(e,t){ya||It(),ap||(ya(),ap=!0),op.add(e,t)}function It(){if(np.Promise&&np.Promise.resolve){var e=np.Promise.resolve(void 0);ya=function(){e.then(St)}}else ya=function(){var e=St;!h(np.setImmediate)||np.Window&&np.Window.prototype&&!yt("Edge")&&np.Window.prototype.setImmediate==np.setImmediate?($a||($a=Ct()),$a(e)):np.setImmediate(e)}}function St(){for(var e;e=it();){try{e.a.call(e.b)}catch(e){Et(e)}ot(g,e)}ap=!1}function kt(e,t){if(this.a=rp,this.j=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=p)try{var n=this;e.call(t,function(e){Ot(n,ip,e)},function(e){if(!(e instanceof qt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Ot(n,sp,e)})}catch(e){Ot(this,sp,e)}}function z(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function xt(e,t,n){var o=dp.get();return o.g=e,o.b=t,o.f=n,o}function Nt(e){if(e instanceof kt)return e;var t=new kt(p);return Ot(t,ip,e),t}function A(e){return new kt(function(t,n){n(e)})}function B(e,t,n){Mt(e,t,n,null)||Tt(r(t,e))}function wt(t){return new kt(function(n,o){var i=t.length,s=[];if(i)for(var e=function(e,t){i--,s[e]=t,0==i&&n(s)},d=function(e){o(e)},l=0,c;l<t.length;l++)c=t[l],B(c,r(e,l),d);else n(s)})}function Rt(t){return new kt(function(n){var o=t.length,i=[];if(o)for(var s=function(t,r,e){o--,i[t]=r?{Zb:!0,value:e}:{Zb:!1,reason:e},0==o&&n(i)},e=0,d;e<t.length;e++)d=t[e],B(d,r(s,e,!0),r(s,e,!1));else n(i)})}function Pt(t,n){if(t.a==rp)if(t.c){var o=t.c;if(o.b){for(var r=0,i=null,e=null,s=o.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(e=s);i&&(o.a==rp&&1==r?Pt(o,n):(e?(r=e,r.next==o.f&&(o.f=r),r.next=r.next.next):Ut(o),jt(o,i,sp,n)))}t.c=null}else Ot(t,sp,n)}function At(e,t){e.b||e.a!=ip&&e.a!=sp||Ft(e),e.f?e.f.next=t:e.b=t,e.f=t}function Dt(t,n,o,r){var i=xt(null,null,null);return i.a=new kt(function(t,s){i.g=n?function(o){try{var i=n.call(r,o);t(i)}catch(e){s(e)}}:t,i.b=o?function(n){try{var i=o.call(r,n);void 0===i&&n instanceof qt?s(n):t(i)}catch(e){s(e)}}:s}),i.a.c=t,At(t,i),i.a}function Ot(e,t,n){e.a==rp&&(e===n&&(t=sp,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Mt(n,e.Kc,e.Lc,e)||(e.j=n,e.a=t,e.c=null,Ft(e),t!=sp||n instanceof qt||Vt(e,n)))}function Mt(t,n,o,r){if(t instanceof kt)return At(t,xt(n||p,o||null,r)),!0;if(et(t))return t.then(n,o,r),!0;if(E(t))try{var i=t.then;if(h(i))return Lt(t,i,n,o,r),!0}catch(e){return o.call(r,e),!0}return!1}function Lt(t,n,o,r,i){function e(e){d||(d=!0,r.call(i,e))}function s(e){d||(d=!0,o.call(i,e))}var d=!1;try{n.call(t,s,e)}catch(t){e(t)}}function Ft(e){e.h||(e.h=!0,Tt(e.Ub,e))}function Ut(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function jt(e,t,n,o){if(n==sp&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Bt(t,n,o);else try{t.c?t.g.call(t.f):Bt(t,n,o)}catch(t){lp.call(null,t)}ot(dp,t)}function Bt(e,t,n){t==ip?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}function Vt(e,t){e.g=!0,Tt(function(){e.g&&lp.call(null,t)})}function qt(e){tt.call(this,e)}function Wt(){0!=pp&&(cp[this[k]||(this[k]=++ia)]=this),this.pa=this.pa,this.oa=this.oa}function zt(){}function Ht(e){return Ht[" "](e),e}function Kt(e,t){var n=Cp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function Gt(){var e=np.document;return e?e.documentMode:void 0}function Qt(n){return Kt(n,function(){for(var o=0,r=Ca(bp+"").split("."),i=Ca(n+"").split("."),s=t(r.length,i.length),e=0;0==o&&e<s;e++){var d=r[e]||"",l=i[e]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==d[0].length&&0==l[0].length)break;o=x(0==d[1].length?0:parseInt(d[1],10),0==l[1].length?0:parseInt(l[1],10))||x(0==d[2].length,0==l[2].length)||x(d[2],l[2]),d=d[3],l=l[3]}while(0==o)}return 0<=o})}function Yt(e,t){this.type=e,this.b=this.target=t,this.Eb=!0}function D(t,n){if(Yt.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var o=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=n,!(n=t.relatedTarget))"mouseover"==o?n=t.fromElement:"mouseout"==o&&(n=t.toElement);else if(gp){a:{try{Ht(n.nodeName);var s=!0;break a}catch(e){}s=!1}s||(n=null)}this.relatedTarget=n,null===r?(this.clientX=void 0===t.clientX?t.pageX:t.clientX,this.clientY=void 0===t.clientY?t.pageY:t.clientY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0===r.clientX?r.pageX:r.clientX,this.clientY=void 0===r.clientY?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=i(t.pointerType)?t.pointerType:wp[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}function Xt(t,n,o,r,i){this.listener=t,this.proxy=null,this.src=n,this.type=o,this.capture=!!r,this.La=i,this.key=++Pp,this.ma=this.Ha=!1}function $t(e){e.ma=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function Jt(e){this.src=e,this.a={},this.b=0}function Zt(e,t){var n=t.type;n in e.a&&ct(e.a[n],t)&&($t(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function en(t,n,o,r){for(var i=0,e;i<t.length;++i)if(e=t[i],!e.ma&&e.listener==n&&e.capture==!!o&&e.La==r)return i;return-1}function tn(t,n,o,r,i){if(r&&r.once)on(t,n,o,r,i);else if(_(n))for(var e=0;e<n.length;e++)tn(t,n[e],o,r,i);else o=un(o),t&&t[Rp]?G(t,n,o,E(r)?!!r.capture:!!r,i):nn(t,n,o,!1,r,i)}function nn(t,n,o,r,i,s){if(!n)throw Error("Invalid event type");var d=E(i)?!!i.capture:!!i,l=cn(t);if(l||(t[Ap]=l=new Jt(t)),o=l.add(n,o,r,d,s),!o.proxy){if(r=an(),o.proxy=r,r.src=t,r.listener=o,t.addEventListener)Np||(i=d),void 0===i&&(i=!1),t.addEventListener(n.toString(),r,i);else if(t.attachEvent)t.attachEvent(sn(n.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");Op++}}function an(){var e=pn,t=kp?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function on(t,n,o,r,i){if(_(n))for(var e=0;e<n.length;e++)on(t,n[e],o,r,i);else o=un(o),t&&t[Rp]?hn(t,n,o,E(r)?!!r.capture:!!r,i):nn(t,n,o,!0,r,i)}function rn(t,n,o,r,i){if(_(n))for(var e=0;e<n.length;e++)rn(t,n[e],o,r,i);else(r=E(r)?!!r.capture:!!r,o=un(o),t&&t[Rp])?(t=t.u,n=(n+"").toString(),n in t.a&&(e=t.a[n],o=en(e,o,r,i),-1<o&&($t(e[o]),Array.prototype.splice.call(e,o,1),0==e.length&&(delete t.a[n],t.b--)))):t&&(t=cn(t))&&(n=t.a[n.toString()],t=-1,n&&(t=en(n,o,r,i)),(o=-1<t?n[t]:null)&&F(o))}function F(e){if("number"!=typeof e&&e&&!e.ma){var t=e.src;if(t&&t[Rp])Zt(t.u,e);else{var n=e.type,o=e.proxy;t.removeEventListener?t.removeEventListener(n,o,e.capture):t.detachEvent?t.detachEvent(sn(n),o):t.addListener&&t.removeListener&&t.removeListener(o),Op--,(n=cn(t))?(Zt(n,e),0==n.b&&(n.src=null,t[Ap]=null)):$t(e)}}}function sn(e){return e in Dp?Dp[e]:Dp[e]="on"+e}function dn(t,n,o,r){var i=!0;if((t=cn(t))&&(n=t.a[n.toString()]))for(n=n.concat(),t=0;t<n.length;t++){var e=n[t];e&&e.capture==o&&!e.ma&&(e=ln(e,r),i=i&&!1!==e)}return i}function ln(e,t){var n=e.listener,o=e.La||e.src;return e.Ha&&F(e),n.call(o,t)}function pn(t,n){if(t.ma)return!0;if(!kp){if(!n)a:{n=["window","event"];for(var o=np,r=0;r<n.length;r++)if(o=o[n[r]],null==o){n=null;break a}n=o}if(r=n,n=new D(r,this),o=!0,!(0>r.keyCode||void 0!=r.returnValue)){a:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break a}catch(e){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=n.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){n.b=r[i];var e=dn(r[i],t,!0,n);o=o&&e}for(i=0;i<r.length;i++)n.b=r[i],e=dn(r[i],t,!1,n),o=o&&e}return o}return ln(t,new D(n,this))}function cn(e){return e=e[Ap],e instanceof Jt?e:null}function un(e){return h(e)?e:(e[Mp]||(e[Mp]=function(t){return e.handleEvent(t)}),e[Mp])}function mn(){Wt.call(this),this.u=new Jt(this),this.Mb=this,this.Ta=null}function G(t,n,o,r,i){t.u.add(n+"",o,!1,r,i)}function hn(t,n,o,r,i){t.u.add(n+"",o,!0,r,i)}function fn(t,n,o,r){if(n=t.u.a[n+""],!n)return!0;n=n.concat();for(var i=!0,e=0,s;e<n.length;++e)if(s=n[e],s&&!s.ma&&s.capture==o){var d=s.listener,l=s.La||s.src;s.Ha&&Zt(t.u,s),i=!1!==d.call(l,r)&&i}return i&&0!=r.Eb}function gn(e,t,n){if(h(e))n&&(e=j(e,n));else if(e&&"function"==typeof e.handleEvent)e=j(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<+t?-1:np.setTimeout(e,t||0)}function yn(e){var t=null;return new kt(function(n,o){t=gn(function(){n(void 0)},e),-1==t&&o(Error("Failed to schedule timer."))}).m(function(e){throw np.clearTimeout(t),e})}function bn(e){if(e.S&&"function"==typeof e.S)return e.S();if(i(e))return e.split("");if(m(e)){for(var t=[],n=e.length,o=0;o<n;o++)t.push(e[o]);return t}for(o in t=[],n=0,e)t[n++]=e[o];return t}function _n(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(m(e)||i(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var o in t=[],n=0,e)t[n++]=o;return t}}function vn(t,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(n,void 0);else if(m(t)||i(t))za(t,n,void 0);else for(var o=_n(t),r=bn(t),s=r.length,e=0;e<s;e++)n.call(void 0,r[e],o&&o[e],t)}function En(e){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var n=0;n<t;n+=2)this.set(arguments[n],arguments[n+1])}else if(e)if(e instanceof En)for(t=e.U(),n=0;n<t.length;n++)this.set(t[n],e.get(t[n]));else for(n in e)this.set(n,e[n])}function Cn(t){if(t.c!=t.a.length){for(var n=0,o=0,r;n<t.a.length;)r=t.a[n],Tn(t.b,r)&&(t.a[o++]=r),n++;t.a.length=o}if(t.c!=t.a.length){var i={};for(o=n=0;n<t.a.length;)r=t.a[n],Tn(i,r)||(t.a[o++]=r,i[r]=1),n++;t.a.length=o}}function Tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function In(t,n){if(t){t=t.split("&");for(var o=0;o<t.length;o++){var r=t[o].indexOf("="),i=null;if(0<=r){var e=t[o].substring(0,r);i=t[o].substring(r+1)}else e=t[o];n(e,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Sn(e,t){if(this.b=this.l=this.c="",this.j=null,this.h=this.g="",this.f=!1,e instanceof Sn){this.f=void 0===t?e.f:t,kn(this,e.c),this.l=e.l,this.b=e.b,xn(this,e.j),this.g=e.g,t=e.a;var n=new Mn;n.c=t.c,t.a&&(n.a=new En(t.a),n.b=t.b),Nn(this,n),this.h=e.h}else e&&(n=(e+"").match(Lp))?(this.f=!!t,kn(this,n[1]||"",!0),this.l=An(n[2]||""),this.b=An(n[3]||"",!0),xn(this,n[4]),this.g=An(n[5]||"",!0),Nn(this,n[6]||"",!0),this.h=An(n[7]||"")):(this.f=!!t,this.a=new Mn(null,this.f))}function kn(e,t,n){e.c=n?An(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function xn(e,t){if(t){if(t=+t,isNaN(t)||0>t)throw Error("Bad port number "+t);e.j=t}else e.j=null}function Nn(e,t,n){t instanceof Mn?(e.a=t,qn(e.a,e.f)):(n||(t=Dn(t,Bp)),e.a=new Mn(t,e.f))}function wn(e,t,n){e.a.set(t,n)}function H(e,t){return e.a.get(t)}function Rn(e){return e instanceof Sn?new Sn(e):new Sn(e,void 0)}function Pn(e,t){var n=new Sn(null,void 0);return kn(n,"https"),e&&(n.b=e),t&&(n.g=t),n}function An(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dn(e,t,n){return i(e)?(e=encodeURI(e).replace(t,On),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function On(e){return e=e.charCodeAt(0),"%"+(15&e>>4).toString(16)+(15&e).toString(16)}function Mn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Ln(e){e.a||(e.a=new En,e.b=0,e.c&&In(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Fn(t){var n=_n(t);if("undefined"==typeof n)throw Error("Keys are undefined");var o=new Mn(null,void 0);t=bn(t);for(var r=0;r<n.length;r++){var i=n[r],e=t[r];_(e)?Bn(o,i,e):o.add(i,e)}return o}function Un(e,t){Ln(e),t=Vn(e,t),Tn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Tn(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Cn(e)))}function jn(e,t){return Ln(e),t=Vn(e,t),Tn(e.a.b,t)}function Bn(e,t,n){Un(e,t),0<n.length&&(e.c=null,e.a.set(Vn(e,t),mt(n)),e.b+=n.length)}function Vn(e,t){return t+="",e.f&&(t=t.toLowerCase()),t}function qn(e,t){t&&!e.f&&(Ln(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Un(this,t),Bn(this,n,e))},e)),e.f=t}function Wn(){this.a="",this.b=qp}function zn(e){return e instanceof Wn&&e.constructor===Wn&&e.b===qp?e.a:(nt("expected object of type Const, got '"+e+"'"),"type_error:Const")}function Hn(e){var t=new Wn;return t.a=e,t}function Kn(){this.a="",this.b=ud}function Gn(e){return e instanceof Kn&&e.constructor===Kn&&e.b===ud?e.a:(nt("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Qn(e,t){var n=zn(e);if(!vd.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(nd,function(o,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error("Found marker, \""+r+"\", in format string, \""+n+"\", but no valid label mapping found in args: "+JSON.stringify(t));return o=t[r],o instanceof Wn?zn(o):encodeURIComponent(o+"")}),Yn(e)}function Yn(e){var t=new Kn;return t.a=e,t}function Xn(){this.a="",this.b=Ad}function $n(e){return e instanceof Xn&&e.constructor===Xn&&e.b===Ad?e.a:(nt("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}function Jn(e){return e instanceof Xn?e:(e=e.la?e.ja():e+"",rd.test(e)||(e="about:invalid#zClosurez"),Zn(e))}function Zn(e){var t=new Xn;return t.a=e,t}function ta(){this.a="",this.b=yd}function oa(e){return e instanceof ta&&e.constructor===ta&&e.b===yd?e.a:(nt("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}function ra(e){var t=new ta;return t.a=e,t}function sa(e){var t=document;return i(e)?t.getElementById(e):e}function da(e,t){y(t,function(t,n){t&&t.la&&(t=t.ja()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Ed.hasOwnProperty(n)?e.setAttribute(Ed[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}function la(){var t=arguments,n=document,e=t[0]+"",o=t[1];if(!Vp&&o&&(o.name||o.type)){if(e=["<",e],o.name&&e.push(" name=\"",ft(o.name),"\""),o.type){e.push(" type=\"",ft(o.type),"\"");var r={};vt(r,o),delete r.type,o=r}e.push(">"),e=e.join("")}return e=n.createElement(e),o&&(i(o)?e.className=o:_(o)?e.className=o.join(" "):da(e,o)),2<t.length&&pa(n,e,t),e}function pa(t,n,o){function r(e){e&&n.appendChild(i(e)?t.createTextNode(e):e)}for(var s=2,e;s<o.length;s++)e=o[s],!m(e)||E(e)&&0<e.nodeType?r(e):za(ca(e)?mt(e):e,r)}function ca(e){if(e&&"number"==typeof e.length){if(E(e))return"function"==typeof e.item||"string"==typeof e.item;if(h(e))return"function"==typeof e.item}return!1}function ua(e){var t=[];return ha(new ma,e,t),t.join("")}function ma(){}function ha(t,n,o){if(null==n)o.push("null");else{if("object"==typeof n){if(_(n)){var r=n;n=r.length,o.push("[");for(var i="",e=0;e<n;e++)o.push(i),ha(t,r[e],o),i=",";return void o.push("]")}if(n instanceof String||n instanceof Number||n instanceof Boolean)n=n.valueOf();else{for(r in o.push("{"),i="",n)Object.prototype.hasOwnProperty.call(n,r)&&(e=n[r],"function"!=typeof e&&(o.push(i),fa(r,o),o.push(":"),ha(t,e,o),i=","));return void o.push("}")}}switch(typeof n){case"string":fa(n,o);break;case"number":o.push(isFinite(n)&&!isNaN(n)?n+"":"null");break;case"boolean":o.push(n+"");break;case"function":o.push("null");break;default:throw Error("Unknown type: "+typeof n);}}}function fa(e,t){t.push("\"",e.replace(Rd,function(e){var t=Jd[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Jd[e]=t),t}),"\"")}function ga(){var e=oe();return mp&&!!Ip&&11==Ip||/Edge\/\d+/.test(e)}function _a(){return np.window&&np.window.location.href||self&&self.location&&self.location.href||""}function va(e,t){t=t||np.window;var n="about:blank";e&&(n=$n(Jn(e))),t.location.href=n}function Ta(t,n){var o=[],r;for(r in t)if(!(r in n))o.push(r);else if(typeof t[r]!=typeof n[r])o.push(r);else if(_(t[r])){a:{var i=void 0,e=t[r],s=n[r];for(i in e)if(!(i in s)||e[i]!==s[i]){i=!1;break a}for(i in s)if(!(i in e)){i=!1;break a}i=!0}i||o.push(r)}else"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<Ta(t[r],n[r]).length&&o.push(r):t[r]!==n[r]&&o.push(r);for(r in n)r in t||o.push(r);return o}function Ia(){var e=oe();return e=me(e)==ce?(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null:null,e&&30>e?!1:!mp||!Ip||9<Ip}function ka(e){return e=(e||oe()).toLowerCase(),e.match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/)}function xa(e){e=e||np.window;try{e.close()}catch(e){}}function ae(t,n,r){var i=o(1E9*Math.random()).toString();n=n||500,r=r||600;var s=(window.screen.availHeight-r)/2,e=(window.screen.availWidth-n)/2;for(d in n={width:n,height:r,top:0<s?s:0,left:0<e?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},r=oe().toLowerCase(),i&&(n.target=i,gt(r,"crios/")&&(n.target="_blank")),me(oe())==ee&&(t=t||"http://localhost",n.scrollbars=!0),r=t||"",(t=n)||(t={}),i=window,n=r instanceof Xn?r:Jn("undefined"==typeof r.href?r+"":r.href),r=t.target||r.target,s=[],t)switch(d){case"width":case"height":case"top":case"left":s.push(d+"="+t[d]);break;case"target":case"noopener":case"noreferrer":break;default:s.push(d+"="+(t[d]?1:0));}var d=s.join(",");if((yt("iPhone")&&!yt("iPod")&&!yt("iPad")||yt("iPad")||yt("iPod"))&&i.navigator&&i.navigator.standalone&&r&&"_self"!=r?(d=i.document.createElement("A"),n instanceof Xn||n instanceof Xn||(n=n.la?n.ja():n+"",rd.test(n)||(n="about:invalid#zClosurez"),n=Zn(n)),d.href=$n(n),d.setAttribute("target",r),t.noreferrer&&d.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,i,1),d.dispatchEvent(t),d={}):t.noreferrer?(d=i.open("",r,d),t=$n(n),d&&(fp&&gt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),d.opener=null,Hn("b/12014412, meta tag with sanitized URL"),t="<meta name=\"referrer\" content=\"no-referrer\"><meta http-equiv=\"refresh\" content=\"0; url="+ft(t)+"\">",t=ra(t),d.document.write(oa(t)),d.document.close())):(d=i.open($n(n),r,d))&&t.noopener&&(d.opener=null),d)try{d.focus()}catch(e){}return d}function be(e){return new kt(function(t){function n(){yn(2E3).then(function(){return!e||e.closed?void t():n()})}return n()})}function de(){var e=null;return new kt(function(t){"complete"==np.document.readyState?t():(e=function(){t()},on(window,"load",e))}).m(function(t){throw rn(window,"load",e),t})}function fe(){return ge(void 0)?de().then(function(){return new kt(function(e,t){var n=np.document,o=setTimeout(function(){t(Error("Cordova framework is not ready."))},1E3);n.addEventListener("deviceready",function(){clearTimeout(o),e()},!1)})}):A(Error("Cordova must run in an Android or iOS file scheme."))}function ge(e){return e=e||oe(),"file:"===se()&&e.toLowerCase().match(/iphone|ipad|ipod|android/)}function he(){var e=np.window;try{return e&&e!=e.top}catch(e){return!1}}function je(){return"object"!=typeof np.window&&"function"==typeof np.importScripts}function ke(){return ep.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ep.INTERNAL.hasOwnProperty("node")?"Node":je()?"Worker":"Browser"}function le(){var e=ke();return"ReactNative"===e||"Node"===e}function me(e){var t=e.toLowerCase();if(gt(t,"opera/")||gt(t,"opr/")||gt(t,"opios/"))return"Opera";if(gt(t,"iemobile"))return"IEMobile";if(gt(t,"msie")||gt(t,"trident/"))return"IE";if(gt(t,"edge/"))return"Edge";if(gt(t,"firefox/"))return ee;if(gt(t,"silk/"))return"Silk";if(gt(t,"blackberry"))return"Blackberry";if(gt(t,"webos"))return"Webos";if(!(!gt(t,"safari/")||gt(t,"chrome/")||gt(t,"crios/")||gt(t,"android")))return"Safari";if(!gt(t,"chrome/")&&!gt(t,"crios/")||gt(t,"edge/")){if(gt(t,"android"))return"Android";if((e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length)return e[1]}else return ce;return"Other"}function Aa(t,n){n=n||[];var o=[],r={},i;for(i in Zd)r[Zd[i]]=!0;for(i=0;i<n.length;i++)"undefined"!=typeof r[n[i]]&&(delete r[n[i]],o.push(n[i]));return o.sort(),n=o,n.length||(n=["FirebaseCore-web"]),o=ke(),"Browser"===o?(r=oe(),o=me(r)):"Worker"==o&&(r=oe(),o=me(r)+"-"+o),o+"/JsCore/"+t+"/"+n.join(",")}function oe(){return np.navigator&&np.navigator.userAgent||""}function I(e,t){e=e.split("."),t=t||np;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function J(){try{var e=np.localStorage,t=we();if(e)return e.setItem(t,"1"),e.removeItem(t),!ga()||!!np.indexedDB}catch(e){return je()&&!!np.indexedDB}return!1}function pe(){return(re()||"chrome-extension:"===se()||ge())&&!le()&&J()&&!je()}function re(){return"http:"===se()||"https:"===se()}function se(){return np.location&&np.location.protocol||null}function ie(e){return e=e||oe(),ka(e)||me(e)==ee?!1:!0}function te(e){return"undefined"==typeof e?null:ua(e)}function ue(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&null!==e[n]&&void 0!==e[n]&&(t[n]=e[n]);return t}function ve(e){if(null!==e)return JSON.parse(e)}function we(e){return e?e:o(1E9*Math.random()).toString()}function qe(e){return e=e||oe(),"Safari"==me(e)||e.toLowerCase().match(/iphone|ipad|ipod/)?!1:!0}function xe(){var e=np.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function ye(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=oe(),t=ke(),this.b=ka(e)||"ReactNative"===t}function ze(){var e=np.document;return e&&"undefined"!=typeof e.visibilityState?"visible"==e.visibilityState:!0}function Ae(){var e=np.document,t=null;return ze()||!e?Nt():new kt(function(n){t=function(){ze()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).m(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}function Be(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Ce(){return I("fireauth.oauthhelper",np)||I("fireauth.iframe",np)}function De(e,t,n){Ee?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function K(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&De(e,n,t[n])}function L(e){var t={};return K(t,e),t}function He(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ie(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0,o;n<t.length;n++)if(o=e[t[n]],void 0===o||null===o||""===o)return!1;return!0}function Je(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)De(t,n,Je(e[n]));return t}function Ke(e){var t={},n=e[Pe],o=e[Me];if(e=e[Ne],!e||e!=Ge&&!n)throw Error("Invalid provider user info!");t[Re]=o||null,t[Oe]=n||null,De(this,Te,e),De(this,Qe,Je(t))}function Le(e,t){this.code=Se+e,this.message=t||Ue[e]||""}function Da(e){var t=e&&e.code;return t?new Le(t.substring(Se.length),e.message):null}function We(e){var t=e[zp];if("undefined"==typeof t)throw new Le("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Le("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ve];if(n&&"object"==typeof n){t=n[Kp];var o=n[Ye];if(n=n[Hp],"string"==typeof t&&t.length){if(this.a=t,"undefined"!=typeof o&&"boolean"!=typeof o)throw new Le("argument-error",Ye+" property must be a boolean when specified.");if(this.g=!!o,"undefined"!=typeof n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Le("argument-error",Hp+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!=typeof t)throw new Le("argument-error",Kp+" property must be a non empty string when specified.");if("undefined"!=typeof o||"undefined"!=typeof n)throw new Le("missing-android-pkg-name")}}else if("undefined"!=typeof n)throw new Le("argument-error",Ve+" property must be a non null object when specified.");if(this.f=null,(t=e[Wp])&&"object"==typeof t){if(t=t[$e],"string"==typeof t&&t.length)this.f=t;else if("undefined"!=typeof t)throw new Le("argument-error",$e+" property must be a non empty string when specified.");}else if("undefined"!=typeof t)throw new Le("argument-error",Wp+" property must be a non null object when specified.");if(e=e[Ze],"undefined"!=typeof e&&"boolean"!=typeof e)throw new Le("argument-error",Ze+" property must be a boolean when specified.");this.c=!!e}function Xe(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t)null===t[n]&&delete t[n];return t}function La(e){return v(e,function(e){return e=e.toString(16),1<e.length?e:"0"+e}).join("")}function Fa(e){var t="";return qa(e,function(e){t+=String.fromCharCode(e)}),t}function qa(t,n){function o(n){for(;r<t.length;){var o=t.charAt(r++),i=Qp[o];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(o))throw Error("Unknown base64 encoding at char: "+o)}return n}Ha();for(var r=0;;){var i=o(-1),e=o(0),s=o(64),d=o(64);if(64===d&&-1===i)break;n(i<<2|e>>4),64!=s&&(n(240&e<<4|s>>2),64!=d&&n(192&s<<6|d))}}function Ha(){if(!Gp){Gp={},Qp={};for(var e=0;65>e;e++)Gp[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Qp[Gp[e]]=e,62<=e&&(Qp["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}function Ga(e){this.c=e.sub,ja(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Ya(e){return(e=Xa(e))&&e.sub&&e.iss&&e.aud&&e.exp?new Ga(e):null}function Xa(e){if(!e)return null;if(e=e.split("."),3!=e.length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Fa(e))}catch(e){}return null}function Ja(e){for(var t in $p)if($p[t].Na==e)return $p[t];return null}function Za(e){var t={"facebook.com":no,"google.com":oo,"github.com":ao,"twitter.com":ro},n=e&&e[Zp];try{if(n)return t[n]?new t[n](e):new to(e);if("undefined"!=typeof e[Jp])return new eo(e)}catch(e){}return null}function eo(e){var t=e[Zp];if(!t&&e[Jp]){var n=Ya(e[Jp]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");("anonymous"==t||"custom"==t)&&(t=null),n=!1,"undefined"==typeof e.isNewUser?"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0):n=!!e.isNewUser,De(this,"providerId",t),De(this,"isNewUser",n)}function to(e){eo.call(this,e),e=ve(e.rawUserInfo||"{}"),De(this,"profile",Je(e||{}))}function no(e){if(to.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(to.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");De(this,"username",this.profile&&this.profile.login||null)}function oo(e){if(to.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(e){if(to.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");De(this,"username",e.screenName||null)}function io(e){this.a=Rn(e)}function so(e){var t=Rn(e),n=H(t,"link"),o=H(Rn(n),"link");return t=H(t,"deep_link_id"),H(Rn(t),"link")||t||o||n||e}function lo(e,t){return e.then(function(e){if(e[yc]){var n=Ya(e[yc]);if(!n||t!=n.c)throw new Le("user-mismatch");return e}throw new Le("user-mismatch")}).m(function(e){throw e&&e.code&&e.code==Se+"user-not-found"?new Le("user-mismatch"):e})}function po(e,t,n){if(t.idToken||t.accessToken)t.idToken&&De(this,"idToken",t.idToken),t.accessToken&&De(this,"accessToken",t.accessToken);else if(t.oauthToken&&t.oauthTokenSecret)De(this,"accessToken",t.oauthToken),De(this,"secret",t.oauthTokenSecret);else throw new Le("internal-error","failed to construct a credential");De(this,"providerId",e),De(this,"signInMethod",n)}function co(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:Fn(t).toString(),requestUri:"http://localhost"}}function uo(e,t){this.Ac=t||[],K(this,{providerId:e,isOAuthProvider:!0}),this.tb={},this.Za=(Ja(e)||{}).Ma||null,this.Xa=null}function mo(e){uo.call(this,e,Xp),this.a=[]}function N(){mo.call(this,"facebook.com")}function ho(e){if(!e)throw new Le("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return E(e)&&(t=e.accessToken),new N().credential(null,t)}function fo(){mo.call(this,"github.com")}function go(e){if(!e)throw new Le("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return E(e)&&(t=e.accessToken),new fo().credential(null,t)}function yo(){mo.call(this,"google.com"),this.ta("profile")}function bo(e,t){var n=e;return E(e)&&(n=e.idToken,t=e.accessToken),new yo().credential(n,t)}function _o(){uo.call(this,"twitter.com",Yp)}function vo(e,t){var n=e;if(E(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Le("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function Eo(e,t,n){this.a=e,this.b=t,De(this,"providerId","password"),De(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(){K(this,{providerId:"password",isOAuthProvider:!1})}function O(e,t){if(t=To(t),!t)throw new Le("argument-error","Invalid email link!");return new Eo(e,t,Co.EMAIL_LINK_SIGN_IN_METHOD)}function To(e){e=so(e),e=new io(e);var t=H(e.a,"oobCode")||null;return"signIn"===(H(e.a,"mode")||null)&&t?t:null}function Io(e){if(!(e.Ra&&e.Qa||e.Ea&&e.Z))throw new Le("internal-error");this.a=e,De(this,"providerId","phone"),De(this,"signInMethod","phone")}function So(e){return e.a.Ea&&e.a.Z?{temporaryProof:e.a.Ea,phoneNumber:e.a.Z}:{sessionInfo:e.a.Ra,code:e.a.Qa}}function ko(e){try{this.a=e||ep.auth()}catch(e){throw new Le("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}K(this,{providerId:"phone",isOAuthProvider:!1})}function xo(e,t){if(!e)throw new Le("missing-verification-id");if(!t)throw new Le("missing-verification-code");return new Io({Ra:e,Qa:t})}function No(e){if(e.temporaryProof&&e.phoneNumber)return new Io({Ea:e.temporaryProof,Z:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,o=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{return"google.com"===t?bo(e,n):"facebook.com"===t?ho(n):"github.com"===t?go(n):"twitter.com"===t?vo(n,o):new mo(t).credential(e,n)}catch(t){return null}}function wo(e){if(!e.isOAuthProvider)throw new Le("invalid-oauth-provider")}function Ro(t,n,o,r,i){if(this.b=t,this.c=n||null,this.f=o||null,this.g=r||null,this.a=i||null,this.f||this.a){if(this.f&&this.a)throw new Le("invalid-auth-event");if(this.f&&!this.g)throw new Le("invalid-auth-event")}else throw new Le("invalid-auth-event")}function Po(e){return e=e||{},e.type?new Ro(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&Da(e.error)):null}function Ao(){this.b=null,this.a=[]}function Do(e){var t="unauthorized-domain",n=Rn(e),o;e=n.b,n=n.c,"chrome-extension"==n?o=ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==n||"https"==n?o=ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Le.call(this,t,o)}function Oo(e,t,n){Le.call(this,e,n),e=t||{},e.ub&&De(this,"email",e.ub),e.Z&&De(this,"phoneNumber",e.Z),e.credential&&De(this,"credential",e.credential)}function Mo(e){if(e.code){var t=e.code||"";0==t.indexOf(Se)&&(t=t.substring(Se.length));var n={credential:No(e)};if(e.email)n.ub=e.email;else if(e.phoneNumber)n.Z=e.phoneNumber;else return new Le(t,e.message||void 0);return new Oo(t,n,e.message)}return null}function Lo(){}function Fo(e){return e.c||(e.c=e.b())}function Uo(){}function jo(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0,o;n<t.length;n++){o=t[n];try{return new ActiveXObject(o),e.f=o}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Bo(){}function Vo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=j(this.bc,this),this.a.onerror=j(this.zb,this),this.a.onprogress=j(this.cc,this),this.a.ontimeout=j(this.fc,this)}function qo(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Wo(e,t,n){this.reset(e,t,n,void 0,void 0)}function zo(e){this.f=e,this.b=this.c=this.a=null}function Ho(e,t){this.name=e,this.value=t}function Ko(e){return e.c?e.c:e.a?Ko(e.a):(nt("Root logger has no level set."),null)}function Go(e){lc||(lc=new zo(""),dc[""]=lc,lc.c=ic);var t;if(!(t=dc[e])){t=new zo(e);var n=e.lastIndexOf("."),o=e.substr(n+1);n=Go(e.substr(0,n)),n.b||(n.b={}),n.b[o]=t,t.a=n,dc[e]=t}return t}function Qo(e,t){e&&e.log(sc,t,void 0)}function Q(e){this.f=e}function Yo(e){mn.call(this),this.j=e,this.readyState=pc,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=Go("goog.net.FetchXmlHttp")}function Xo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function $o(e){mn.call(this),this.headers=new En,this.D=e||null,this.c=!1,this.B=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.j=this.G=!1,this.g=0,this.s=null,this.o=cc,this.v=this.O=!1}function Jo(t,n,o,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+n);o=o?o.toUpperCase():"GET",t.l=n,t.h="",t.N=o,t.G=!1,t.c=!0,t.a=t.D?t.D.a():nc.a(),t.B=t.D?Fo(t.D):Fo(nc),t.a.onreadystatechange=j(t.Db,t);try{Qo(t.b,dr(t,"Opening Xhr")),t.I=!0,t.a.open(o,n+"",!0),t.I=!1}catch(e){return Qo(t.b,dr(t,"Error opening Xhr: "+e.message)),void Ea(t,e)}n=r||"";var e=new En(t.headers);i&&vn(i,function(t,n){e.set(n,t)}),i=lt(e.U()),r=np.FormData&&n instanceof np.FormData,!pt(mc,o)||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),e.forEach(function(e,t){this.a.setRequestHeader(t,e)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{or(t),0<t.g&&(t.v=Zo(t.a),Qo(t.b,dr(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=j(t.Fa,t)):t.s=gn(t.Fa,t.g,t)),Qo(t.b,dr(t,"Sending request")),t.j=!0,t.a.send(n),t.j=!1}catch(e){Qo(t.b,dr(t,"Send error: "+e.message)),Ea(t,e)}}function Zo(e){return mp&&Qt(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function er(e){return"content-type"==e.toLowerCase()}function Ea(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,tr(e),ar(e)}function tr(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function nr(t){if(t.c&&"undefined"!=typeof tp)if(t.B[1]&&4==rr(t)&&2==ir(t))Qo(t.b,dr(t,"Local request error detected and ignored"));else if(t.j&&4==rr(t))gn(t.Db,0,t);else if(t.dispatchEvent("readystatechange"),4==rr(t)){Qo(t.b,dr(t,"Request complete")),t.c=!1;try{var n=ir(t);a:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break a;default:o=!1;}var r;if(!(r=o)){var i;if(i=0===n){var e=(t.l+"").match(Lp)[1]||null;if(!e&&np.self&&np.self.location){var s=np.self.location.protocol;e=s.substr(0,s.length-1)}i=!uc.test(e?e.toLowerCase():"")}r=i}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var d=2<rr(t)?t.a.statusText:""}catch(e){Qo(t.b,"Can not get status: "+e.message),d=""}t.h=d+" ["+ir(t)+"]",tr(t)}}finally{ar(t)}}}function ar(t,e){if(t.a){or(t);var n=t.a,o=t.B[0]?p:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=o}catch(n){(t=t.b)&&t.log(oc,"Problem encountered resetting onreadystatechange: "+n.message,void 0)}}}function or(e){e.a&&e.v&&(e.a.ontimeout=null),e.s&&(np.clearTimeout(e.s),e.s=null)}function rr(e){return e.a?e.a.readyState:0}function ir(e){try{return 2<rr(e)?e.a.status:-1}catch(e){return-1}}function sr(e){try{return e.a?e.a.responseText:""}catch(t){return Qo(e.b,"Can not get responseText: "+t.message),""}}function dr(e,t){return t+" ["+e.N+" "+e.l+" "+ir(e)+"]"}/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/function lr(e,t){this.g=[],this.v=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.j=!1,this.h=0,this.b=null,this.l=0}function pr(e,t,n){e.a=!0,e.c=n,e.f=!t,fr(e)}function cr(e){if(e.a){if(!e.u)throw new gr(e);e.u=!1}}function ur(e,t){mr(e,null,t,void 0)}function mr(e,t,n,o){e.g.push([t,n,o]),e.a&&fr(e)}function hr(e){return Ba(e.g,function(e){return h(e[1])})}function fr(t){if(t.h&&t.a&&hr(t)){var n=t.h,o=hc[n];o&&(np.clearTimeout(o.a),delete hc[n]),t.h=0}t.b&&(t.b.l--,delete t.b),n=t.c;for(var r=o=!1;t.g.length&&!t.j;){var i=t.g.shift(),e=i[0],s=i[1];if(i=i[2],e=t.f?s:e)try{var d=e.call(i||t.s,n);void 0!==d&&(t.f=t.f&&(d==n||d instanceof Error),t.c=n=d),(et(n)||"function"==typeof np.Promise&&n instanceof np.Promise)&&(r=!0,t.j=!0)}catch(e){n=e,t.f=!0,hr(t)||(o=!0)}}t.c=n,r&&(d=j(t.o,t,!0),r=j(t.o,t,!1),n instanceof lr?(mr(n,d,r),n.B=!0):n.then(d,r)),o&&(n=new br(n),hc[n.a]=n,t.h=n.a)}function gr(){tt.call(this)}function yr(){tt.call(this)}function br(e){this.a=np.setTimeout(j(this.c,this),0),this.b=e}function _r(t){var n={},o=n.document||document,r=Gn(t),i=document.createElement("SCRIPT"),s={Fb:i,Fa:void 0},d=new lr(Er,s),l=null,c=null==n.timeout?5E3:n.timeout;return 0<c&&(l=window.setTimeout(function(){Cr(i,!0);var e=new Tr(gc,"Timeout reached for loading script "+r);cr(d),pr(d,!1,e)},c),s.Fa=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Cr(i,n.bd||!1,l),d.D())},i.onerror=function(){Cr(i,!0,l);var e=new Tr(fc,"Error while loading script "+r);cr(d),pr(d,!1,e)},s=n.attributes||{},vt(s,{type:"text/javascript",charset:"UTF-8"}),da(i,s),i.src=Gn(t),vr(o).appendChild(i),d}function vr(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}function Er(){if(this&&this.Fb){var e=this.Fb;e&&"SCRIPT"==e.tagName&&Cr(e,!0,this.Fa)}}function Cr(e,t,n){null!=n&&np.clearTimeout(n),e.onload=p,e.onerror=p,e.onreadystatechange=p,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}function Tr(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),tt.call(this,n),this.code=e}function Ir(e){this.f=e}function Sr(e,t,n){if(this.b=e,e=t||{},this.j=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=e.secureTokenTimeout||bc,this.f=_t(e.secureTokenHeaders||_c),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||vc,this.a=_t(e.firebaseHeaders||Ec),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==ke(),n=np.XMLHttpRequest||n&&ep.INTERNAL.node&&ep.INTERNAL.node.XMLHttpRequest,!n&&!je())throw new Le("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=je()?new Q(self):le()?new Ir(n):new Bo}function kr(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function xr(e,t){t?(e.a["X-Client-Version"]=t,e.f["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.f["X-Client-Version"])}function Nr(t,n,o,r,i,e,s){Ia()||je()?t=j(t.o,t):(Cc||(Cc=new kt(function(e,t){wr(e,t)})),t=j(t.u,t)),t(n,o,r,i,e,s)}function wr(e,t){if(((window.gapi||{}).client||{}).request)e();else{np[Ic]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var n=Qn(Tc,{onload:Ic});ur(_r(n),function(){t(Error("CORS_UNSUPPORTED"))})}}function Rr(e,t){return new kt(function(n,o){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?Nr(e,e.j+"?key="+encodeURIComponent(e.b),function(e){e?e.error?o(Qr(e)):e.access_token&&e.refresh_token?n(e):o(new Le("internal-error")):o(new Le("network-request-failed"))},"POST",Fn(t).toString(),e.f,e.l.get()):o(new Le("internal-error"))})}function Pr(t,n,o,r,i,e){var s=Rn(t.g+n);wn(s,"key",t.b),e&&wn(s,"cb",ja().toString());var d="GET"==o;if(d)for(var l in r)r.hasOwnProperty(l)&&wn(s,l,r[l]);return new kt(function(e,n){Nr(t,s.toString(),function(t){t?t.error?n(Qr(t,i||{})):e(t):n(new Le("network-request-failed"))},o,d?void 0:ua(ue(r)),t.a,t.h.get())})}function Ar(e){if(!tc.test(e.email))throw new Le("invalid-email")}function Dr(e){"email"in e&&Ar(e)}function Or(e,t){return Gr(e,oi,{identifier:t,continueUri:re()?_a():"http://localhost"}).then(function(e){return e.allProviders||[]})}function Mr(e,t){return Gr(e,oi,{identifier:t,continueUri:re()?_a():"http://localhost"}).then(function(e){return e.signinMethods||[]})}function Lr(e){return Gr(e,Ac,{}).then(function(e){return e.authorizedDomains||[]})}function Fr(e){if(!e[yc])throw new Le("internal-error")}function Ur(e){if(!(e.phoneNumber||e.temporaryProof)){if(!e.sessionInfo)throw new Le("missing-verification-id");if(!e.code)throw new Le("missing-verification-code")}else if(!e.phoneNumber||!e.temporaryProof)throw new Le("internal-error")}function jr(e,t){return Gr(e,li,t)}function Br(e,t,n){return Gr(e,pi,{idToken:t,deleteProvider:n})}function Vr(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new Le("internal-error")}function qr(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Mo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Mo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Mo(e)):e.errorMessage&&(t=P(e.errorMessage)),t)throw t;if(!e[yc])throw new Le("internal-error")}function Wr(e,t){return t.returnIdpCredential=!0,Gr(e,Lc,t)}function zr(e,t){return t.returnIdpCredential=!0,Gr(e,ji,t)}function Hr(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Gr(e,hi,t)}function Kr(e){if(!e.oobCode)throw new Le("invalid-action-code")}function Gr(t,n,o){if(!Ie(o,n.T))return A(new Le("internal-error"));var r=n.Cb||"POST",i;return Nt(o).then(n.A).then(function(){return n.R&&(o.returnSecureToken=!0),Pr(t,n.endpoint,r,o,n.Tb,n.pb||!1)}).then(function(e){return i=e}).then(n.J).then(function(){if(!n.ba)return i;if(!(n.ba in i))throw new Le("internal-error");return i[n.ba]})}function P(e){return Qr({error:{errors:[{message:e}],code:400,message:e}})}function Qr(t,n){var o=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(o=r[o]?new Le(r[o]):null)return o;for(var i in o=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},vt(r,n||{}),n=(n=o.match(/^[^\s]+\s*:\s*(.*)$/))&&1<n.length?n[1]:void 0,r)if(0===o.indexOf(i))return new Le(r[i],n);return!n&&t&&(n=te(t)),new Le("internal-error",n)}function Yr(e){for(var t in jc)if(jc[t].id===e)return e=jc[t],{firebaseEndpoint:e.Ya,secureTokenEndpoint:e.eb};return null}function Xr(e){this.b=e,this.a=null,this.ab=$r(this)}function $r(t){return ci().then(function(){return new kt(function(e,n){I("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:I("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(o){function r(){clearTimeout(i),e()}t.a=o,t.a.restyle({setHideOnLeave:!1});var i=setTimeout(function(){n(Error("Network Error"))},Di.get());o.ping(r).then(r,function(){n(Error("Network Error"))})})})})}function Jr(e,t){return e.ab.then(function(){return new kt(function(n){e.a.send(t.type,t,n,I("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Zr(e,t){e.ab.then(function(){e.a.register("authEvent",t,I("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function ci(){return zi?zi:zi=new kt(function(e,t){function n(){xe(),I("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){xe(),t(Error("Network Error"))},timeout:Ci.get()})}if(I("gapi.iframes.Iframe"))e();else if(I("gapi.load"))n();else{var r="__iframefcb"+o(1E6*Math.random()).toString();np[r]=function(){I("gapi.load")?n():t(Error("Network Error"))},r=Qn(vi,{onload:r}),Nt(_r(r)).m(function(){t(Error("Network Error"))})}}).m(function(e){throw zi=null,e})}function ui(e,t,n){this.j=e,this.g=t,this.h=n,this.f=null,this.a=Pn(this.j,"/__/auth/iframe"),wn(this.a,"apiKey",this.g),wn(this.a,"appName",this.h),this.b=null,this.c=[]}function gi(t,n,o,r,i){this.o=t,this.u=n,this.c=o,this.l=r,this.h=this.g=this.j=null,this.a=i,this.f=null}function yi(e){try{return ep.app(e).auth().Ka()}catch(e){return[]}}function _i(t,n,o,r,i){this.u=t,this.f=n,this.b=o,this.c=r||null,this.h=i||null,this.o=this.s=this.v=null,this.g=[],this.l=this.a=null}function Ii(e){var t=_a();return Lr(e).then(function(n){a:{var o=Rn(t),r=o.c;o=o.b;for(var e=0;e<n.length;e++){var i=n[e],s=o,d=r;if(0==i.indexOf("chrome-extension://")?s=Rn(i).b==s&&"chrome-extension"==d:"http"!=d&&"https"!=d?s=!1:Sd.test(i)?s=s==i:(i=i.split(".").join("\\."),s=new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)),s){n=!0;break a}}n=!1}if(!n)throw new Do(_a())})}function xi(t){return t.l?t.l:(t.l=de().then(function(){if(!t.s){var n=t.c,o=t.h,r=yi(t.b),i=new ui(t.u,t.f,t.b);i.f=n,i.b=o,i.c=mt(r||[]),t.s=i.toString()}t.j=new Xr(t.s),Ai(t)}),t.l)}function wi(e){return e.o||(e.v=e.c?Aa(e.c,yi(e.b)):null,e.o=new Sr(e.f,Yr(e.h),e.v)),e.o}function Ni(t,n,o,r,i,e,s,d,l,p){return t=new gi(t,n,o,r,i),t.j=e,t.g=s,t.h=d,t.b=_t(l||null),t.f=p,t.toString()}function Ai(e){if(!e.j)throw Error("IfcHandler must be initialized!");Zr(e.j,function(t){var n={};if(t&&t.authEvent){var o=!1;for(t=Po(t.authEvent),n=0;n<e.g.length;n++)o=e.g[n](t)||o;return n={},n.status=o?"ACK":"ERROR",Nt(n)}return n.status="ERROR",Nt(n)})}function Oi(e){var t={type:"webStorageSupport"};return xi(e).then(function(){return Jr(e.j,t)}).then(function(e){if(e&&e.length&&"undefined"!=typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})}function Mi(e){if(this.a=e||ep.INTERNAL.reactNative&&ep.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Le("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Li(){if(!Bi())throw new Le("web-storage-unsupported");this.f={},this.a=[],this.b=0,this.g=np.indexedDB,this.type="indexedDB"}function Fi(e){return new kt(function(t,n){var o=e.g.deleteDatabase("firebaseLocalStorageDb");o.onsuccess=function(){t()},o.onerror=function(e){n(Error(e.target.error))}})}function Ti(e){return new kt(function(t,n){var o=e.g.open("firebaseLocalStorageDb",1);o.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},o.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},o.onsuccess=function(o){o=o.target.result,o.objectStoreNames.contains("firebaseLocalStorage")?t(o):Fi(e).then(function(){return Ti(e)}).then(function(e){t(e)}).m(function(e){n(e)})}})}function Ui(e){return e.h||(e.h=Ti(e)),e.h}function Bi(){try{return!!np.indexedDB}catch(e){return!1}}function Ri(e){return e.objectStore("firebaseLocalStorage")}function Vi(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Wi(e){return new kt(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})}function Hi(e){function t(){return e.c=yn(800).then(j(e.Jc,e)).then(function(t){0<t.length&&za(e.a,function(e){e(t)})}).then(t).m(function(e){"STOP_EVENT"!=e.message&&t()}),e.c}e.c&&e.c.cancel("STOP_EVENT"),t()}function Ki(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Nt().then(function(){return Bi()?(Ei||(Ei=new Li),n=Ei,n.set("__sak","!").then(function(){return n.get("__sak")}).then(function(e){if("!"!==e)throw Error("indexedDB not supported!");return n.P("__sak")}).then(function(){return n}).m(function(){return t.c})):t.c}).then(function(e){return t.type=e.type,e.Y(function(e){za(t.a,function(t){t(e)})}),e})}function Gi(){this.a={},this.type="inMemory"}function Qi(){if(!Xi()){if("Node"==ke())throw new Le("internal-error","The LocalStorage compatibility library was not found.");throw new Le("web-storage-unsupported")}this.a=Yi()||ep.INTERNAL.node.localStorage,this.type="localStorage"}function Yi(){try{var e=np.localStorage,t=we();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Xi(){var e="Node"==ke();if(e=Yi()||e&&ep.INTERNAL.node&&ep.INTERNAL.node.localStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function $i(){this.type="nullStorage"}function Ji(){if(!es()){if("Node"==ke())throw new Le("internal-error","The SessionStorage compatibility library was not found.");throw new Le("web-storage-unsupported")}this.a=Zi()||ep.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Zi(){try{var e=np.sessionStorage,t=we();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function es(){var e="Node"==ke();if(e=Zi()||e&&ep.INTERNAL.node&&ep.INTERNAL.node.sessionStorage,!e)return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}function ts(){var e={};e.Browser=Si,e.Node=Bc,e.ReactNative=Vc,e.Worker=qc,this.a=e[ke()]}function ns(e){var t=new Le("invalid-persistence-type"),n=new Le("unsupported-persistence-type");a:{for(o in Wc)if(Wc[o]==e){var o=!0;break a}o=!1}if(!o||"string"!=typeof e)throw t;switch(ke()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!J()&&"none"!==e)throw n;}}function as(){var e=!qe(oe())&&he(),t=ie(),n=J();this.o=e,this.h=t,this.l=n,this.a={},zc||(zc=new ts),e=zc;try{this.g=(ga()||!Ce())&&np.indexedDB?new Ki(je()?new Gi:new e.a.w):new e.a.w}catch(e){this.g=new Gi,this.h=!0}try{this.j=new e.a.Pa}catch(e){this.j=new Gi}this.u=new Gi,this.f=j(this.Kb,this),this.b={}}function os(){return Hc||(Hc=new as),Hc}function rs(e,t){return"session"===t?e.j:"none"===t?e.u:e.g}function is(e,t){return"firebase:"+e.name+(t?":"+t:"")}function ss(t,n,o){var r=is(n,o),i=rs(t,n.w);return t.get(n,o).then(function(e){var s=null;try{s=ve(np.localStorage.getItem(r))}catch(e){}return s&&!e?(np.localStorage.removeItem(r),t.set(n,s,o)):void(s&&e&&"localStorage"!=i.type&&np.localStorage.removeItem(r))})}function ds(e,t,n){return n=is(t,n),"local"==t.w&&(e.b[n]=null),rs(e,t.w).P(n)}function ls(e){ps(e),e.c=setInterval(function(){for(var t in e.a){var n=np.localStorage.getItem(t),o=e.b[t];n!=o&&(e.b[t]=n,n=new D({type:"storage",key:t,target:window,oldValue:o,newValue:n,a:!0}),e.Kb(n))}},1E3)}function ps(e){e.c&&(clearInterval(e.c),e.c=null)}function cs(e){this.a=e,this.b=os()}function us(e){return e.b.get(Kc,e.a).then(function(e){return Po(e)})}function ms(){this.a=os()}function hs(e,t){this.b=-1,this.b=Qc,this.f=np.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.j=e,this.h=t,this.l=np.Int32Array?new Int32Array(64):Array(64),void 0!==Gc||(np.Int32Array?Gc=new Int32Array(Jc):Gc=Jc),this.reset()}function fs(t){for(var n=t.f,o=t.l,r=0,i=0;i<n.length;)o[r++]=n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3],i=4*r;for(n=16;64>n;n++){i=0|o[n-15],r=0|o[n-2];var e=0|(0|o[n-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3),s=0|(0|o[n-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10);o[n]=0|e+s}r=0|t.a[0],i=0|t.a[1];var d=0|t.a[2],l=0|t.a[3],p=0|t.a[4],c=0|t.a[5],u=0|t.a[6];for(e=0|t.a[7],n=0;64>n;n++){var m=0|((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&d^i&d);s=p&c^~p&u,e=0|e+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)),s=0|s+(0|Gc[n]),s=0|e+(0|s+(0|o[n])),e=u,u=c,c=p,p=0|l+s,l=d,d=i,i=r,r=0|s+m}t.a[0]=0|t.a[0]+r,t.a[1]=0|t.a[1]+i,t.a[2]=0|t.a[2]+d,t.a[3]=0|t.a[3]+l,t.a[4]=0|t.a[4]+p,t.a[5]=0|t.a[5]+c,t.a[6]=0|t.a[6]+u,t.a[7]=0|t.a[7]+e}function gs(t,n,o){void 0===o&&(o=n.length);var r=0,s=t.c;if(i(n))for(;r<o;)t.f[s++]=n.charCodeAt(r++),s==t.b&&(fs(t),s=0);else if(m(n))for(;r<o;){var e=n[r++];if(!("number"==typeof e&&0<=e&&255>=e&&e==(0|e)))throw Error("message must be a byte array");t.f[s++]=e,s==t.b&&(fs(t),s=0)}else throw Error("message must be string or array");t.c=s,t.g+=o}function ys(){hs.call(this,8,Zc)}function bs(t,n,o,r,i){this.u=t,this.j=n,this.l=o,this.o=r||null,this.s=i||null,this.h=n+":"+o,this.v=new ms,this.g=new cs(this.h),this.f=null,this.b=[],this.a=this.c=null}function _s(e){return new Le("invalid-cordova-configuration",e)}function vs(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(o(62*Math.random()))),e--;return t.join("")}function Es(t){var n=new ys;gs(n,t),t=[];var o=8*n.g;56>n.c?gs(n,$c,56-n.c):gs(n,$c,n.b-(n.c-56));for(var r=63;56<=r;r--)n.f[r]=255&o,o/=256;for(fs(n),r=o=0;r<n.j;r++)for(var i=24;0<=i;i-=8)t[o++]=255&n.a[r]>>i;return La(t)}function Cs(t,n,o,r){var i=vs(),e=new Ro(n,r,null,i,new Le("no-auth-event")),s=I("BuildInfo.packageName",np);if("string"!=typeof s)throw new Le("invalid-cordova-configuration");var d=I("BuildInfo.displayName",np),l={};if(oe().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else if(oe().toLowerCase().match(/android/))l.apn=s;else return A(new Le("operation-not-supported-in-this-environment"));d&&(l.appDisplayName=d),i=Es(i),l.sessionId=i;var p=Ni(t.u,t.j,t.l,n,o,null,r,t.o,l,t.s);return t.ea().then(function(){var n=t.h;return t.v.a.set(Kc,e.C(),n)}).then(function(){var e=I("cordova.plugins.browsertab.isAvailable",np);if("function"!=typeof e)throw new Le("invalid-cordova-configuration");var n=null;e(function(e){if(e){if(n=I("cordova.plugins.browsertab.openUrl",np),"function"!=typeof n)throw new Le("invalid-cordova-configuration");n(p)}else{if(n=I("cordova.InAppBrowser.open",np),"function"!=typeof n)throw new Le("invalid-cordova-configuration");e=oe(),e=e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i),t.a=n(p,e?"_blank":"_system","location=yes")}})})}function Ts(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function Is(e){return e.f||(e.f=e.ea().then(function(){return new kt(function(t){function n(o){return t(o),e.Ja(n),!1}e.va(n),ks(e)})})),e.f}function Ss(e){var t=null;return us(e.g).then(function(n){return t=n,n=e.g,ds(n.b,Kc,n.a)}).then(function(){return t})}function ks(t){function n(n){r=!0,i&&i.cancel(),Ss(t).then(function(r){var i=o;if(r&&n&&n.url){var e=null;i=so(n.url),-1!=i.indexOf("/__/auth/callback")&&(e=Rn(i),e=ve(H(e,"firebaseError")||null),e=(e="object"==typeof e?Da(e):null)?new Ro(r.b,r.c,null,null,e):new Ro(r.b,r.c,i,r.g)),i=e||o}Ts(t,i)})}var o=new Ro("unknown",null,null,null,new Le("no-auth-event")),r=!1,i=yn(500).then(function(){return Ss(t).then(function(){r||Ts(t,o)})}),e=np.handleOpenURL;np.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(I("BuildInfo.packageName",np).toLowerCase()+"://")&&n({url:t}),"function"==typeof e)try{e(t)}catch(e){console.error(e)}},ec||(ec=new Ao),ec.subscribe(n)}function xs(e){this.a=e,this.b=os()}function Ns(e){return e.b.set(eu,"pending",e.a)}function ws(e){return ds(e.b,eu,e.a)}function Rs(e){return e.b.get(eu,e.a).then(function(e){return"pending"==e})}function Ps(e,t,n){this.v=e,this.l=t,this.u=n,this.h=[],this.f=!1,this.j=j(this.o,this),this.c=new Us,this.s=new Hs,this.g=new xs(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.s,this.b.linkViaPopup=this.s,this.b.reauthViaPopup=this.s,this.a=As(this.v,this.l,this.u,ti)}function As(t,n,o,r){var i=ep.SDK_VERSION||null;return ge()?new bs(t,n,o,i,r):new _i(t,n,o,i,r)}function Ds(e){e.f||(e.f=!0,e.a.va(e.j));var t=e.a;return e.a.ea().m(function(n){throw e.a==t&&e.reset(),n})}function Os(e){e.a.Gb()&&Ds(e).m(function(t){var n=new Ro("unknown",null,null,null,new Le("operation-not-supported-in-this-environment"));Ls(t)&&e.o(n)}),e.a.Bb()||js(e.c)}function Ms(t,n,o,r,i,e){return t.a.xb(n,o,r,function(){t.f||(t.f=!0,t.a.va(t.j))},function(){t.reset()},i,e)}function Ls(e){return e&&"auth/cordova-not-ready"==e.code}function Fs(e,t,n){var o=t+":"+n;return au[o]||(au[o]=new Ps(e,t,n)),au[o]}function Us(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function js(e){e.g||(e.g=!0,Ws(e,!1,null,null))}function Bs(t,n,o){o=o.wa(n.b,n.c);var r=n.f,i=n.g,e=!!n.b.match(/Redirect$/);o(r,i).then(function(n){Ws(t,e,n,null)}).m(function(n){Ws(t,e,null,n)})}function Vs(e,t){if(e.b=function(){return A(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}function qs(e,t){if(e.b=function(){return Nt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Ws(e,t,n,o){t?o?Vs(e,o):qs(e,n):qs(e,{user:null}),e.f=[],e.c=[]}function zs(e){var t=new Le("timeout");e.a&&e.a.cancel(),e.a=yn(nu.get()).then(function(){e.b||Ws(e,!0,null,t)})}function Hs(){}function Ks(e,t){var n=e.c,o=e.b;t.wa(o,n)(e.f,e.g).then(function(e){t.ga(o,e,null,n)}).m(function(e){t.ga(o,null,e,n)})}function Gs(e,t){this.a=t,De(this,"verificationId",e)}function Qs(e,t,n,o){return new ko(e).Sa(t,n).then(function(e){return new Gs(e,o)})}function Ys(e){var t=Xa(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Le("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");K(this,{token:e,expirationTime:Be(1E3*t.exp),authTime:Be(1E3*t.auth_time),issuedAtTime:Be(1E3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}function Xs(e,t,n){if(this.h=e,this.j=t,this.g=n,this.c=3E4,this.f=96E4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function $s(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function Js(e,t){e.stop(),e.b=yn($s(e,t)).then(function(){return Ae()}).then(function(){return e.h()}).then(function(){Js(e,!0)}).m(function(t){e.j(t)&&Js(e,!1)})}function Zs(e){this.f=e,this.b=this.a=null,this.c=0}function ed(e,t){var n=t[yc],o=t.refreshToken;t=td(t.expiresIn),e.b=n,e.c=t,e.a=o}function td(e){return ja()+1E3*parseInt(e,10)}function od(e,t){return Rr(e.f,t).then(function(t){return e.b=t.access_token,e.c=td(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).m(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function id(e,t){this.a=e||null,this.b=t||null,K(this,{lastSignInTime:Be(t||null),creationTime:Be(e||null)})}function sd(e){return new id(e.a,e.b)}function dd(t,n,o,r,i,e){K(this,{uid:t,displayName:r||null,photoURL:i||null,email:o||null,phoneNumber:e||null,providerId:n})}function pd(e,t){for(var n in Yt.call(this,e),t)this[n]=t[n]}function cd(e,t,n){this.D=[],this.G=e.apiKey,this.s=e.appName,this.B=e.authDomain||null,e=ep.SDK_VERSION?Aa(ep.SDK_VERSION):null,this.b=new Sr(this.G,Yr(ti),e),this.h=new Zs(this.b),Td(this,t[yc]),ed(this.h,t),De(this,"refreshToken",this.h.a),Nd(this,n||{}),mn.call(this),this.I=!1,this.B&&pe()&&(this.a=Fs(this.B,this.G,this.s)),this.N=[],this.j=null,this.l=bd(this),this.V=j(this.Ga,this);var o=this;this.ia=null,this.sa=function(e){o.na(e.g)},this.X=null,this.O=[],this.ra=function(e){hd(o,e.c)},this.W=null}function md(e,t){e.X&&rn(e.X,"languageCodeChanged",e.sa),(e.X=t)&&tn(t,"languageCodeChanged",e.sa)}function hd(e,t){e.O=t,xr(e.b,ep.SDK_VERSION?Aa(ep.SDK_VERSION,e.O):null)}function fd(e,t){e.W&&rn(e.W,"frameworkChanged",e.ra),(e.W=t)&&tn(t,"frameworkChanged",e.ra)}function gd(e){try{return ep.app(e.s).auth()}catch(t){throw new Le("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.s+"'!")}}function bd(e){return new Xs(function(){return e.F(!0)},function(e){return e&&"auth/network-request-failed"==e.code},function(){var t=e.h.c-ja()-3E5;return 0<t?t:0})}function _d(e){e.o||e.l.b||(e.l.start(),rn(e,"tokenChanged",e.V),tn(e,"tokenChanged",e.V))}function Cd(e){rn(e,"tokenChanged",e.V),e.l.stop()}function Td(e,t){e.qa=t,De(e,"_lat",t)}function Id(e,t){ut(e.N,function(e){return e==t})}function kd(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return Rt(t).then(function(){return e})}function xd(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function Nd(e,t){K(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new id(t.createdAt,t.lastLoginAt),providerData:[]})}function wd(){}function Pd(e){return Nt().then(function(){if(e.o)throw new Le("app-deleted")})}function Dd(e){return v(e.providerData,function(e){return e.providerId})}function Od(e,t){t&&(Md(e,t.providerId),e.providerData.push(t))}function Md(e,t){ut(e.providerData,function(e){return e.providerId==t})}function Ld(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&De(e,t,n)}function Fd(e,t){e!=t&&(K(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?De(e,"metadata",sd(t.metadata)):De(e,"metadata",new id),za(t.providerData,function(t){Od(e,t)}),e.h=t.h,De(e,"refreshToken",e.h.a))}function Ud(e){return e.F().then(function(t){var n=e.isAnonymous;return Bd(e,t).then(function(){return n||Ld(e,"isAnonymous",!1),t})})}function jd(e,t){t[yc]&&e.qa!=t[yc]&&(ed(e.h,t),e.dispatchEvent(new pd("tokenChanged")),Td(e,t[yc]),Ld(e,"refreshToken",e.h.a))}function Bd(e,t){return Gr(e.b,wc,{idToken:t}).then(j(e.uc,e))}function Vd(e){return(e=e.providerUserInfo)&&e.length?v(e,function(e){return new dd(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}function qd(e,t){return Ud(e).then(function(){if(pt(Dd(e),t))return kd(e).then(function(){throw new Le("provider-already-linked")})})}function Wd(e,t,n){var o=No(t);return t=Za(t),L({user:e,credential:o,additionalUserInfo:t,operationType:n})}function zd(e,t){return jd(e,t),e.reload().then(function(){return e})}function Hd(t,n,o,r,i){if(!pe())return A(new Le("operation-not-supported-in-this-environment"));if(t.j&&!i)return A(t.j);var s=Ja(o.providerId),l=we(t.uid+":::"),d=null;(!ie()||he())&&t.B&&o.isOAuthProvider&&(d=Ni(t.B,t.G,t.s,n,o,null,l,ep.SDK_VERSION||null));var u=ae(d,s&&s.Aa,s&&s.za);return r=r().then(function(){if(Gd(t),!i)return t.F().then(function(){})}).then(function(){return Ms(t.a,u,n,o,l,!!d)}).then(function(){return new kt(function(e,o){t.ga(n,null,new Le("cancelled-popup-request"),t.g||null),t.f=e,t.v=o,t.g=l,t.c=t.a.Da(t,n,u,l)})}).then(function(e){return u&&xa(u),e?L(e):null}).m(function(e){throw u&&xa(u),e}),Qd(t,r,i)}function Kd(t,n,o,r,i){if(!pe())return A(new Le("operation-not-supported-in-this-environment"));if(t.j&&!i)return A(t.j);var s=null,d=we(t.uid+":::");return r=r().then(function(){if(Gd(t),!i)return t.F().then(function(){})}).then(function(){return t.$=d,kd(t)}).then(function(e){return t.fa&&(e=t.fa,e=e.b.set(ou,t.C(),e.a)),e}).then(function(){return t.a.Ba(n,o,d)}).m(function(e){if(s=e,t.fa)return el(t.fa);throw s}).then(function(){if(s)throw s}),Qd(t,r,i)}function Gd(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new Le("internal-error");throw new Le("auth-domain-config-required")}}function Qd(e,t,n){var o=R(e,t,n);return e.D.push(o),o.ha(function(){ct(e.D,o)}),o}function R(e,t,n){return e.j&&!n?(t.cancel(),A(e.j)):t.m(function(t){throw t&&("auth/user-disabled"==t.code||"auth/user-token-expired"==t.code)&&(e.j||e.dispatchEvent(new pd("userInvalidated")),e.j=t),t})}function Yd(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime)n[yc]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-ja())/1E3;else return null;var o=new cd(t,n,e);return e.providerData&&za(e.providerData,function(e){e&&Od(o,L(e))}),e.redirectEventId&&(o.$=e.redirectEventId),o}function Xd(t,n,o,r){var i=new cd(t,n);return o&&(i.fa=o),r&&hd(i,r),i.reload().then(function(){return i})}function $d(e){this.a=e,this.b=os()}function el(e){return ds(e.b,ou,e.a)}function tl(e,t){return e.b.get(ou,e.a).then(function(e){return e&&t&&(e.authDomain=t),Yd(e||{})})}function nl(e){this.a=e,this.b=os(),this.c=null,this.f=rl(this),this.b.addListener(il("local"),this.a,j(this.g,this))}function al(e,t){var n=[],o;for(o in Wc)Wc[o]!==t&&n.push(ds(e.b,il(Wc[o]),e.a));return n.push(ds(e.b,ol,e.a)),wt(n)}function rl(t){var e=il("local"),n=il("session"),o=il("none");return ss(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(r){return r?n:t.b.get(o,t.a).then(function(n){return n?o:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(ol,t.a).then(function(t){return t?il(t):e})})})}).then(function(e){return t.c=e,al(t,e.w)}).m(function(){t.c||(t.c=e)})}function il(e){return{name:"authUser",w:e}}function sl(e){return cl(e,function(){return e.b.set(ol,e.c.w,e.a)})}function dl(e,t){return cl(e,function(){return e.b.set(e.c,t.C(),e.a)})}function ll(e){return cl(e,function(){return ds(e.b,e.c,e.a)})}function pl(e,t){return cl(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),Yd(e||{})})})}function cl(e,t){return e.f=e.f.then(t,t),e.f}function ul(e){if(this.l=!1,De(this,"app",e),Sl(this).options&&Sl(this).options.apiKey)e=ep.SDK_VERSION?Aa(ep.SDK_VERSION):null,this.b=new Sr(Sl(this).options&&Sl(this).options.apiKey,Yr(ti),e);else throw new Le("invalid-api-key");this.N=[],this.o=[],this.I=[],this.Ob=ep.INTERNAL.createSubscribe(j(this.ic,this)),this.O=void 0,this.Pb=ep.INTERNAL.createSubscribe(j(this.jc,this)),_l(this,null),this.h=new nl(Sl(this).options.apiKey+":"+Sl(this).name),this.G=new $d(Sl(this).options.apiKey+":"+Sl(this).name),this.V=Tl(this,El(this)),this.j=Tl(this,Cl(this)),this.X=!1,this.ia=j(this.Ic,this),this.Ga=j(this.ka,this),this.qa=j(this.Yb,this),this.ra=j(this.gc,this),this.sa=j(this.hc,this),yl(this),this.INTERNAL={},this.INTERNAL["delete"]=j(this.delete,this),this.INTERNAL.logFramework=j(this.qc,this),this.s=0,mn.call(this),fl(this),this.D=[]}function ml(e){Yt.call(this,"languageCodeChanged"),this.g=e}function hl(e){Yt.call(this,"frameworkChanged"),this.c=e}function fl(e){Object.defineProperty(e,"lc",{get:function(){return this.ca()},set:function(e){this.na(e)},enumerable:!1}),e.W=null}function gl(e){return e.Nb||A(new Le("auth-domain-config-required"))}function yl(e){var t=Sl(e).options.authDomain,n=Sl(e).options.apiKey;t&&pe()&&(e.Nb=e.V.then(function(){if(!e.l){if(e.a=Fs(t,n,Sl(e).name),e.a.subscribe(e),S(e)&&xd(S(e)),e.B){xd(e.B);var o=e.B;o.na(e.ca()),md(o,e),o=e.B,hd(o,e.D),fd(o,e),e.B=null}return e.a}}))}function bl(e,t){var n={apiKey:Sl(e).options.apiKey,authDomain:Sl(e).options.authDomain,appName:Sl(e).name};return e.V.then(function(){return Xd(n,t,e.G,e.Ka())}).then(function(t){return S(e)&&t.uid==S(e).uid?(Fd(S(e),t),e.ka(t)):(_l(e,t),xd(t),e.ka(t))}).then(function(){kl(e)})}function _l(e,t){S(e)&&(Id(S(e),e.Ga),rn(S(e),"tokenChanged",e.qa),rn(S(e),"userDeleted",e.ra),rn(S(e),"userInvalidated",e.sa),Cd(S(e))),t&&(t.N.push(e.Ga),tn(t,"tokenChanged",e.qa),tn(t,"userDeleted",e.ra),tn(t,"userInvalidated",e.sa),0<e.s&&_d(t)),De(e,"currentUser",t),t&&(t.na(e.ca()),md(t,e),hd(t,e.D),fd(t,e))}function vl(e){var t=tl(e.G,Sl(e).options.authDomain).then(function(t){return(e.B=t)&&(t.fa=e.G),el(e.G)});return Tl(e,t)}function El(e){var t=Sl(e).options.authDomain,n=vl(e).then(function(){return pl(e.h,t)}).then(function(t){return t?(t.fa=e.G,e.B&&(e.B.$||null)==(t.$||null)?t:t.reload().then(function(){return dl(e.h,t).then(function(){return t})}).m(function(n){return"auth/network-request-failed"==n.code?t:ll(e.h)})):null}).then(function(t){_l(e,t||null)});return Tl(e,n)}function Cl(e){return e.V.then(function(){return e.da()}).m(function(){}).then(function(){if(!e.l)return e.ia()}).m(function(){}).then(function(){if(!e.l){e.X=!0;var t=e.h;t.b.addListener(il("local"),t.a,e.ia)}})}function Il(e,t){var n=null,o=null;return Tl(e,t.then(function(t){return n=No(t),o=Za(t),bl(e,t)}).then(function(){return L({user:S(e),credential:n,additionalUserInfo:o,operationType:"signIn"})}))}function Sl(e){return e.app}function S(e){return e.currentUser}function U(e){return S(e)&&S(e)._lat||null}function kl(e){if(e.X){for(var t=0;t<e.o.length;t++)e.o[t]&&e.o[t](U(e));if(e.O!==e.getUid()&&e.I.length)for(e.O=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](U(e))}}function xl(e,t){e.I.push(t),Tl(e,e.j.then(function(){!e.l&&pt(e.I,t)&&e.O!==e.getUid()&&(e.O=e.getUid(),t(U(e)))}))}function Tl(e,t){return e.N.push(t),t.ha(function(){ct(e.N,t)}),t}function T(t,n,o,r,i,e){if(De(this,"type","recaptcha"),this.b=this.c=null,this.o=!1,this.l=n,this.a=o||{theme:"light",type:"image"},this.g=[],this.a[$l])throw new Le("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Wl],!np.document)throw new Le("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!sa(n)||!this.h&&sa(n).hasChildNodes())throw new Le("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Sr(t,e||null,i||null),this.s=r||function(){return null};var s=this;this.j=[];var d=this.a[Al];this.a[Al]=function(e){if(Nl(s,e),"function"==typeof d)d(e);else if("string"==typeof d){var t=I(d,np);"function"==typeof t&&t(e)}};var l=this.a[Yl];this.a[Yl]=function(){if(Nl(s,null),"function"==typeof l)l();else if("string"==typeof l){var e=I(l,np);"function"==typeof e&&e()}}}function Nl(e,t){for(var n=0;n<e.j.length;n++)try{e.j[n](t)}catch(e){}}function wl(e,t){ut(e.j,function(e){return e==t})}function Rl(e,t){return e.g.push(t),t.ha(function(){ct(e.g,t)}),t}function Pl(e){if(e.o)throw new Le("internal-error","RecaptchaVerifier instance has been destroyed.")}function Dl(){this.b=np.grecaptcha?Infinity:0,this.c=null,this.a="__rcb"+o(1E6*Math.random()).toString()}function Ol(t,n){return new kt(function(o,r){var i=setTimeout(function(){r(new Le("network-request-failed"))},ru.get());if(!np.grecaptcha||n!==t.c&&!t.b){np[t.a]=function(){if(np.grecaptcha){t.c=n;var e=np.grecaptcha.render;np.grecaptcha.render=function(n,o){return n=e(n,o),t.b++,n},clearTimeout(i),o()}else clearTimeout(i),r(new Le("internal-error"));delete np[t.a]};var e=Qn(Xl,{onload:t.a,hl:n||""});Nt(_r(e)).m(function(){clearTimeout(i),r(new Le("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(i),o()})}function Ml(){return iu||(iu=new Dl),iu}function Ll(t,n,o){try{this.f=o||ep.app()}catch(e){throw new Le("argument-error","No firebase.app.App instance is currently initialized.")}if(this.f.options&&this.f.options.apiKey)o=this.f.options.apiKey;else throw new Le("invalid-api-key");var r=this,i=null;try{i=this.f.auth().Ka()}catch(e){}i=ep.SDK_VERSION?Aa(ep.SDK_VERSION,i):null,T.call(this,o,t,n,function(){try{var e=r.f.auth().ca()}catch(t){e=null}return e},i,Yr(ti))}function Fl(t,n,o,r){a:{o=Array.prototype.slice.call(o);for(var i=0,e=!1,s=0;s<n.length;s++)if(n[s].optional)e=!0;else{if(e)throw new Le("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(e=n.length,o.length<i||e<o.length)r="Expected "+(i==e?1==i?"1 argument":i+" arguments":i+"-"+e+" arguments")+" but got "+o.length+".";else{for(i=0;i<o.length;i++)if(e=n[i].optional&&void 0===o[i],!n[i].M(o[i])&&!e){if(n=n[i],0>i||i>=su.length)throw new Le("internal-error","Argument validator received an unsupported number of arguments.");o=su[i],r=(r?"":o+" argument ")+(n.name?"\""+n.name+"\" ":"")+"must be "+n.K+".";break a}r=null}}if(r)throw new Le("argument-error",t+" failed: "+r)}function Ul(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:i}}function V(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:s}}function jl(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:E}}function W(e,t){return{name:e||"",K:"a function",optional:!!t,M:h}}function Bl(e,t){return{name:e||"",K:"null",optional:!!t,M:c}}function Vl(){return{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}}}function ql(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof ul)}}}function zl(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof ep.app.App)}}}function Hl(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return t.xa&&n}}}function Kl(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function Ql(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&i(e.type)&&h(e.verify))}}}function Jl(e,t,n,o){return{name:n||"",K:e.K+" or "+t.K,optional:!!o,M:function(n){return e.M(n)||t.M(n)}}}function X(e,t){for(var n in t){var o=t[n].name;e[o]=Z(o,e[n],t[n].i)}}function Y(e,t,n,o){e[t]=Z(t,n,o)}function Z(t,n,o){function r(){var e=Array.prototype.slice.call(arguments);return Fl(i,o,e),n.apply(this,e)}if(!o)return n;var i=Zl(t),e;for(e in n)r[e]=n[e];for(e in n.prototype)r.prototype[e]=n.prototype[e];return r}function Zl(e){return e=e.split("."),e[e.length-1]}var ep=e("@firebase/app").default,tp=tp||{},np=this,k="closure_uid_"+(1E9*Math.random()>>>0),ia=0,ja=Date.now||function(){return+new Date},na;$(tt,Error),tt.prototype.name="CustomError",$(u,tt),u.prototype.name="AssertionError";at.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var g=new at(function(){return new st},function(e){e.reset()});rt.prototype.add=function(e,t){var n=g.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},st.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},st.prototype.reset=function(){this.next=this.b=this.a=null};var wa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(i(e))return i(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},za=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(t,n,o){for(var r=t.length,s=i(t)?t.split(""):t,e=0;e<r;e++)e in s&&n.call(o,s[e],e,t)},v=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(t,n){for(var o=t.length,r=Array(o),s=i(t)?t.split(""):t,e=0;e<o;e++)e in s&&(r[e]=n.call(void 0,s[e],e,t));return r},Ba=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(t,n){for(var o=t.length,r=i(t)?t.split(""):t,s=0;s<o;s++)if(s in r&&n.call(void 0,r[s],s,t))return!0;return!1};var Ca=String.prototype.trim?function(e){return e.trim()}:function(e){return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},Ka=/&/g,Na=/</g,Oa=/>/g,Pa=/"/g,Qa=/'/g,Ra=/\x00/g,Sa=/[\x00&<>"']/;var Ma;a:{var Ua=np.navigator;if(Ua){var Va=Ua.userAgent;if(Va){Ma=Va;break a}}Ma=""}var Wa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var $a;var ap=!1,op=new rt,ya;var rp=0,ip=2,sp=3;z.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var dp=new at(function(){return new z},function(e){e.reset()});kt.prototype.then=function(e,t,n){return Dt(this,h(e)?e:null,h(t)?t:null,n)},_e(kt),na=kt.prototype,na.ha=function(e,t){return e=xt(e,e,t),e.c=!0,At(this,e),this},na.m=function(e,t){return Dt(this,null,e,t)},na.cancel=function(e){this.a==rp&&Tt(function(){var t=new qt(e);Pt(this,t)},this)},na.Kc=function(e){this.a=rp,Ot(this,ip,e)},na.Lc=function(e){this.a=rp,Ot(this,sp,e)},na.Ub=function(){for(var e;e=Ut(this);)jt(this,e,this.a,this.j);this.h=!1};var lp=Et;$(qt,tt),qt.prototype.name="cancel";var pp=0,cp={};Wt.prototype.pa=!1,Wt.prototype.ua=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()},Ht[" "]=p;var up=yt("Opera"),mp=yt("Trident")||yt("MSIE"),hp=yt("Edge"),fp=hp||mp,gp=yt("Gecko")&&(!gt(Ma.toLowerCase(),"webkit")||yt("Edge"))&&!(yt("Trident")||yt("MSIE"))&&!yt("Edge"),yp=gt(Ma.toLowerCase(),"webkit")&&!yt("Edge"),bp;a:{var _p="",vp=function(){var e=Ma;return gp?/rv:([^\);]+)(\)|;)/.exec(e):hp?/Edge\/([\d\.]+)/.exec(e):mp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):yp?/WebKit\/(\S+)/.exec(e):up?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vp&&(_p=vp?vp[1]:""),mp){var Ep=Gt();if(null!=Ep&&Ep>parseFloat(_p)){bp=Ep+"";break a}}bp=_p}var Cp={},Tp=np.document,Ip;Ip=Tp&&mp?Gt()||("CSS1Compat"==Tp.compatMode?parseInt(bp,10):5):void 0;var Sp=Object.freeze||function(e){return e},kp=!mp||9<=+Ip,xp=mp&&!Qt("9"),Np=function(){if(!np.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return np.addEventListener("test",p,t),np.removeEventListener("test",p,t),e}();Yt.prototype.preventDefault=function(){this.Eb=!1},$(D,Yt);var wp=Sp({2:"touch",3:"pen",4:"mouse"});D.prototype.preventDefault=function(){D.lb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,xp)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},D.prototype.f=function(){return this.a};var Rp="closure_listenable_"+(0|1E6*Math.random()),Pp=0;Jt.prototype.add=function(t,n,o,r,i){var e=t.toString();t=this.a[e],t||(t=this.a[e]=[],this.b++);var s=en(t,n,r,i);return-1<s?(n=t[s],o||(n.Ha=!1)):(n=new Xt(n,this.src,e,!!r,i),n.Ha=o,t.push(n)),n};var Ap="closure_lm_"+(0|1E6*Math.random()),Dp={},Op=0,Mp="__closure_events_fn_"+(1E9*Math.random()>>>0);$(mn,Wt),mn.prototype[Rp]=!0,mn.prototype.addEventListener=function(e,t,n,o){tn(this,e,t,n,o)},mn.prototype.removeEventListener=function(e,t,n,o){rn(this,e,t,n,o)},mn.prototype.dispatchEvent=function(t){var n=this.Ta,o;if(n)for(o=[];n;n=n.Ta)o.push(n);n=this.Mb;var r=t.type||t;if(i(t))t=new Yt(t,n);else if(t instanceof Yt)t.target=t.target||n;else{var s=t;t=new Yt(r,n),vt(t,s)}if(s=!0,o)for(var e=o.length-1,d;0<=e;e--)d=t.b=o[e],s=fn(d,r,!0,t)&&s;if(d=t.b=n,s=fn(d,r,!0,t)&&s,s=fn(d,r,!1,t)&&s,o)for(e=0;e<o.length;e++)d=t.b=o[e],s=fn(d,r,!1,t)&&s;return s},mn.prototype.ua=function(){if(mn.lb.ua.call(this),this.u){var t=this.u,n=0,o;for(o in t.a){for(var r=t.a[o],i=0;i<r.length;i++)++n,$t(r[i]);delete t.a[o],t.b--}}this.Ta=null};na=En.prototype,na.S=function(){Cn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},na.U=function(){return Cn(this),this.a.concat()},na.clear=function(){this.b={},this.c=this.a.length=0},na.get=function(e,t){return Tn(this.b,e)?this.b[e]:t},na.set=function(e,t){Tn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},na.forEach=function(t,n){for(var o=this.U(),r=0;r<o.length;r++){var i=o[r],e=this.get(i);t.call(n,e,i,this)}};var Lp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Sn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Dn(t,Fp,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Dn(t,Fp,!0),"@"),e.push(encodeURIComponent(n+"").replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.j,null!=n&&e.push(":",n+"")),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Dn(n,"/"==n.charAt(0)?jp:Up,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Dn(n,ad)),e.join("")};var Fp=/[#\/\?@]/g,Up=/[#\?:]/g,jp=/[#\?]/g,Bp=/[#\?@]/g,ad=/#/g;na=Mn.prototype,na.add=function(e,t){Ln(this),this.c=null,e=Vn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},na.clear=function(){this.a=this.c=null,this.b=0},na.forEach=function(e,t){Ln(this),this.a.forEach(function(n,o){za(n,function(n){e.call(t,n,o,this)},this)},this)},na.U=function(){Ln(this);for(var t=this.a.S(),n=this.a.U(),o=[],r=0;r<n.length;r++)for(var i=t[r],e=0;e<i.length;e++)o.push(n[r]);return o},na.S=function(e){Ln(this);var t=[];if(i(e))jn(this,e)&&(t=w(t,this.a.get(Vn(this,e))));else{e=this.a.S();for(var n=0;n<e.length;n++)t=w(t,e[n])}return t},na.set=function(e,t){return Ln(this),this.c=null,e=Vn(this,e),jn(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},na.get=function(e,t){return e=e?this.S(e):[],0<e.length?e[0]+"":t},na.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],n=this.a.U(),o=0;o<n.length;o++){var r=n[o],i=encodeURIComponent(r+"");r=this.S(r);for(var e=0,s;e<r.length;e++)s=i,""!==r[e]&&(s+="="+encodeURIComponent(r[e]+"")),t.push(s)}return this.c=t.join("&")};var Vp=!mp||9<=+Ip;Wn.prototype.la=!0,Wn.prototype.ja=function(){return this.a},Wn.prototype.toString=function(){return"Const{"+this.a+"}"};var qp={};Hn(""),Kn.prototype.la=!0,Kn.prototype.ja=function(){return this.a},Kn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var nd=/%{(\w+)}/g,vd=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,ud={};Xn.prototype.la=!0,Xn.prototype.ja=function(){return this.a},Xn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var rd=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Ad={};Zn("about:blank"),ta.prototype.la=!0,ta.prototype.ja=function(){return this.a},ta.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var yd={};ra("<!DOCTYPE html>"),ra(""),ra("<br>");var Ed={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};var Jd={'"':"\\\"","\\":"\\\\","/":"\\/","":"\\b","":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},Rd=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;var Sd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ee="Firefox",ce="Chrome",Zd={Qc:"FirebaseCore-web",Sc:"FirebaseUI-web"};ye.prototype.get=function(){var e=np.navigator;return(e&&"boolean"==typeof e.onLine&&(re()||"chrome-extension:"===se()||"undefined"!=typeof e.connection)?e.onLine:1)?this.b?this.c:this.a:Math.min(5E3,this.a)};var ne={},Ee;try{var Fe={};Object.defineProperty(Fe,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Fe,"abcd",{configurable:!0,enumerable:!0,value:2}),Ee=2==Fe.abcd}catch(e){Ee=!1}var Ge="EMAIL_SIGNIN",Pe="email",Me="newEmail",Ne="requestType",Oe="email",Re="fromEmail",Qe="data",Te="operation";$(Le,Error),Le.prototype.C=function(){return{code:this.code,message:this.message}},Le.prototype.toJSON=function(){return this.C()};var Se="auth/",Ue={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":"This operation is not supported in the environment this application is running on. \"location.protocol\" must be http, https or chrome-extension and web storage must be enabled.","popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ve="android",Ze="handleCodeInApp",Wp="iOS",zp="url",Ye="installApp",Hp="minimumVersion",Kp="packageName",$e="bundleId";var Gp=null,Qp=null;Ga.prototype.f=function(){return this.b};var Yp=["oauth_consumer_key","oauth_nonce","oauth_signature","oauth_signature_method","oauth_timestamp","oauth_token","oauth_version"],Xp=["client_id","response_type","scope","redirect_uri","state"],$p={Rc:{Ma:"locale",Aa:500,za:600,Na:"facebook.com",cb:Xp},Tc:{Ma:null,Aa:500,za:620,Na:"github.com",cb:Xp},Uc:{Ma:"hl",Aa:515,za:680,Na:"google.com",cb:Xp},$c:{Ma:"lang",Aa:485,za:705,Na:"twitter.com",cb:Yp}};var Jp="idToken",Zp="providerId";$(to,eo),$(no,to),$(ao,to),$(oo,to),$(ro,to);po.prototype.xa=function(e){return Wr(e,co(this))},po.prototype.c=function(e,t){var n=co(this);return n.idToken=t,zr(e,n)},po.prototype.f=function(e,t){var n=co(this);return lo(Hr(e,n),t)},po.prototype.C=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e},uo.prototype.Ca=function(e){return this.tb=_t(e),this},$(mo,uo),mo.prototype.ta=function(e){return pt(this.a,e)||this.a.push(e),this},mo.prototype.yb=function(){return mt(this.a)},mo.prototype.credential=function(e,t){if(!e&&!t)throw new Le("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,{idToken:e||null,accessToken:t||null},this.providerId)},$(N,mo),De(N,"PROVIDER_ID","facebook.com"),De(N,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),$(fo,mo),De(fo,"PROVIDER_ID","github.com"),De(fo,"GITHUB_SIGN_IN_METHOD","github.com"),$(yo,mo),De(yo,"PROVIDER_ID","google.com"),De(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),$(_o,uo),De(_o,"PROVIDER_ID","twitter.com"),De(_o,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.xa=function(e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?Gr(e,di,{email:this.a,oobCode:this.b}):Gr(e,si,{email:this.a,password:this.b})},Eo.prototype.c=function(e,t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?Gr(e,Nc,{idToken:t,email:this.a,oobCode:this.b}):Gr(e,Oc,{idToken:t,email:this.a,password:this.b})},Eo.prototype.f=function(e,t){return lo(this.xa(e),t)},Eo.prototype.C=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},K(Co,{PROVIDER_ID:"password"}),K(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),K(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Io.prototype.xa=function(e){return e.Sa(So(this))},Io.prototype.c=function(e,t){var n=So(this);return n.idToken=t,Gr(e,bi,n)},Io.prototype.f=function(e,t){var n=So(this);return n.operation="REAUTH",e=Gr(e,Uc,n),lo(e,t)},Io.prototype.C=function(){var e={providerId:"phone"};return this.a.Ra&&(e.verificationId=this.a.Ra),this.a.Qa&&(e.verificationCode=this.a.Qa),this.a.Ea&&(e.temporaryProof=this.a.Ea),this.a.Z&&(e.phoneNumber=this.a.Z),e},ko.prototype.Sa=function(e,t){var n=this.a.b;return Nt(t.verify()).then(function(o){if(!i(o))throw new Le("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return jr(n,{phoneNumber:e,recaptchaToken:o}).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e});default:throw new Le("argument-error","Only firebase.auth.ApplicationVerifiers with type=\"recaptcha\" are currently supported.");}})},K(ko,{PROVIDER_ID:"phone"}),K(ko,{PHONE_SIGN_IN_METHOD:"phone"});Ro.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.C()}};var ec=null;Ao.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},e=I("universalLinks.subscribe",np),"function"==typeof e&&e(null,this.b))},Ao.prototype.unsubscribe=function(e){ut(this.a,function(t){return t==e})},$(Do,Le),$(Oo,Le),Oo.prototype.C=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.C();return t&&vt(e,t),e},Oo.prototype.toJSON=function(){return this.C()};var tc=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;Lo.prototype.c=null;var nc;$(Uo,Lo),Uo.prototype.a=function(){var e=jo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Uo.prototype.b=function(){var e={};return jo(this)&&(e[0]=!0,e[1]=!0),e},nc=new Uo,$(Bo,Lo),Bo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Vo;throw Error("Unsupported browser")},Bo.prototype.b=function(){return{}},na=Vo.prototype,na.open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},na.send=function(e){if(!e)this.a.send();else if("string"==typeof e)this.a.send(e);else throw Error("Only string data is supported")},na.abort=function(){this.a.abort()},na.setRequestHeader=function(){},na.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},na.bc=function(){this.status=200,this.responseText=this.a.responseText,qo(this,4)},na.zb=function(){this.status=500,this.responseText="",qo(this,4)},na.fc=function(){this.zb()},na.cc=function(){this.status=200,qo(this,1)},na.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Wo.prototype.a=null;var ac=0;Wo.prototype.reset=function(t,n,o,r,i){"number"==typeof i||ac++,r||ja(),delete this.a},Ho.prototype.toString=function(){return this.name};var oc=new Ho("SEVERE",1E3),rc=new Ho("WARNING",900),ic=new Ho("CONFIG",700),sc=new Ho("FINE",500);zo.prototype.log=function(e,t,n){if(e.value>=Ko(this).value)for(h(t)&&(t=t()),e=new Wo(e,t+"",this.f),n&&(e.a=n),n=this;n;)n=n.a};var dc={},lc=null;$(Q,Lo),Q.prototype.a=function(){return new Yo(this.f)},Q.prototype.b=function(e){return function(){return e}}({}),$(Yo,mn);var pc=0;na=Yo.prototype,na.open=function(e,t){if(this.readyState!=pc)throw this.abort(),Error("Error reopening a connection");this.h=e,this.c=t,this.readyState=1,Xo(this)},na.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.g,method:this.h,credentials:void 0,cache:void 0};e&&(t.body=e),this.j.fetch(new Request(this.c,t)).then(this.ec.bind(this),this.Ab.bind(this))},na.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,Xo(this)),this.readyState=pc},na.ec=function(e){this.a&&(this.b||(this.b=e.headers,this.readyState=2,Xo(this)),this.a&&(this.readyState=3,Xo(this),this.a&&e.text().then(this.dc.bind(this,e),this.Ab.bind(this))))},na.dc=function(e,t){this.a&&(this.status=e.status,this.statusText=e.statusText,this.responseText=t,this.readyState=4,Xo(this))},na.Ab=function(e){var t=this.f;t&&t.log(rc,"Failed to fetch url "+this.c,e instanceof Error?e:Error(e)),this.a&&(this.readyState=4,Xo(this))},na.setRequestHeader=function(e,t){this.g.append(e,t)},na.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.f)&&e.log(rc,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},na.getAllResponseHeaders=function(){if(!this.b){var e=this.f;return e&&e.log(rc,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")};$($o,mn);var cc="";$o.prototype.b=Go("goog.net.XhrIo");var uc=/^https?$/i,mc=["POST","PUT"];na=$o.prototype,na.Fa=function(){"undefined"!=typeof tp&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Qo(this.b,dr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},na.abort=function(){this.a&&this.c&&(Qo(this.b,dr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ar(this))},na.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ar(this,!0)),$o.lb.ua.call(this)},na.Db=function(){this.pa||(this.I||this.j||this.f?nr(this):this.tc())},na.tc=function(){nr(this)},na.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case cc:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer;}var e=this.b;return e&&e.log(oc,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return Qo(this.b,"Can not get response: "+e.message),null}};lr.prototype.cancel=function(e){if(this.a)this.c instanceof lr&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.s,this):this.u=!0,this.a||(e=new yr(this),cr(this),pr(this,!1,e))}},lr.prototype.o=function(e,t){this.j=!1,pr(this,e,t)},lr.prototype.D=function(){cr(this),pr(this,!0,null)},lr.prototype.then=function(t,n,o){var r=new kt(function(e,t){i=e,s=t}),i,s;return mr(this,i,function(e){e instanceof yr?r.cancel():s(e)}),r.then(t,n,o)},_e(lr),$(gr,tt),gr.prototype.message="Deferred has already fired",gr.prototype.name="AlreadyCalledError",$(yr,tt),yr.prototype.message="Deferred was canceled",yr.prototype.name="CanceledError",br.prototype.c=function(){throw delete hc[this.a],this.b};var hc={},fc=0,gc=1;$(Tr,tt),$(Ir,Lo),Ir.prototype.a=function(){return new this.f},Ir.prototype.b=function(){return{}};var yc="idToken",bc=new ye(3E4,6E4),_c={"Content-Type":"application/x-www-form-urlencoded"},vc=new ye(3E4,6E4),Ec={"Content-Type":"application/json"},Cc;Sr.prototype.o=function(n,o,r,i,s,e){if(je()&&("undefined"==typeof np.fetch||"undefined"==typeof np.Headers||"undefined"==typeof np.Request))throw new Le("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var d=new $o(this.c);if(e){d.g=t(0,e);var l=setTimeout(function(){d.dispatchEvent("timeout")},e)}G(d,"complete",function(){l&&clearTimeout(l);var e=null;try{e=JSON.parse(sr(this))||null}catch(t){e=null}o&&o(e)}),hn(d,"ready",function(){l&&clearTimeout(l),zt(this)}),hn(d,"timeout",function(){l&&clearTimeout(l),zt(this),o&&o(null)}),Jo(d,n,r,i,s)};var Tc=Hn("https://apis.google.com/js/client.js?onload=%{onload}"),Ic="__fcb"+o(1E6*Math.random()).toString();Sr.prototype.u=function(t,n,o,r,i){var s=this;Cc.then(function(){window.gapi.client.setApiKey(s.b);var l=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:o,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(l),n&&n(e)}})}).m(function(e){n&&n({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},Sr.prototype.jb=function(){return Gr(this,Mc,{})},Sr.prototype.mb=function(e,t){return Gr(this,ai,{idToken:e,email:t})},Sr.prototype.nb=function(e,t){return Gr(this,Oc,{idToken:e,password:t})};var Sc={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};na=Sr.prototype,na.ob=function(e,t){var n={idToken:e},o=[];return y(Sc,function(r,i){var s=t[i];null===s?o.push(r):i in t&&(n[i]=s)}),o.length&&(n.deleteAttribute=o),Gr(this,ai,n)},na.gb=function(e,t){return e={requestType:"PASSWORD_RESET",email:e},vt(e,t),Gr(this,Pc,e)},na.hb=function(e,t){return e={requestType:"EMAIL_SIGNIN",email:e},vt(e,t),Gr(this,qi,e)},na.fb=function(e,t){return e={requestType:"VERIFY_EMAIL",idToken:e},vt(e,t),Gr(this,Rc,e)},na.Sa=function(e){return Gr(this,Fc,e)},na.Wa=function(e,t){return Gr(this,ri,{oobCode:e,newPassword:t})},na.Ia=function(e){return Gr(this,ni,{oobCode:e})},na.Ua=function(e){return Gr(this,kc,{oobCode:e})};var kc={endpoint:"setAccountInfo",A:Kr,ba:"email"},ni={endpoint:"resetPassword",A:Kr,J:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Le("internal-error")}},mi={endpoint:"signupNewUser",A:function(e){if(Ar(e),!e.password)throw new Le("weak-password")},J:Fr,R:!0},oi={endpoint:"createAuthUri"},xc={endpoint:"deleteAccount",T:["idToken"]},pi={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],A:function(e){if(!_(e.deleteProvider))throw new Le("internal-error")}},di={endpoint:"emailLinkSignin",T:["email","oobCode"],A:Ar,J:Fr,R:!0},Nc={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],A:Ar,J:Fr,R:!0},wc={endpoint:"getAccountInfo"},qi={endpoint:"getOobConfirmationCode",T:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Le("internal-error");Ar(e)},ba:"email"},Rc={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Le("internal-error")},ba:"email"},Pc={endpoint:"getOobConfirmationCode",T:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Le("internal-error");Ar(e)},ba:"email"},Ac={pb:!0,endpoint:"getProjectConfig",Cb:"GET"},Dc={pb:!0,endpoint:"getRecaptchaParam",Cb:"GET",J:function(e){if(!e.recaptchaSiteKey)throw new Le("internal-error")}},ri={endpoint:"resetPassword",A:Kr,ba:"email"},li={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],ba:"sessionInfo"},ai={endpoint:"setAccountInfo",T:["idToken"],A:Dr,R:!0},Oc={endpoint:"setAccountInfo",T:["idToken"],A:function(e){if(Dr(e),!e.password)throw new Le("weak-password")},J:Fr,R:!0},Mc={endpoint:"signupNewUser",J:Fr,R:!0},Lc={endpoint:"verifyAssertion",A:Vr,J:qr,R:!0},hi={endpoint:"verifyAssertion",A:Vr,J:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Le("user-not-found");if(e.errorMessage)throw P(e.errorMessage);if(!e[yc])throw new Le("internal-error")},R:!0},ji={endpoint:"verifyAssertion",A:function(e){if(Vr(e),!e.idToken)throw new Le("internal-error")},J:qr,R:!0},ii={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new Le("invalid-custom-token")},J:Fr,R:!0},si={endpoint:"verifyPassword",A:function(e){if(Ar(e),!e.password)throw new Le("wrong-password")},J:Fr,R:!0},Fc={endpoint:"verifyPhoneNumber",A:Ur,J:Fr},bi={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new Le("internal-error");Ur(e)},J:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Mo(e);Fr(e)}},Uc={Tb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Ur,J:Fr};var jc={Wc:{Ya:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://securetoken.googleapis.com/v1/token",id:"p"},Yc:{Ya:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Zc:{Ya:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",eb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}},ti;ti=Yr("__EID__")?"__EID__":void 0;var vi=Hn("https://apis.google.com/js/api.js?onload=%{onload}"),Ci=new ye(3E4,6E4),Di=new ye(5E3,15E3),zi=null;ui.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Un(this.a.a,"v"),this.b?wn(this.a,"eid",this.b):Un(this.a.a,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Un(this.a.a,"fw"),this.a.toString()},gi.prototype.toString=function(){var t=Pn(this.o,"/__/auth/handler");if(wn(t,"apiKey",this.u),wn(t,"appName",this.c),wn(t,"authType",this.l),this.a.isOAuthProvider){var n=this.a;try{var o=ep.app(this.c).auth().ca()}catch(e){o=null}for(var r in n.Xa=o,wn(t,"providerId",this.a.providerId),n=this.a,o=ue(n.tb),o)o[r]=o[r].toString();r=n.Ac,o=_t(o);for(var i=0,e;i<r.length;i++)e=r[i],e in o&&delete o[e];n.Za&&n.Xa&&!o[n.Za]&&(o[n.Za]=n.Xa),bt(o)||wn(t,"customParameters",te(o))}if("function"==typeof this.a.yb&&(n=this.a.yb(),n.length&&wn(t,"scopes",n.join(","))),this.j?wn(t,"redirectUrl",this.j):Un(t.a,"redirectUrl"),this.g?wn(t,"eventId",this.g):Un(t.a,"eventId"),this.h?wn(t,"v",this.h):Un(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!H(t,s)&&wn(t,s,this.b[s]);return this.f?wn(t,"eid",this.f):Un(t.a,"eid"),s=yi(this.c),s.length&&wn(t,"fw",s.join(",")),t.toString()},na=_i.prototype,na.Da=function(t,n,o){var r=new Le("popup-closed-by-user"),i=new Le("web-storage-unsupported"),e=this,s=!1;return this.ea().then(function(){Oi(e).then(function(e){e||(t&&xa(t),n(i),s=!0)})}).m(function(){}).then(function(){if(!s)return be(t)}).then(function(){if(!s)return yn(o).then(function(){n(r)})})},na.Gb=function(){var e=oe();return!ie(e)&&!qe(e)},na.Bb=function(){return!1},na.xb=function(t,n,o,r,i,e,s){if(!t)return A(new Le("popup-blocked"));if(s&&!ie())return this.ea().m(function(e){xa(t),i(e)}),r(),Nt();this.a||(this.a=Ii(wi(this)));var l=this;return this.a.then(function(){var e=l.ea().m(function(e){throw xa(t),i(e),e});return r(),e}).then(function(){if(wo(o),!s){var r=Ni(l.u,l.f,l.b,n,o,null,e,l.c,void 0,l.h);va(r,t)}}).m(function(e){throw"auth/network-request-failed"==e.code&&(l.a=null),e})},na.Ba=function(t,n,o){this.a||(this.a=Ii(wi(this)));var r=this;return this.a.then(function(){wo(n);var i=Ni(r.u,r.f,r.b,t,n,_a(),o,r.c,void 0,r.h);va(i)}).m(function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e})},na.ea=function(){var e=this;return xi(this).then(function(){return e.j.ab}).m(function(){throw e.a=null,new Le("network-request-failed")})},na.Lb=function(){return!0},na.va=function(e){this.g.push(e)},na.Ja=function(e){ut(this.g,function(t){return t==e})},na=Mi.prototype,na.get=function(e){return Nt(this.a.getItem(e)).then(function(e){return e&&ve(e)})},na.set=function(e,t){return Nt(this.a.setItem(e,te(t)))},na.P=function(e){return Nt(this.a.removeItem(e))},na.Y=function(){},na.aa=function(){};var Ei;na=Li.prototype,na.set=function(t,n){var o=!1,r=this,e;return Ui(this).then(function(n){return e=n,n=Ri(Vi(e,!0)),Wi(n.get(t))}).then(function(i){var s=Ri(Vi(e,!0));return i?(i.value=n,Wi(s.put(i))):(r.b++,o=!0,i={},i.fbase_key=t,i.value=n,Wi(s.add(i)))}).then(function(){r.f[t]=n}).ha(function(){o&&r.b--})},na.get=function(e){return Ui(this).then(function(t){return Wi(Ri(Vi(t,!1)).get(e))}).then(function(e){return e&&e.value})},na.P=function(e){var t=!1,n=this;return Ui(this).then(function(o){return t=!0,n.b++,Wi(Ri(Vi(o,!0))["delete"](e))}).then(function(){delete n.f[e]}).ha(function(){t&&n.b--})},na.Jc=function(){var e=this;return Ui(this).then(function(e){var t=Ri(Vi(e,!1));return t.getAll?Wi(t.getAll()):new kt(function(n,o){var r=[],i=t.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e["continue"]()):n(r)},i.onerror=function(e){o(Error(e.target.errorCode))}})}).then(function(t){var n={},o=[];if(0==e.b){for(o=0;o<t.length;o++)n[t[o].fbase_key]=t[o].value;o=Ta(e.f,n),e.f=n}return o})},na.Y=function(e){0==this.a.length&&Hi(this),this.a.push(e)},na.aa=function(e){ut(this.a,function(t){return t==e}),0==this.a.length&&this.c&&this.c.cancel("STOP_EVENT")};na=Ki.prototype,na.get=function(e){return this.b.then(function(t){return t.get(e)})},na.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},na.P=function(e){return this.b.then(function(t){return t.P(e)})},na.Y=function(e){this.a.push(e)},na.aa=function(e){ut(this.a,function(t){return t==e})},na=Gi.prototype,na.get=function(e){return Nt(this.a[e])},na.set=function(e,t){return this.a[e]=t,Nt()},na.P=function(e){return delete this.a[e],Nt()},na.Y=function(){},na.aa=function(){},na=Qi.prototype,na.get=function(e){var t=this;return Nt().then(function(){var n=t.a.getItem(e);return ve(n)})},na.set=function(e,t){var n=this;return Nt().then(function(){var o=te(t);null===o?n.P(e):n.a.setItem(e,o)})},na.P=function(e){var t=this;return Nt().then(function(){t.a.removeItem(e)})},na.Y=function(e){np.window&&tn(np.window,"storage",e)},na.aa=function(e){np.window&&rn(np.window,"storage",e)},na=$i.prototype,na.get=function(){return Nt(null)},na.set=function(){return Nt()},na.P=function(){return Nt()},na.Y=function(){},na.aa=function(){},na=Ji.prototype,na.get=function(e){var t=this;return Nt().then(function(){var n=t.a.getItem(e);return ve(n)})},na.set=function(e,t){var n=this;return Nt().then(function(){var o=te(t);null===o?n.P(e):n.a.setItem(e,o)})},na.P=function(e){var t=this;return Nt().then(function(){t.a.removeItem(e)})},na.Y=function(){},na.aa=function(){};var Si={w:Qi,Pa:Ji},Bc={w:Qi,Pa:Ji},Vc={w:Mi,Pa:$i},qc={w:Qi,Pa:$i},Wc={Vc:"local",NONE:"none",Xc:"session"},zc,Hc;na=as.prototype,na.get=function(e,t){return rs(this,e.w).get(is(e,t))},na.set=function(t,n,o){var r=is(t,o),i=this,e=rs(this,t.w);return e.set(r,n).then(function(){return e.get(r)}).then(function(e){"local"==t.w&&(i.b[r]=e)})},na.addListener=function(e,t,n){e=is(e,t),this.l&&(this.b[e]=np.localStorage.getItem(e)),bt(this.a)&&(rs(this,"local").Y(this.f),this.h||(ga()||!Ce())&&np.indexedDB||!this.l||ls(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},na.removeListener=function(e,t,n){e=is(e,t),this.a[e]&&(ut(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),bt(this.a)&&(rs(this,"local").aa(this.f),ps(this))},na.Kb=function(t){if(t&&t.f){var n=t.a.key;if(null==n)for(var o in this.a){var r=this.b[o];"undefined"==typeof r&&(r=null);var i=np.localStorage.getItem(o);i!==r&&(this.b[o]=i,this.Va(o))}else if(0==n.indexOf("firebase:")&&this.a[n]){if("undefined"==typeof t.a.a?ps(this):rs(this,"local").aa(this.f),this.o)if(o=np.localStorage.getItem(n),r=t.a.newValue,r!==o)null===r?np.localStorage.removeItem(n):np.localStorage.setItem(n,r);else if(this.b[n]===r&&"undefined"==typeof t.a.a)return;var e=this;o=function(){("undefined"!=typeof t.a.a||e.b[n]!==np.localStorage.getItem(n))&&(e.b[n]=np.localStorage.getItem(n),e.Va(n))},mp&&Ip&&10==Ip&&np.localStorage.getItem(n)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(o,10):o()}}else za(t,j(this.Va,this))},na.Va=function(e){this.a[e]&&za(this.a[e],function(e){e()})};var Kc={name:"authEvent",w:"local"};var Gc;$(hs,function(){this.b=-1});for(var Qc=64,Yc=[],Xc=0;Xc<Qc-1;Xc++)Yc[Xc]=0;var $c=w(128,Yc);hs.prototype.reset=function(){this.g=this.c=0,this.a=np.Int32Array?new Int32Array(this.h):mt(this.h)};var Jc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];$(ys,hs);var Zc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];na=bs.prototype,na.ea=function(){return this.ya?this.ya:this.ya=fe().then(function(){if("function"!=typeof I("universalLinks.subscribe",np))throw _s("cordova-universal-links-plugin is not installed");if("undefined"==typeof I("BuildInfo.packageName",np))throw _s("cordova-plugin-buildinfo is not installed");if("function"!=typeof I("cordova.plugins.browsertab.openUrl",np))throw _s("cordova-plugin-browsertab is not installed");if("function"!=typeof I("cordova.InAppBrowser.open",np))throw _s("cordova-plugin-inappbrowser is not installed")},function(){throw new Le("cordova-not-ready")})},na.Da=function(e,t){return t(new Le("operation-not-supported-in-this-environment")),Nt()},na.xb=function(){return A(new Le("operation-not-supported-in-this-environment"))},na.Lb=function(){return!1},na.Gb=function(){return!0},na.Bb=function(){return!0},na.Ba=function(t,n,o){if(this.c)return A(new Le("redirect-operation-pending"));var r=this,i=np.document,e=null,s=null,d=null,l=null;return this.c=Nt().then(function(){return wo(n),Is(r)}).then(function(){return Cs(r,t,n,o)}).then(function(){return new kt(function(t,n){s=function(){var e=I("cordova.plugins.browsertab.close",np);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.va(s),d=function(){e||(e=yn(2E3).then(function(){n(new Le("redirect-cancelled-by-user"))}))},l=function(){ze()&&d()},i.addEventListener("resume",d,!1),oe().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",l,!1)}).m(function(e){return Ss(r).then(function(){throw e})})}).ha(function(){d&&i.removeEventListener("resume",d,!1),l&&i.removeEventListener("visibilitychange",l,!1),e&&e.cancel(),s&&r.Ja(s),r.c=null})},na.va=function(e){this.b.push(e),Is(this).m(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ro("unknown",null,null,null,new Le("no-auth-event")),e(t))})},na.Ja=function(e){ut(this.b,function(t){return t==e})};var eu={name:"pendingRedirect",w:"session"};Ps.prototype.reset=function(){this.f=!1,this.a.Ja(this.j),this.a=As(this.v,this.l,this.u)},Ps.prototype.subscribe=function(e){if(pt(this.h,e)||this.h.push(e),!this.f){var t=this;Rs(this.g).then(function(e){e?ws(t.g).then(function(){Ds(t).m(function(e){var n=new Ro("unknown",null,null,null,new Le("operation-not-supported-in-this-environment"));Ls(e)&&t.o(n)})}):Os(t)}).m(function(){Os(t)})}},Ps.prototype.unsubscribe=function(e){ut(this.h,function(t){return t==e})},Ps.prototype.o=function(e){if(!e)throw new Le("invalid-auth-event");for(var t=!1,n=0,o;n<this.h.length;n++)if(o=this.h[n],o.qb(e.b,e.c)){(t=this.b[e.b])&&t.h(e,o),t=!0;break}return js(this.c),t};var tu=new ye(2E3,1E4),nu=new ye(3E4,6E4);Ps.prototype.da=function(){return this.c.da()},Ps.prototype.Ba=function(t,n,o){var r=this,i;return Ns(this.g).then(function(){return r.a.Ba(t,n,o).m(function(e){if(Ls(e))throw new Le("operation-not-supported-in-this-environment");return i=e,ws(r.g).then(function(){throw i})}).then(function(){return r.a.Lb()?new kt(function(){}):ws(r.g).then(function(){return r.da()}).then(function(){}).m(function(){})})})},Ps.prototype.Da=function(e,t,n,o){return this.a.Da(n,function(n){e.ga(t,null,n,o)},tu.get())};var au={};Us.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Us.prototype.h=function(t,n){if(t){this.reset(),this.g=!0;var o=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,e=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;"unknown"!=o||i||e?t.a?(Ws(this,!0,null,t.a),Nt()):n.wa(o,r)?Bs(this,t,n):A(new Le("invalid-auth-event")):(Ws(this,!1,null,null),Nt())}else A(new Le("invalid-auth-event"))},Us.prototype.da=function(){var e=this;return new kt(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),zs(e))})},Hs.prototype.h=function(e,t){if(e){var n=e.b,o=e.c;e.a?(t.ga(e.b,null,e.a,e.c),Nt()):t.wa(n,o)?Ks(e,t):A(new Le("invalid-auth-event"))}else A(new Le("invalid-auth-event"))};Gs.prototype.confirm=function(e){return e=xo(this.verificationId,e),this.a(e)};Xs.prototype.start=function(){this.a=this.c,Js(this,!0)},Xs.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Zs.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Zs.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?A(new Le("user-token-expired")):e||!this.b||ja()>this.c-3E4?this.a?od(this,{grant_type:"refresh_token",refresh_token:this.a}):Nt(null):Nt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},id.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},$(pd,Yt),$(cd,mn),cd.prototype.na=function(e){this.ia=e,kr(this.b,e)},cd.prototype.ca=function(){return this.ia},cd.prototype.Ka=function(){return mt(this.O)},cd.prototype.Ga=function(){this.l.b&&(this.l.stop(),this.l.start())},De(cd.prototype,"providerId","firebase"),na=cd.prototype,na.reload=function(){var e=this;return Qd(this,Pd(this).then(function(){return Ud(e).then(function(){return kd(e)}).then(wd)}))},na.ac=function(e){return this.F(e).then(function(e){return new Ys(e)})},na.F=function(e){var t=this;return Qd(this,Pd(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new Le("internal-error");return e.accessToken!=t.qa&&(Td(t,e.accessToken),t.dispatchEvent(new pd("tokenChanged"))),Ld(t,"refreshToken",e.refreshToken),e.accessToken}))},na.getToken=function(e){return ne["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(ne["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(e)},na.uc=function(e){if(e=e.users,!e||!e.length)throw new Le("internal-error");e=e[0],Nd(this,{uid:e.localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=Vd(e),n=0;n<t.length;n++)Od(this,t[n]);Ld(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length))},na.bb=function(e){var t=this,n=null;return Qd(this,e.f(this.b,this.uid).then(function(e){return jd(t,e),n=Wd(t,e,"reauthenticate"),t.j=null,t.reload()}).then(function(){return n}),!0)},na.vc=function(e){return this.bb(e).then(function(){})},na.$a=function(e){var t=this,n=null;return Qd(this,qd(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.c(t.b,n)}).then(function(e){return n=Wd(t,e,"link"),zd(t,e)}).then(function(){return n}))},na.mc=function(e){return this.$a(e).then(function(e){return e.user})},na.nc=function(e,t){var n=this;return Qd(this,qd(this,"phone").then(function(){return Qs(gd(n),e,t,j(n.$a,n))}))},na.wc=function(e,t){var n=this;return Qd(this,Nt().then(function(){return Qs(gd(n),e,t,j(n.bb,n))}),!0)},na.mb=function(e){var t=this;return Qd(this,this.F().then(function(n){return t.b.mb(n,e)}).then(function(e){return jd(t,e),t.reload()}))},na.Nc=function(e){var t=this;return Qd(this,this.F().then(function(n){return e.c(t.b,n)}).then(function(e){return jd(t,e),t.reload()}))},na.nb=function(e){var t=this;return Qd(this,this.F().then(function(n){return t.b.nb(n,e)}).then(function(e){return jd(t,e),t.reload()}))},na.ob=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Pd(this);var t=this;return Qd(this,this.F().then(function(n){return t.b.ob(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return jd(t,e),Ld(t,"displayName",e.displayName||null),Ld(t,"photoURL",e.photoUrl||null),za(t.providerData,function(e){"password"===e.providerId&&(De(e,"displayName",t.displayName),De(e,"photoURL",t.photoURL))}),kd(t)}).then(wd))},na.Mc=function(e){var t=this;return Qd(this,Ud(this).then(function(n){return pt(Dd(t),e)?Br(t.b,n,[e]).then(function(e){var n={};return za(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),za(Dd(t),function(e){n[e]||Md(t,e)}),n[ko.PROVIDER_ID]||De(t,"phoneNumber",null),kd(t)}):kd(t).then(function(){throw new Le("no-such-provider")})}))},na.delete=function(){var e=this;return Qd(this,this.F().then(function(t){return Gr(e.b,xc,{idToken:t})}).then(function(){e.dispatchEvent(new pd("userDeleted"))})).then(function(){for(var t=0;t<e.D.length;t++)e.D[t].cancel("app-deleted");md(e,null),fd(e,null),e.D=[],e.o=!0,Cd(e),De(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},na.qb=function(e,t){return"linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.$||null)==t||"reauthViaRedirect"==e&&(this.$||null)==t},na.ga=function(e,t,n,o){"linkViaPopup"!=e&&"reauthViaPopup"!=e||o!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},na.wa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?j(this.vb,this):"reauthViaPopup"==e&&t==(this.g||null)?j(this.wb,this):"linkViaRedirect"==e&&(this.$||null)==t?j(this.vb,this):"reauthViaRedirect"==e&&(this.$||null)==t?j(this.wb,this):null},na.oc=function(e){var t=this;return Hd(this,"linkViaPopup",e,function(){return qd(t,e.providerId).then(function(){return kd(t)})},!1)},na.xc=function(e){return Hd(this,"reauthViaPopup",e,function(){return Nt()},!0)},na.pc=function(e){var t=this;return Kd(this,"linkViaRedirect",e,function(){return qd(t,e.providerId)},!1)},na.yc=function(e){return Kd(this,"reauthViaRedirect",e,function(){return Nt()},!0)},na.vb=function(t,n){var o=this;this.c&&(this.c.cancel(),this.c=null);var r=null,i=this.F().then(function(e){return zr(o.b,{requestUri:t,sessionId:n,idToken:e})}).then(function(e){return r=Wd(o,e,"link"),zd(o,e)}).then(function(){return r});return Qd(this,i)},na.wb=function(t,n){var o=this;this.c&&(this.c.cancel(),this.c=null);var r=null,i=Nt().then(function(){return lo(Hr(o.b,{requestUri:t,sessionId:n}),o.uid)}).then(function(e){return r=Wd(o,e,"reauthenticate"),jd(o,e),o.j=null,o.reload()}).then(function(){return r});return Qd(this,i,!0)},na.fb=function(e){var t=this,n=null;return Qd(this,this.F().then(function(t){return n=t,"undefined"==typeof e||bt(e)?{}:Xe(new We(e))}).then(function(e){return t.b.fb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},na.toJSON=function(){return this.C()},na.C=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.s,authDomain:this.B,stsTokenManager:this.h.C(),redirectEventId:this.$||null};return this.metadata&&vt(e,this.metadata.C()),za(this.providerData,function(t){e.providerData.push(He(t))}),e};var ou={name:"redirectUser",w:"session"};nl.prototype.g=function(){var e=this,t=il("local");cl(this,function(){return Nt().then(function(){return e.c&&"local"!=e.c.w?e.b.get(t,e.a):null}).then(function(n){if(n)return al(e,"local").then(function(){e.c=t})})})};var ol={name:"persistence",w:"session"};nl.prototype.ib=function(e){var t=null,n=this;return ns(e),cl(this,function(){return e==n.c.w?Nt():n.b.get(n.c,n.a).then(function(o){return t=o,al(n,e)}).then(function(){if(n.c=il(e),t)return n.b.set(n.c,t,n.a)})})};$(ul,mn),$(ml,Yt),$(hl,Yt),na=ul.prototype,na.ib=function(e){return e=this.h.ib(e),Tl(this,e)},na.na=function(e){this.W===e||this.l||(this.W=e,kr(this.b,this.W),this.dispatchEvent(new ml(this.ca())))},na.ca=function(){return this.W},na.Oc=function(){var e=np.navigator;this.na(e?e.languages&&e.languages[0]||e.language||e.userLanguage||null:null)},na.qc=function(e){this.D.push(e),xr(this.b,ep.SDK_VERSION?Aa(ep.SDK_VERSION,this.D):null),this.dispatchEvent(new hl(this.D))},na.Ka=function(){return mt(this.D)},na.toJSON=function(){return{apiKey:Sl(this).options.apiKey,authDomain:Sl(this).options.authDomain,appName:Sl(this).name,currentUser:S(this)&&S(this).C()}},na.qb=function(e,t){return"unknown"===e||"signInViaRedirect"===e||!("signInViaPopup"!==e)&&this.g==t&&!!this.f},na.ga=function(e,t,n,o){"signInViaPopup"==e&&this.g==o&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},na.wa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?j(this.Xb,this):null},na.Xb=function(t,n){var o=this;t={requestUri:t,sessionId:n},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,s=Wr(o.b,t).then(function(e){return r=No(e),i=Za(e),e});return t=o.V.then(function(){return s}).then(function(e){return bl(o,e)}).then(function(){return L({user:S(o),credential:r,additionalUserInfo:i,operationType:"signIn"})}),Tl(this,t)},na.Gc=function(t){if(!pe())return A(new Le("operation-not-supported-in-this-environment"));var n=this,o=Ja(t.providerId),r=we(),i=null;(!ie()||he())&&Sl(this).options.authDomain&&t.isOAuthProvider&&(i=Ni(Sl(this).options.authDomain,Sl(this).options.apiKey,Sl(this).name,"signInViaPopup",t,null,r,ep.SDK_VERSION||null));var s=ae(i,o&&o.Aa,o&&o.za);return o=gl(this).then(function(n){return Ms(n,s,"signInViaPopup",t,r,!!i)}).then(function(){return new kt(function(e,t){n.ga("signInViaPopup",null,new Le("cancelled-popup-request"),n.g),n.f=e,n.v=t,n.g=r,n.c=n.a.Da(n,"signInViaPopup",s,r)})}).then(function(e){return s&&xa(s),e?L(e):null}).m(function(e){throw s&&xa(s),e}),Tl(this,o)},na.Hc=function(e){if(!pe())return A(new Le("operation-not-supported-in-this-environment"));var t=this,n=gl(this).then(function(){return sl(t.h)}).then(function(){return t.a.Ba("signInViaRedirect",e)});return Tl(this,n)},na.da=function(){if(!pe())return A(new Le("operation-not-supported-in-this-environment"));var e=this,t=gl(this).then(function(){return e.a.da()}).then(function(e){return e?L(e):null});return Tl(this,t)},na.kb=function(){var e=this,t=this.j.then(function(){return S(e)?(_l(e,null),ll(e.h).then(function(){kl(e)})):Nt()});return Tl(this,t)},na.Ic=function(){var e=this;return pl(this.h,Sl(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=S(e)&&t){n=S(e).uid;var o=t.uid;n=void 0===n||null===n||""===n||void 0===o||null===o||""===o?!1:n==o}if(n)return Fd(S(e),t),S(e).F();(S(e)||t)&&(_l(e,t),t&&(xd(t),t.fa=e.G),e.a&&e.a.subscribe(e),kl(e))}})},na.ka=function(e){return dl(this.h,e)},na.Yb=function(){kl(this),this.ka(S(this))},na.gc=function(){this.kb()},na.hc=function(){this.kb()},na.ic=function(e){var t=this;this.addAuthTokenListener(function(){e.next(S(t))})},na.jc=function(e){var t=this;xl(this,function(){e.next(S(t))})},na.sc=function(e,t,n){var o=this;return this.X&&ep.Promise.resolve().then(function(){h(e)?e(S(o)):h(e.next)&&e.next(S(o))}),this.Ob(e,t,n)},na.rc=function(e,t,n){var o=this;return this.X&&ep.Promise.resolve().then(function(){o.O=o.getUid(),h(e)?e(S(o)):h(e.next)&&e.next(S(o))}),this.Pb(e,t,n)},na.$b=function(e){var t=this,n=this.j.then(function(){return S(t)?S(t).F(e).then(function(e){return{accessToken:e}}):null});return Tl(this,n)},na.Cc=function(e){return this.Hb(e).then(function(e){return e.user})},na.Hb=function(e){var t=this;return this.j.then(function(){return Il(t,Gr(t.b,ii,{token:e}))}).then(function(e){var n=e.user;return Ld(n,"isAnonymous",!1),t.ka(n),e})},na.Ib=function(e,t){var n=this;return this.j.then(function(){return Il(n,Gr(n.b,si,{email:e,password:t}))})},na.Dc=function(e,t){return this.Ib(e,t).then(function(e){return e.user})},na.Sb=function(e,t){return this.sb(e,t).then(function(e){return e.user})},na.sb=function(e,t){var n=this;return this.j.then(function(){return Il(n,Gr(n.b,mi,{email:e,password:t}))})},na.Bc=function(e){return this.Oa(e).then(function(e){return e.user})},na.Oa=function(e){var t=this;return this.j.then(function(){return Il(t,e.xa(t.b))})},na.jb=function(){return this.Jb().then(function(e){return e.user})},na.Jb=function(){var e=this;return this.j.then(function(){var t=S(e);if(t&&t.isAnonymous){var n=L({providerId:null,isNewUser:!1});return L({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Il(e,e.b.jb()).then(function(t){var n=t.user;return Ld(n,"isAnonymous",!0),e.ka(n),t})})},na.getUid=function(){return S(this)&&S(this).uid||null},na.Qb=function(e){this.addAuthTokenListener(e),this.s++,0<this.s&&S(this)&&_d(S(this))},na.zc=function(e){var t=this;za(this.o,function(n){n==e&&t.s--}),0>this.s&&(this.s=0),0==this.s&&S(this)&&Cd(S(this)),this.removeAuthTokenListener(e)},na.addAuthTokenListener=function(e){var t=this;this.o.push(e),Tl(this,this.j.then(function(){t.l||pt(t.o,e)&&e(U(t))}))},na.removeAuthTokenListener=function(e){ut(this.o,function(t){return t==e})},na.delete=function(){this.l=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h,e.b.removeListener(il("local"),e.a,this.ia)),this.a&&this.a.unsubscribe(this),ep.Promise.resolve()},na.Vb=function(e){return Tl(this,Or(this.b,e))},na.Wb=function(e){return Tl(this,Mr(this.b,e))},na.kc=function(e){return!!To(e)},na.hb=function(e,t){var n=this;return Tl(this,Nt().then(function(){var e=new We(t);if(!e.c)throw new Le("argument-error",Ze+" must be true when sending sign in link to email");return Xe(e)}).then(function(t){return n.b.hb(e,t)}).then(function(){}))},na.Pc=function(e){return this.Ia(e).then(function(e){return e.data.email})},na.Wa=function(e,t){return Tl(this,this.b.Wa(e,t).then(function(){}))},na.Ia=function(e){return Tl(this,this.b.Ia(e).then(function(e){return new Ke(e)}))},na.Ua=function(e){return Tl(this,this.b.Ua(e).then(function(){}))},na.gb=function(e,t){var n=this;return Tl(this,Nt().then(function(){return"undefined"==typeof t||bt(t)?{}:Xe(new We(t))}).then(function(t){return n.b.gb(e,t)}).then(function(){}))},na.Fc=function(e,t){return Tl(this,Qs(this,e,t,j(this.Oa,this)))},na.Ec=function(e,t){var n=this;return Tl(this,Nt().then(function(){var o=O(e,t||_a());return n.Oa(o)}))};var Al="callback",Yl="expired-callback",$l="sitekey",Wl="size";na=T.prototype,na.ya=function(){var e=this;return this.c?this.c:this.c=Rl(this,Nt().then(function(){if(re()&&!je())return de();throw new Le("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Ol(Ml(),e.s())}).then(function(){return Gr(e.u,Dc,{})}).then(function(t){e.a[$l]=t.recaptchaSiteKey}).m(function(t){throw e.c=null,t}))},na.render=function(){Pl(this);var e=this;return Rl(this,this.ya().then(function(){if(null===e.b){var t=e.l;if(!e.h){var n=sa(t);t=la("DIV"),n.appendChild(t)}e.b=grecaptcha.render(t,e.a)}return e.b}))},na.verify=function(){Pl(this);var t=this;return Rl(this,this.render().then(function(n){return new kt(function(o){var r=grecaptcha.getResponse(n);if(r)o(r);else{var i=function(e){e&&(wl(t,i),o(e))};t.j.push(i),t.h&&grecaptcha.execute(t.b)}})}))},na.reset=function(){Pl(this),null!==this.b&&grecaptcha.reset(this.b)},na.clear=function(){Pl(this),this.o=!0,Ml().b--;for(var e=0;e<this.g.length;e++)this.g[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){e=sa(this.l);for(var t;t=e.firstChild;)e.removeChild(t)}};var Xl=Hn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ru=new ye(3E4,6E4),iu=null;$(Ll,T);var su=["First","Second","Third","Fourth","Fifth","Sixth","Seventh","Eighth","Ninth"];X(ul.prototype,{Ua:{name:"applyActionCode",i:[Ul("code")]},Ia:{name:"checkActionCode",i:[Ul("code")]},Wa:{name:"confirmPasswordReset",i:[Ul("code"),Ul("newPassword")]},Sb:{name:"createUserWithEmailAndPassword",i:[Ul("email"),Ul("password")]},sb:{name:"createUserAndRetrieveDataWithEmailAndPassword",i:[Ul("email"),Ul("password")]},Vb:{name:"fetchProvidersForEmail",i:[Ul("email")]},Wb:{name:"fetchSignInMethodsForEmail",i:[Ul("email")]},da:{name:"getRedirectResult",i:[]},kc:{name:"isSignInWithEmailLink",i:[Ul("emailLink")]},rc:{name:"onAuthStateChanged",i:[Jl(jl(),W(),"nextOrObserver"),W("opt_error",!0),W("opt_completed",!0)]},sc:{name:"onIdTokenChanged",i:[Jl(jl(),W(),"nextOrObserver"),W("opt_error",!0),W("opt_completed",!0)]},gb:{name:"sendPasswordResetEmail",i:[Ul("email"),Jl(jl("opt_actionCodeSettings",!0),Bl(null,!0),"opt_actionCodeSettings",!0)]},hb:{name:"sendSignInLinkToEmail",i:[Ul("email"),jl("actionCodeSettings")]},ib:{name:"setPersistence",i:[Ul("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",i:[Hl()]},jb:{name:"signInAnonymously",i:[]},Jb:{name:"signInAnonymouslyAndRetrieveData",i:[]},Bc:{name:"signInWithCredential",i:[Hl()]},Cc:{name:"signInWithCustomToken",i:[Ul("token")]},Hb:{name:"signInAndRetrieveDataWithCustomToken",i:[Ul("token")]},Dc:{name:"signInWithEmailAndPassword",i:[Ul("email"),Ul("password")]},Ec:{name:"signInWithEmailLink",i:[Ul("email"),Ul("emailLink",!0)]},Ib:{name:"signInAndRetrieveDataWithEmailAndPassword",i:[Ul("email"),Ul("password")]},Fc:{name:"signInWithPhoneNumber",i:[Ul("phoneNumber"),Ql()]},Gc:{name:"signInWithPopup",i:[Kl()]},Hc:{name:"signInWithRedirect",i:[Kl()]},kb:{name:"signOut",i:[]},toJSON:{name:"toJSON",i:[Ul(null,!0)]},Oc:{name:"useDeviceLanguage",i:[]},Pc:{name:"verifyPasswordResetCode",i:[Ul("code")]}}),function(t,n){for(var o in n){var r=n[o].name;if(r!==o){var i=n[o].Rb;Object.defineProperty(t,r,{get:function(){return this[o]},set:function(e){Fl(r,[i],[e],!0),this[o]=e},enumerable:!0})}}}(ul.prototype,{lc:{name:"languageCode",Rb:Jl(Ul(),Bl(),"languageCode")}}),ul.Persistence=Wc,ul.Persistence.LOCAL="local",ul.Persistence.SESSION="session",ul.Persistence.NONE="none",X(cd.prototype,{delete:{name:"delete",i:[]},ac:{name:"getIdTokenResult",i:[V()]},F:{name:"getIdToken",i:[V()]},getToken:{name:"getToken",i:[V()]},$a:{name:"linkAndRetrieveDataWithCredential",i:[Hl()]},mc:{name:"linkWithCredential",i:[Hl()]},nc:{name:"linkWithPhoneNumber",i:[Ul("phoneNumber"),Ql()]},oc:{name:"linkWithPopup",i:[Kl()]},pc:{name:"linkWithRedirect",i:[Kl()]},bb:{name:"reauthenticateAndRetrieveDataWithCredential",i:[Hl()]},vc:{name:"reauthenticateWithCredential",i:[Hl()]},wc:{name:"reauthenticateWithPhoneNumber",i:[Ul("phoneNumber"),Ql()]},xc:{name:"reauthenticateWithPopup",i:[Kl()]},yc:{name:"reauthenticateWithRedirect",i:[Kl()]},reload:{name:"reload",i:[]},fb:{name:"sendEmailVerification",i:[Jl(jl("opt_actionCodeSettings",!0),Bl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",i:[Ul(null,!0)]},Mc:{name:"unlink",i:[Ul("provider")]},mb:{name:"updateEmail",i:[Ul("email")]},nb:{name:"updatePassword",i:[Ul("password")]},Nc:{name:"updatePhoneNumber",i:[Hl("phone")]},ob:{name:"updateProfile",i:[jl("profile")]}}),X(kt.prototype,{ha:{name:"finally"},m:{name:"catch"},then:{name:"then"}}),X(Gs.prototype,{confirm:{name:"confirm",i:[Ul("verificationCode")]}}),Y(Co,"credential",function(e,t){return new Eo(e,t)},[Ul("email"),Ul("password")]),X(N.prototype,{ta:{name:"addScope",i:[Ul("scope")]},Ca:{name:"setCustomParameters",i:[jl("customOAuthParameters")]}}),Y(N,"credential",ho,[Jl(Ul(),jl(),"token")]),Y(Co,"credentialWithLink",O,[Ul("email"),Ul("emailLink")]),X(fo.prototype,{ta:{name:"addScope",i:[Ul("scope")]},Ca:{name:"setCustomParameters",i:[jl("customOAuthParameters")]}}),Y(fo,"credential",go,[Jl(Ul(),jl(),"token")]),X(yo.prototype,{ta:{name:"addScope",i:[Ul("scope")]},Ca:{name:"setCustomParameters",i:[jl("customOAuthParameters")]}}),Y(yo,"credential",bo,[Jl(Ul(),Jl(jl(),Bl()),"idToken"),Jl(Ul(),Bl(),"accessToken",!0)]),X(_o.prototype,{Ca:{name:"setCustomParameters",i:[jl("customOAuthParameters")]}}),Y(_o,"credential",vo,[Jl(Ul(),jl(),"token"),Ul("secret",!0)]),X(mo.prototype,{ta:{name:"addScope",i:[Ul("scope")]},credential:{name:"credential",i:[Jl(Ul(),Bl(),"idToken",!0),Jl(Ul(),Bl(),"accessToken",!0)]},Ca:{name:"setCustomParameters",i:[jl("customOAuthParameters")]}}),Y(ko,"credential",xo,[Ul("verificationId"),Ul("verificationCode")]),X(ko.prototype,{Sa:{name:"verifyPhoneNumber",i:[Ul("phoneNumber"),Ql()]}}),X(Le.prototype,{toJSON:{name:"toJSON",i:[Ul(null,!0)]}}),X(Oo.prototype,{toJSON:{name:"toJSON",i:[Ul(null,!0)]}}),X(Do.prototype,{toJSON:{name:"toJSON",i:[Ul(null,!0)]}}),X(Ll.prototype,{clear:{name:"clear",i:[]},render:{name:"render",i:[]},verify:{name:"verify",i:[]}}),function(){if("undefined"!=typeof ep&&ep.INTERNAL&&ep.INTERNAL.registerService){var e={Auth:ul,Error:Le};Y(e,"EmailAuthProvider",Co,[]),Y(e,"FacebookAuthProvider",N,[]),Y(e,"GithubAuthProvider",fo,[]),Y(e,"GoogleAuthProvider",yo,[]),Y(e,"TwitterAuthProvider",_o,[]),Y(e,"OAuthProvider",mo,[Ul("providerId")]),Y(e,"PhoneAuthProvider",ko,[ql()]),Y(e,"RecaptchaVerifier",Ll,[Jl(Ul(),Vl(),"recaptchaContainer"),jl("recaptchaParameters",!0),zl()]),ep.INTERNAL.registerService("auth",function(e,t){return e=new ul(e),t({INTERNAL:{getUid:j(e.getUid,e),getToken:j(e.$b,e),addAuthTokenListener:j(e.Qb,e),removeAuthTokenListener:j(e.zc,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),ep.INTERNAL.extendNamespace({User:cd})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app-f670ca2353.js before this library.")}()}).call("undefined"==typeof n?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:n)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{"@firebase/app":1}],3:[function(e,t,n){var o=Math.round,r=Math.pow,d=Math.min,l=Math.floor,s=Math.max;(function(i){"use strict";/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(e){for(var t="",n=e.split("/"),o=0;o<n.length;o++)if(0<n[o].length){var r=n[o];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}t+="/"+r}return t}function c(e){var t={};e.startsWith("?")&&(e=e.substring(1));for(var n=0,o=e.split("&"),r;n<o.length;n++)if(r=o[n],0!==r.length){var i=r.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):F("Invalid query segment '"+r+"' in query '"+e+"'")}return t}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(e,t){return W(e.name,t.name)}function m(e,t){return W(e,t)}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(e,t){if(void 0===t&&(t=null),null===e)return at.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),y.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){var n=e;return new Ke(n,h(t))}if(!(e instanceof Array)&&mt){var o=[],r=!1,i=e;if(y.forEach(i,function(e){if("string"!=typeof e||"."!==e.substring(0,1)){var t=h(i[e]);t.isEmpty()||(r=r||!t.getPriority().isEmpty(),o.push(new Be(e,t)))}}),0==o.length)return at.EMPTY_NODE;var s=et(o,u,function(e){return e.name},m);if(r){var d=et(o,Qe.getCompare());return new at(s,h(t),new nt({".priority":d},{".priority":Qe}))}return new at(s,h(t),nt.Default)}var l=at.EMPTY_NODE,p=e;return y.forEach(p,function(e,t){if(y.contains(p,e)&&"."!==e.substring(0,1)){var n=h(t);(n.isLeafNode()||!n.isEmpty())&&(l=l.updateImmediateChild(e,n))}}),l.updatePriority(h(t))}function f(e){var n=e.INTERNAL.registerService("database",function(e,t,n){return $n.getInstance().databaseFromApp(e,n)},{Reference:Kn,Query:Ct,Database:Jn,enableLogging:A,INTERNAL:ea,ServerValue:aa,TEST_ACCESS:na},null,!0);y.isNodeSdk()&&(t.exports=n)}var g=Math.log;Object.defineProperty(n,"__esModule",{value:!0});var y=e("@firebase/util"),b=e("@firebase/logger"),_=e("tslib"),v=function(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}(e("@firebase/app")),E=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),y.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:y.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),C=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return y.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),T=function(e){try{if("undefined"!=typeof window&&"undefined"!=typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new E(t)}}catch(t){}return new C},I=T("localStorage"),S=T("sessionStorage"),k=new b.Logger("@firebase/database"),x=function(){var e=1;return function(){return e++}}(),N=function(e){var t=y.stringToByteArray(e),n=new y.Sha1;n.update(t);var o=n.digest();return y.base64.encodeByteArray(o)},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",o=0;o<e.length;o++)n+=Array.isArray(e[o])||e[o]&&"object"==typeof e[o]&&"number"==typeof e[o].length?w.apply(null,e[o]):"object"==typeof e[o]?y.stringify(e[o]):e[o],n+=" ";return n},R=null,P=!0,A=function(e,t){y.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(k.logLevel=b.LogLevel.VERBOSE,R=k.log.bind(k),t&&S.set("logging_enabled",!0)):"function"==typeof e?R=e:(R=null,S.remove("logging_enabled"))},D=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0==P&&(P=!1,null===R&&!0===S.get("logging_enabled")&&A(!0)),R){var n=w.apply(null,e);R(n)}},O=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];D.apply(void 0,[e].concat(t))}},M=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+w.apply(void 0,e);k.error(n)},L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+w.apply(void 0,e);throw k.error(n),new Error(n)},F=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+w.apply(void 0,e);k.warn(n)},U=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&F("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},j=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},B=function(e){if(y.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){return document.body?void(!t&&(t=!0,e())):void setTimeout(n,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},V="[MIN_NAME]",q="[MAX_NAME]",W=function(e,t){if(e===t)return 0;if(e===V||t===q)return-1;if(t===V||e===q)return 1;var n=ee(e),o=ee(t);return null===n?null===o?e<t?-1:1:1:null===o?-1:0==n-o?e.length-t.length:n-o},z=function(e,t){return e===t?0:e<t?-1:1},H=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+y.stringify(t))},K=function(e){if("object"!=typeof e||null===e)return y.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var o="{",r=0;r<t.length;r++)0!==r&&(o+=","),o+=y.stringify(t[r]),o+=":",o+=K(e[t[r]]);return o+="}",o},G=function(e,t){var n=e.length;if(n<=t)return[e];for(var o=[],r=0;r<n;r+=t)r+t>n?o.push(e.substring(r,n)):o.push(e.substring(r,r+t));return o},Q=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else y.forEach(e,function(e,n){return t(n,e)})},Y=function(t){y.assert(!j(t),"Invalid JSON number");var n=11,p=52,c=(1<<n-1)-1,u,s,e,m,h,i,f;for(0===t?(s=0,e=0,u=1/t==-Infinity?1:0):(u=0>t,t=Math.abs(t),2.2250738585072014e-308<=t?(m=d(l(g(t)/Math.LN2),c),s=m+c,e=o(t*r(2,p-m)-4503599627370496)):(s=0,e=o(t/5e-324))),i=[],h=p;h;h-=1)i.push(e%2?1:0),e=l(e/2);for(h=n;h;h-=1)i.push(s%2?1:0),s=l(s/2);i.push(u?1:0),i.reverse(),f=i.join("");var b="";for(h=0;64>h;h+=8){var _=parseInt(f.substr(h,8),2).toString(16);1===_.length&&(_="0"+_),b+=_}return b.toLowerCase()},X=function(){return!!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI},J=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var o=new Error(e+" at "+t.path.toString()+": "+n);return o.code=e.toUpperCase(),o},Z=/^-?\d{1,10}$/,ee=function(e){if(Z.test(e)){var t=+e;if(-2147483648<=t&&2147483647>=t)return t}return null},te=function(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||"";throw F("Exception was thrown by user callback.",e),t},0)}},ne=function(){var e="object"==typeof window&&window.navigator&&window.navigator.userAgent||"";return 0<=e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)},ae=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},oe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,o=0;o<this.pieces_.length;o++)0<this.pieces_[o].length&&(this.pieces_[n]=this.pieces_[o],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(this.pieces_[t]+""));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],o=this.pieceNum_;o<this.pieces_.length;o++)n.push(this.pieces_[o]);if(t instanceof e)for(var o=t.pieceNum_;o<t.pieces_.length;o++)n.push(t.pieces_[o]);else for(var r=t.split("/"),o=0;o<r.length;o++)0<r[o].length&&n.push(r[o]);return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var o=t.getFront(),r=n.getFront();if(null===o)return n;if(o===r)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),o=t.slice(),r=0,i;r<n.length&&r<o.length;r++)if(i=W(n[r],o[r]),0!==i)return i;return n.length===o.length?0:n.length<o.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),re=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=s(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=y.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=y.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=y.stringLength(e),0<this.parts_.length&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),ie="5",se="v",de="s",le="r",pe="f",ce="firebaseio.com",ue="ls",me="websocket",he="long_polling",fe=function(){function e(e,t,n,o,r){void 0===r&&(r=""),this.secure=t,this.namespace=n,this.webSocketOnly=o,this.persistenceKey=r,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=I.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&I.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){y.assert("string"==typeof e,"typeof type must == string"),y.assert("object"==typeof t,"typeof params must == object");var n;if(e===me)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if(e===he)n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);this.needsQueryParam()&&(t.ns=this.namespace);var o=[];return y.forEach(t,function(e,t){o.push(e+"="+t)}),n+o.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}(),ge=function(e){var t=ye(e),n=t.subdomain;"firebase"===t.domain&&L(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||L("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||U();var o="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new fe(t.host,t.secure,n,o),path:new oe(t.pathString)}},ye=function(e){var t="",n="",o="",r="",i=!0,s="https",l=443;if("string"==typeof e){var u=e.indexOf("//");0<=u&&(s=e.substring(0,u-1),e=e.substring(u+2));var m=e.indexOf("/");-1===m&&(m=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,d(m,h)),m<h&&(r=p(e.substring(m,h)));var f=c(e.substring(d(e.length,h)));u=t.indexOf(":"),0<=u?(i="https"===s||"wss"===s,l=parseInt(t.substring(u+1),10)):u=e.length;var g=t.split(".");3===g.length?(n=g[1],o=g[0].toLowerCase()):2===g.length?n=g[0]:"localhost"===g[0].slice(0,u).toLowerCase()&&(n="localhost"),""===o&&"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:o,secure:i,scheme:s,pathString:r}},be=/[\[\].#$\/\u0000-\u001F\u007F]/,_e=/[\[\].#$\u0000-\u001F\u007F]/,ve=10485760,Ee=function(e){return"string"==typeof e&&0!==e.length&&!be.test(e)},Ce=function(e){return"string"==typeof e&&0!==e.length&&!_e.test(e)},Te=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ce(e)},Ie=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!j(e)||e&&"object"==typeof e&&y.contains(e,".sv")},Se=function(e,t,n,o,r){r&&void 0===n||ke(y.errorPrefix(e,t,r),n,o)},ke=function(e,t,n){var o=n instanceof oe?new re(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+o.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+o.toErrorString()+" with contents = "+t.toString());if(j(t))throw new Error(e+"contains "+t.toString()+" "+o.toErrorString());if("string"==typeof t&&t.length>ve/3&&y.stringLength(t)>ve)throw new Error(e+"contains a string greater than "+ve+" utf8 bytes "+o.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var r=!1,i=!1;if(y.forEach(t,function(t,n){if(".value"===t)r=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Ee(t)))throw new Error(e+" contains an invalid key ("+t+") "+o.toErrorString()+".  Keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"");o.push(t),ke(e,n,o),o.pop()}),r&&i)throw new Error(e+" contains \".value\" child "+o.toErrorString()+" in addition to actual children.")}},xe=function(e,t){var n,o;for(n=0;n<t.length;n++){o=t[n];for(var r=o.slice(),i=0;i<r.length;i++)if(".priority"===r[i]&&i===r.length-1);else if(!Ee(r[i]))throw new Error(e+"contains an invalid key ("+r[i]+") in path "+o.toString()+". Keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"")}t.sort(oe.comparePaths);var s=null;for(n=0;n<t.length;n++){if(o=t[n],null!=s&&s.contains(o))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+o.toString());s=o}},Ne=function(e,t,n,o,r){if(!(r&&void 0===n)){var i=y.errorPrefix(e,t,r);if(!(n&&"object"==typeof n)||Array.isArray(n))throw new Error(i+" must be an object containing the children to replace.");var s=[];y.forEach(n,function(e,t){var n=new oe(e);if(ke(i,t,o.child(n)),".priority"===n.getBack()&&!Ie(t))throw new Error(i+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),xe(i,s)}},we=function(e,t,n,o){if(!(o&&void 0===n)){if(j(n))throw new Error(y.errorPrefix(e,t,o)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ie(n))throw new Error(y.errorPrefix(e,t,o)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Re=function(e,t,n,o){if(!(o&&void 0===n))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(y.errorPrefix(e,t,o)+"must be a valid event type = \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".");}},Pe=function(e,t,n,o){if(!(o&&void 0===n)&&!Ee(n))throw new Error(y.errorPrefix(e,t,o)+"was an invalid key = \""+n+"\".  Firebase keys must be non-empty strings and can't contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").")},Ae=function(e,t,n,o){if(!(o&&void 0===n)&&!Ce(n))throw new Error(y.errorPrefix(e,t,o)+"was an invalid path = \""+n+"\". Paths must be non-empty strings and can't contain \".\", \"#\", \"$\", \"[\", or \"]\"")},De=function(e,t,n,o){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ae(e,t,n,o)},Oe=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},Me=function(e,t,n){var o=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Ee(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==o.length&&!Te(o))throw new Error(y.errorPrefix(e,t,!1)+"must be a valid firebase URL and the path can't contain \".\", \"#\", \"$\", \"[\", or \"]\".")},Le=function(e,t,n,o){if(!(o&&void 0===n)&&"boolean"!=typeof n)throw new Error(y.errorPrefix(e,t,o)+"must be a boolean.")},Fe=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){y.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),y.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new y.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){y.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Oe("OnDisconnect.remove",this.path_),y.validateCallback("OnDisconnect.remove",1,e,!0);var t=new y.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){y.validateArgCount("OnDisconnect.set",1,2,arguments.length),Oe("OnDisconnect.set",this.path_),Se("OnDisconnect.set",1,e,this.path_,!1),y.validateCallback("OnDisconnect.set",2,t,!0);var n=new y.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){y.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Oe("OnDisconnect.setWithPriority",this.path_),Se("OnDisconnect.setWithPriority",1,e,this.path_,!1),we("OnDisconnect.setWithPriority",2,t,!1),y.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var o=new y.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,o.wrapCallback(n)),o.promise},e.prototype.update=function(e,t){if(y.validateArgCount("OnDisconnect.update",1,2,arguments.length),Oe("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},o=0;o<e.length;++o)n[""+o]=e[o];e=n,F("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ne("OnDisconnect.update",1,e,this.path_,!1),y.validateCallback("OnDisconnect.update",2,t,!0);var r=new y.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,r.wrapCallback(t)),r.promise},e}(),Ue=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return y.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),je=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(o){var r=o===t;t=o;var s=Array(8),d;for(d=7;0<=d;d--)s[d]=e.charAt(o%64),o=l(o/64);y.assert(0===o,"Cannot push at time == 0");var i=s.join("");if(!r)for(d=0;12>d;d++)n[d]=l(64*Math.random());else{for(d=11;0<=d&&63===n[d];d--)n[d]=0;n[d]++}for(d=0;12>d;d++)i+=e.charAt(n[d]);return y.assert(20===i.length,"nextPushId: Length should be 20."),i}}(),Be=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Ve=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Be(V,e),o=new Be(V,t);return 0!==this.compare(n,o)},e.prototype.minPost=function(){return Be.MIN},e}(),qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return it},set:function(e){it=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return W(e.name,t.name)},t.prototype.isDefinedOn=function(){throw y.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(){return!1},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return new Be(q,it)},t.prototype.makePost=function(e){return y.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new Be(e,it)},t.prototype.toString=function(){return".key"},t}(Ve),We=new qe,ze=function(e){return"number"==typeof e?"number:"+Y(e):"string:"+e},He=function(e){if(e.isLeafNode()){var t=e.val();y.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&y.contains(t,".sv"),"Priority must be a string or number.")}else y.assert(e===st||e.isEmpty(),"priority of unexpected type.");y.assert(e===st||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ke=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,y.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),He(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return dt},set:function(e){dt=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var o=t.getFront();return null===o?n:n.isEmpty()&&".priority"!==o?this:(y.assert(".priority"!==o||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(o,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ze(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"==t?Y(this.value_):this.value_,this.lazyHash_=N(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(y.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,o=typeof this.value_,r=e.VALUE_TYPE_ORDER.indexOf(n),i=e.VALUE_TYPE_ORDER.indexOf(o);return y.assert(0<=r,"Unknown leaf type: "+n),y.assert(0<=i,"Unknown leaf type: "+o),r===i?"object"==o?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),Ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),o=t.node.getPriority(),r=n.compareTo(o);return 0===r?W(e.name,t.name):r},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return new Be(q,new Ke("[PRIORITY-POST]",pt))},t.prototype.makePost=function(e,t){var n=lt(e);return new Be(t,new Ke("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Ve),Qe=new Ge,Ye=function(){function e(e,t,n,o,r){void 0===r&&(r=null),this.isReverse_=o,this.resultGenerator_=r,this.nodeStack_=[];for(var i=1;!e.isEmpty();)if(e=e,i=t?n(e.key,t):1,o&&(i*=-1),0>i)e=this.isReverse_?e.left:e.right;else if(0===i){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_.pop(),t;if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},e.prototype.hasNext=function(){return 0<this.nodeStack_.length},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Xe=function(){function e(t,n,o,r,i){this.key=t,this.value=n,this.color=null==o?e.RED:o,this.left=null==r?Je.EMPTY_NODE:r,this.right=null==i?Je.EMPTY_NODE:i}return e.prototype.copy=function(t,n,o,r,i){return new e(null==t?this.key:t,null==n?this.value:n,null==o?this.color:o,null==r?this.left:r,null==i?this.right:i)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,o){var r,i;return i=this,r=o(e,i.key),i=0>r?i.copy(null,null,null,i.left.insert(e,t,o),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,o)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Je.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},e.prototype.remove=function(e,t){var o,n;if(o=this,0>t(e,o.key))o.left.isEmpty()||o.left.isRed_()||o.left.left.isRed_()||(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),o.right.isEmpty()||o.right.isRed_()||o.right.left.isRed_()||(o=o.moveRedRight_()),0===t(e,o.key)){if(o.right.isEmpty())return Je.EMPTY_NODE;n=o.right.min_(),o=o.copy(n.key,n.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return r(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if(e=this.left.check_(),e!==this.right.check_())throw new Error("Black depths differ");else return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),$e=function(){function e(){}return e.prototype.copy=function(){return this},e.prototype.insert=function(e,t){return new Xe(e,t,null)},e.prototype.remove=function(){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(){return!1},e.prototype.reverseTraversal=function(){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Je=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Xe.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Xe.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root_,n;!t.isEmpty();){if(n=this.comparator_(e,t.key),0===n)return t.value;0>n?t=t.left:0<n&&(t=t.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t=this.root_,n=null,o;!t.isEmpty();){if(o=this.comparator_(e,t.key),0===o){if(!t.left.isEmpty()){for(t=t.left;!t.right.isEmpty();)t=t.right;return t.key}return n?n.key:null}0>o?t=t.left:0<o&&(n=t,t=t.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ye(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ye(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ye(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ye(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new $e,e}(),Ze=function(){function e(e){this.count=function(e){return parseInt(g(e)/0.6931471805599453,10)}(e+1),this.current_=this.count-1;var t=function(e){return parseInt(Array(e+1).join("1"),2)}(this.count);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),et=function(e,t,n,o){e.sort(t);var i=function(t,o){var r=o-t,s,d;if(0==r)return null;if(1==r)return s=e[t],d=n?n(s):s,new Xe(d,s.node,Xe.BLACK,null,null);var l=parseInt(r/2,10)+t,p=i(t,l),c=i(l+1,o);return s=e[l],d=n?n(s):s,new Xe(d,s.node,Xe.BLACK,p,c)},s=new Ze(e.length),d=function(t){for(var o=null,s=null,d=e.length,l=function(t,o){var r=d-t,s=d;d-=t;var l=i(r+1,s),c=e[r],u=n?n(c):c;p(new Xe(u,c.node,o,null,l))},p=function(e){o?(o.left=e,o=e):(s=e,o=e)},c=0;c<t.count;++c){var u=t.nextBitIsOne(),m=r(2,t.count-(c+1));u?l(m,Xe.BLACK):(l(m,Xe.BLACK),l(m,Xe.RED))}return s}(s);return new Je(o||t,d)},tt={},nt=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return y.assert(Qe,"ChildrenNode.ts has not been loaded"),ct=ct||new e({".priority":tt},{".priority":Qe}),ct},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=y.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===tt?null:t},e.prototype.hasIndex=function(e){return y.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){y.assert(t!==We,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var o=[],r=!1,i=n.getIterator(Be.Wrap),s=i.getNext();s;)r=r||t.isDefinedOn(s.node),o.push(s),s=i.getNext();var d=r?et(o,t.getCompare()):tt;var l=t.toString(),p=y.clone(this.indexSet_);p[l]=t;var c=y.clone(this.indexes_);return c[l]=d,new e(c,p)},e.prototype.addToIndexes=function(t,n){var o=this,r=y.map(this.indexes_,function(e,r){var i=y.safeGet(o.indexSet_,r);if(y.assert(i,"Missing index implementation for "+r),e===tt){if(i.isDefinedOn(t.node)){for(var s=[],d=n.getIterator(Be.Wrap),l=d.getNext();l;)l.name!=t.name&&s.push(l),l=d.getNext();return s.push(t),et(s,i.getCompare())}return tt}var p=n.get(t.name),c=e;return p&&(c=c.remove(new Be(t.name,p))),c.insert(t,t.node)});return new e(r,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var o=y.map(this.indexes_,function(e){if(e===tt)return e;var o=n.get(t.name);return o?e.remove(new Be(t.name,o)):e});return new e(o,this.indexSet_)},e}(),at=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&He(this.priorityNode_),this.children_.isEmpty()&&y.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return ut||(ut=new e(new Je(m),null,nt.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||ut},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ut:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(y.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var o=new Be(t,n),r=void 0,i=void 0,s=void 0;return n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(o,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(o,this.children_)),s=r.isEmpty()?ut:this.priorityNode_,new e(r,s,i)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;y.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var o=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,o)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},o=0,r=0,i=!0;if(this.forEachChild(Qe,function(d,l){n[d]=l.val(t),o++,i&&e.INTEGER_REGEXP_.test(d)?r=s(r,+d):i=!1}),!t&&i&&r<2*o){var d=[];for(var l in n)d[l]=n[l];return d}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ze(this.getPriority().val())+":"),this.forEachChild(Qe,function(t,n){var o=n.hash();""!==o&&(e+=":"+t+":"+o)}),this.lazyHash_=""==e?"":N(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var o=this.resolveIndex_(n);if(o){var r=o.getPredecessorKey(new Be(e,t));return r?r.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Be(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Be(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var o=this.children_.getIteratorFrom(e.name,Be.Wrap),r=o.peek();null!=r&&0>t.compare(r,e);)o.getNext(),r=o.peek();return o},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var o=this.children_.getReverseIteratorFrom(e.name,Be.Wrap),r=o.peek();null!=r&&0<t.compare(r,e);)o.getNext(),r=o.peek();return o},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rt?-1:0},e.prototype.withIndex=function(t){if(t===We||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===We||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(!this.getPriority().equals(t.getPriority()))return!1;if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Qe),o=t.getIterator(Qe),r=n.getNext(),i=o.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=n.getNext(),i=o.getNext()}return null===r&&null===i}return!1},e.prototype.resolveIndex_=function(e){return e===We?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ot=function(e){function t(){return e.call(this,new Je(m),at.EMPTY_NODE,nt.Default)||this}return _.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(){return at.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(at),rt=new ot,it,st,dt,lt,pt,ct,ut;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Object.defineProperties(Be,{MIN:{value:new Be(V,at.EMPTY_NODE)},MAX:{value:new Be(q,rt)}}),qe.__EMPTY_NODE=at.EMPTY_NODE,Ke.__childrenNodeConstructor=at,function(e){st=e}(rt),function(e){pt=e}(rt);/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt=!0;(function(e){lt=e})(h);/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?W(e.name,t.name):n},t.prototype.isDefinedOn=function(){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Be.MIN},t.prototype.maxPost=function(){return Be.MAX},t.prototype.makePost=function(e,t){var n=h(e);return new Be(t,n)},t.prototype.toString=function(){return".value"},t}(Ve),ft=new ht,gt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,y.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return _.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),o=this.extractChild(t.node),r=n.compareTo(o);return 0===r?W(e.name,t.name):r},t.prototype.makePost=function(e,t){var n=h(e),o=at.EMPTY_NODE.updateChild(this.indexPath_,n);return new Be(t,o)},t.prototype.maxPost=function(){var e=at.EMPTY_NODE.updateChild(this.indexPath_,rt);return new Be(q,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(Ve),yt=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return y.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return y.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return y.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return y.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){y.validateArgCount("DataSnapshot.child",0,1,arguments.length),t+="",Ae("DataSnapshot.child",1,t,!1);var n=new oe(t),o=this.ref_.child(n);return new e(this.node_.getChild(n),o,Qe)},e.prototype.hasChild=function(e){y.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Ae("DataSnapshot.hasChild",1,e,!1);var t=new oe(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return y.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(y.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),y.validateCallback("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var o=this.node_;return!!o.forEachChild(this.index_,function(o,r){return t(new e(r,n.ref_.child(o),Qe))})},e.prototype.hasChildren=function(){return y.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return y.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return y.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),bt=function(){function e(e,t,n,o){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=o}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+y.stringify(this.snapshot.exportVal())},e}(),_t=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),vt=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new bt("value",this,new yt(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){y.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var o=this.callback_;return function(){o.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new _t(this,e,t):null},e.prototype.matches=function(t){return!!(t instanceof e)&&(t.callback_&&this.callback_?t.callback_===this.callback_&&t.context_===this.context_:!0)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Et=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"==t?"child_removed":t,y.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new _t(this,e,t):null},e.prototype.createEvent=function(e,t){y.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),o=t.getQueryParams().getIndex();return new bt(e.type,this,new yt(e.snapshotNode,n,o),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){y.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var o=this.callbacks_[e.eventType];return function(){o.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=y.getCount(t.callbacks_),o=y.getCount(this.callbacks_);if(n===o){if(1===n){var r=y.getAnyKey(t.callbacks_),i=y.getAnyKey(this.callbacks_);return i===r&&(!t.callbacks_[r]||!this.callbacks_[i]||t.callbacks_[r]===this.callbacks_[i])}return y.every(this.callbacks_,function(e,n){return t.callbacks_[e]===n})}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),Ct=function(){function e(e,t,n,o){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=o}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return y.assert(wt,"Reference.ts has not been loaded"),wt},set:function(e){wt=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===We){var o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){var i=e.getIndexStartName();if(i!=V)throw new Error(o);else if("string"!=typeof t)throw new Error(r)}if(e.hasEnd()){var s=e.getIndexEndName();if(s!=q)throw new Error(o);else if("string"!=typeof n)throw new Error(r)}}else if(e.getIndex()===Qe){if(null!=t&&!Ie(t)||null!=n&&!Ie(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(y.assert(e.getIndex()instanceof gt||e.getIndex()===ft,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return y.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,o,r){y.validateArgCount("Query.on",2,4,arguments.length),Re("Query.on",1,t,!1),y.validateCallback("Query.on",2,n,!1);var i=e.getCancelAndContextArgs_("Query.on",o,r);if("value"===t)this.onValueEvent(n,i.cancel,i.context);else{var s={};s[t]=n,this.onChildEvent(s,i.cancel,i.context)}return n},e.prototype.onValueEvent=function(e,t,n){var o=new vt(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,o)},e.prototype.onChildEvent=function(e,t,n){var o=new Et(e,t,n);this.repo.addEventCallbackForQuery(this,o)},e.prototype.off=function(e,t,n){y.validateArgCount("Query.off",0,3,arguments.length),Re("Query.off",1,e,!0),y.validateCallback("Query.off",2,t,!0),y.validateContextObject("Query.off",3,n,!0);var o=null,r=null;if("value"===e){o=new vt(t||null,null,n||null)}else e&&(t&&(r={},r[e]=t),o=new Et(r,null,n||null));this.repo.removeEventCallbackForQuery(this,o)},e.prototype.once=function(t,n,o,r){var i=this;y.validateArgCount("Query.once",1,4,arguments.length),Re("Query.once",1,t,!1),y.validateCallback("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",o,r),d=!0,l=new y.Deferred;l.promise.catch(function(){});var p=function(e){d&&(d=!1,i.off(t,p),n&&n.bind(s.context)(e),l.resolve(e))};return this.on(t,p,function(e){i.off(t,p),s.cancel&&s.cancel.bind(s.context)(e),l.reject(e)}),l.promise},e.prototype.limitToFirst=function(t){if(y.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||l(t)!==t||0>=t)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(y.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||l(t)!==t||0>=t)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(y.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error("Query.orderByChild: \"$key\" is invalid.  Use Query.orderByKey() instead.");else if("$priority"===t)throw new Error("Query.orderByChild: \"$priority\" is invalid.  Use Query.orderByPriority() instead.");else if("$value"===t)throw new Error("Query.orderByChild: \"$value\" is invalid.  Use Query.orderByValue() instead.");Ae("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new oe(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var o=new gt(n),r=this.queryParams_.orderBy(o);return e.validateQueryEndpoints_(r),new e(this.repo,this.path,r,!0)},e.prototype.orderByKey=function(){y.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(We);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){y.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Qe);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){y.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(ft);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),y.validateArgCount("Query.startAt",0,2,arguments.length),Se("Query.startAt",1,t,this.path,!0),Pe("Query.startAt",2,n,!0);var o=this.queryParams_.startAt(t,n);if(e.validateLimit_(o),e.validateQueryEndpoints_(o),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,o,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),y.validateArgCount("Query.endAt",0,2,arguments.length),Se("Query.endAt",1,t,this.path,!0),Pe("Query.endAt",2,n,!0);var o=this.queryParams_.endAt(t,n);if(e.validateLimit_(o),e.validateQueryEndpoints_(o),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,o,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(y.validateArgCount("Query.equalTo",1,2,arguments.length),Se("Query.equalTo",1,e,this.path,!1),Pe("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return y.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return y.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=K(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(y.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===t.repo,o=this.path.equals(t.path),r=this.queryIdentifier()===t.queryIdentifier();return n&&o&&r},e.getCancelAndContextArgs_=function(e,t,n){var o={cancel:null,context:null};if(t&&n)o.cancel=t,y.validateCallback(e,3,o.cancel,!0),o.context=n,y.validateContextObject(e,4,o.context,!0);else if(t)if("object"==typeof t&&null!==t)o.context=t;else if("function"==typeof t)o.cancel=t;else throw new Error(y.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");return o},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Tt=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return y.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return y.isEmpty(this.set)},e.prototype.count=function(){return y.getCount(this.set)},e.prototype.each=function(e){y.forEach(this.set,function(t,n){return e(t,n)})},e.prototype.keys=function(){var e=[];return y.forEach(this.set,function(t){e.push(t)}),e},e}(),It=function(){function e(){this.value_=null,this.children_=null}return e.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(!e.isEmpty()&&null!=this.children_){var t=e.getFront();if(e=e.popFront(),this.children_.contains(t)){var n=this.children_.get(t);return n.find(e)}return null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(t,n);else{null==this.children_&&(this.children_=new Tt);var o=t.getFront();this.children_.contains(o)||this.children_.add(o,new e);var r=this.children_.get(o);t=t.popFront(),r.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(Qe,function(e,t){n.remember(new oe(e),t)}),this.forget(e)}if(null!==this.children_){var o=e.getFront();if(e=e.popFront(),this.children_.contains(o)){var r=this.children_.get(o).forget(e);r&&this.children_.remove(o)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},e.prototype.forEachTree=function(e,t){null===this.value_?this.forEachChild(function(n,o){var r=new oe(e.toString()+"/"+n);o.forEachTree(r,t)}):t(e,this.value_)},e.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each(function(t,n){e(t,n)})},e}(),St=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},kt=function(e,t){return e&&"object"==typeof e?(y.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},xt=function(e,t){var n=new It;return e.forEachTree(new oe(""),function(e,o){n.remember(e,Nt(o,t))}),n},Nt=function(e,t){var n=e.getPriority().val(),o=kt(n,t),r;if(e.isLeafNode()){var i=e,s=kt(i.getValue(),t);return s!==i.getValue()||o!==i.getPriority().val()?new Ke(s,h(o)):e}var d=e;return r=d,o!==d.getPriority().val()&&(r=r.updatePriority(new Ke(o))),d.forEachChild(Qe,function(e,n){var o=Nt(n,t);o!==n&&(r=r.updateImmediateChild(e,o))}),r},wt,Rt;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rt||(Rt={}));var Pt=function(){function e(e,t,n,o){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=o,y.assert(!o||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),At=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Rt.ACK_USER_WRITE,this.source=Pt.User}return e.prototype.operationForChild=function(t){if(!this.path.isEmpty())return y.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return y.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new oe(t));return new e(oe.Empty,n,this.revert)},e}(),Dt=function(){return In||(In=new Je(z)),In},Ot=function(){function e(e,t){void 0===t&&(t=Dt()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return y.forEach(t,function(e,t){n=n.set(new oe(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:oe.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),o=this.children.get(n);if(null!==o){var r=o.findRootMostMatchingPathAndValue(e.popFront(),t);if(null!=r){var i=new oe(n).child(r.path);return{path:i,value:r.value}}return null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),o=this.children.get(n);return null===o?e.Empty:o.subtree(t.popFront())},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var o=t.getFront(),r=this.children.get(o)||e.Empty,i=r.set(t.popFront(),n),s=this.children.insert(o,i);return new e(this.value,s)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),o=this.children.get(n);if(o){var r=o.remove(t.popFront()),i=void 0;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&i.isEmpty()?e.Empty:new e(this.value,i)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var o=t.getFront(),r=this.children.get(o)||e.Empty,i=r.setTree(t.popFront(),n),s=void 0;return s=i.isEmpty()?this.children.remove(o):this.children.insert(o,i),new e(this.value,s)},e.prototype.fold=function(e){return this.fold_(oe.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(o,r){n[o]=r.fold_(e.child(o),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,oe.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var o=!!this.value&&n(t,this.value);if(o)return o;if(e.isEmpty())return null;var r=e.getFront(),i=this.children.get(r);return i?i.findOnPath_(e.popFront(),t.child(r),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,oe.Empty,t)},e.prototype.foreachOnPath_=function(t,n,o){if(t.isEmpty())return this;this.value&&o(n,this.value);var r=t.getFront(),i=this.children.get(r);return i?i.foreachOnPath_(t.popFront(),n.child(r),o):e.Empty},e.prototype.foreach=function(e){this.foreach_(oe.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,o){o.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}(),Mt=function(){function e(e,t){this.source=e,this.path=t,this.type=Rt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(){return this.path.isEmpty()?new e(this.source,oe.Empty):new e(this.source,this.path.popFront())},e}(),Lt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Rt.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,oe.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),Ft=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Rt.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new oe(t));return n.isEmpty()?null:n.value?new Lt(this.source,oe.Empty,n.value):new e(this.source,oe.Empty,n)}return y.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Ut=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),jt=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,o){return new e(new Ut(t,n,o),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,o){return new e(this.eventCache_,new Ut(t,n,o))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new Ut(at.EMPTY_NODE,!1,!1),new Ut(at.EMPTY_NODE,!1,!1)),e}(),Bt=function(){function e(e,t,n,o,r){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=o,this.prevName=r}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,o){return new e(e.CHILD_CHANGED,n,t,o)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),Vt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,o,r,i){y.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(o).equals(n.getChild(o))&&s.isEmpty()==n.isEmpty()?e:(null!=i&&(n.isEmpty()?e.hasChild(t)?i.trackChildChange(Bt.childRemovedChange(t,s)):y.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?i.trackChildChange(Bt.childAddedChange(t,n)):i.trackChildChange(Bt.childChangedChange(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(!e.isLeafNode()&&e.forEachChild(Qe,function(e,o){t.hasChild(e)||n.trackChildChange(Bt.childRemovedChange(e,o))}),!t.isLeafNode()&&t.forEachChild(Qe,function(t,o){if(e.hasChild(t)){var r=e.getImmediateChild(t);r.equals(o)||n.trackChildChange(Bt.childChangedChange(t,o,r))}else n.trackChildChange(Bt.childAddedChange(t,o))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?at.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),qt=function(){function e(){this.changeMap_={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;y.assert(t==Bt.CHILD_ADDED||t==Bt.CHILD_CHANGED||t==Bt.CHILD_REMOVED,"Only child changes supported for tracking"),y.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var o=y.safeGet(this.changeMap_,n);if(o){var r=o.type;if(t==Bt.CHILD_ADDED&&r==Bt.CHILD_REMOVED)this.changeMap_[n]=Bt.childChangedChange(n,e.snapshotNode,o.snapshotNode);else if(t==Bt.CHILD_REMOVED&&r==Bt.CHILD_ADDED)delete this.changeMap_[n];else if(t==Bt.CHILD_REMOVED&&r==Bt.CHILD_CHANGED)this.changeMap_[n]=Bt.childRemovedChange(n,o.oldSnap);else if(t==Bt.CHILD_CHANGED&&r==Bt.CHILD_ADDED)this.changeMap_[n]=Bt.childAddedChange(n,e.snapshotNode);else if(t==Bt.CHILD_CHANGED&&r==Bt.CHILD_CHANGED)this.changeMap_[n]=Bt.childChangedChange(n,e.snapshotNode,o.oldSnap);else throw y.assertionError("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap_[n]=e},e.prototype.getChanges=function(){return y.getValues(this.changeMap_)},e}(),Wt=function(){function e(){}return e.prototype.getCompleteChild=function(){return null},e.prototype.getChildAfterChild=function(){return null},e}(),zt=new Wt,Ht=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null==this.optCompleteServerCache_?this.viewCache_.getServerCache():new Ut(this.optCompleteServerCache_,!0,!1);return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var o=null==this.optCompleteServerCache_?this.viewCache_.getCompleteServerSnap():this.optCompleteServerCache_,r=this.writes_.calcIndexedSlice(o,t,1,n,e);return 0===r.length?null:r[0]},e}(),Kt=function(){return function(e,t){this.viewCache=e,this.changes=t}}(),Gt=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){y.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),y.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,o,r){var i=new qt,s,d;if(n.type===Rt.OVERWRITE){var l=n;l.source.fromUser?s=this.applyUserOverwrite_(t,l.path,l.snap,o,r,i):(y.assert(l.source.fromServer,"Unknown source."),d=l.source.tagged||t.getServerCache().isFiltered()&&!l.path.isEmpty(),s=this.applyServerOverwrite_(t,l.path,l.snap,o,r,d,i))}else if(n.type===Rt.MERGE){var p=n;p.source.fromUser?s=this.applyUserMerge_(t,p.path,p.children,o,r,i):(y.assert(p.source.fromServer,"Unknown source."),d=p.source.tagged||t.getServerCache().isFiltered(),s=this.applyServerMerge_(t,p.path,p.children,o,r,d,i))}else if(n.type===Rt.ACK_USER_WRITE){var c=n;s=c.revert?this.revertUserWrite_(t,c.path,o,r,i):this.ackUserWrite_(t,c.path,c.affectedTree,o,r,i)}else if(n.type===Rt.LISTEN_COMPLETE)s=this.listenComplete_(t,n.path,o,i);else throw y.assertionError("Unknown operation type: "+n.type);var u=i.getChanges();return e.maybeAddValueEvent_(t,s,u),new Kt(s,u)},e.maybeAddValueEvent_=function(e,t,n){var o=t.getEventCache();if(o.isFullyInitialized()){var r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=e.getCompleteEventSnap();!(0<n.length)&&e.getEventCache().isFullyInitialized()&&(!r||o.getNode().equals(i))&&o.getNode().getPriority().equals(i.getPriority())||n.push(Bt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,o,r){var i=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var s,d;if(!t.isEmpty()){var l=t.getFront();if(".priority"==l){y.assert(1==t.getLength(),"Can't have a priority with additional path components");var p=i.getNode();d=e.getServerCache().getNode();var c=n.calcEventCacheAfterServerOverwrite(t,p,d);s=null==c?i.getNode():this.filter_.updatePriority(p,c)}else{var u=t.popFront(),m=void 0;if(i.isCompleteForChild(l)){d=e.getServerCache().getNode();var h=n.calcEventCacheAfterServerOverwrite(t,i.getNode(),d);m=null==h?i.getNode().getImmediateChild(l):i.getNode().getImmediateChild(l).updateChild(u,h)}else m=n.calcCompleteChild(l,e.getServerCache());s=null==m?i.getNode():this.filter_.updateChild(i.getNode(),l,m,u,o,r)}}else if(y.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var f=e.getCompleteServerSnap(),g=f instanceof at?f:at.EMPTY_NODE,b=n.calcCompleteEventChildren(g);s=this.filter_.updateFullNode(e.getEventCache().getNode(),b,r)}else{var _=n.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),_,r)}return e.updateEventSnap(s,i.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,o,r,i,s){var d=e.getServerCache(),l=i?this.filter_:this.filter_.getIndexedFilter(),p;if(t.isEmpty())p=l.updateFullNode(d.getNode(),n,null);else if(l.filtersNodes()&&!d.isFiltered()){var c=d.getNode().updateChild(t,n);p=l.updateFullNode(d.getNode(),c,null)}else{var u=t.getFront();if(!d.isCompleteForPath(t)&&1<t.getLength())return e;var m=t.popFront(),h=d.getNode().getImmediateChild(u),f=h.updateChild(m,n);p=".priority"==u?l.updatePriority(d.getNode(),f):l.updateChild(d.getNode(),u,f,m,zt,null)}var g=e.updateServerSnap(p,d.isFullyInitialized()||t.isEmpty(),l.filtersNodes()),y=new Ht(o,g,r);return this.generateEventCacheAfterServerEvent_(g,t,o,y,s)},e.prototype.applyUserOverwrite_=function(e,t,n,o,r,i){var s=e.getEventCache(),d=new Ht(o,e,r),l,p;if(t.isEmpty())p=this.filter_.updateFullNode(e.getEventCache().getNode(),n,i),l=e.updateEventSnap(p,!0,this.filter_.filtersNodes());else{var c=t.getFront();if(".priority"===c)p=this.filter_.updatePriority(e.getEventCache().getNode(),n),l=e.updateEventSnap(p,s.isFullyInitialized(),s.isFiltered());else{var u=t.popFront(),m=s.getNode().getImmediateChild(c),h=void 0;if(u.isEmpty())h=n;else{var f=d.getCompleteChild(c);h=null==f?at.EMPTY_NODE:".priority"===u.getBack()&&f.getChild(u.parent()).isEmpty()?f:f.updateChild(u,n)}if(!m.equals(h)){var g=this.filter_.updateChild(s.getNode(),c,h,u,d,i);l=e.updateEventSnap(g,s.isFullyInitialized(),this.filter_.filtersNodes())}else l=e}}return l},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,o,r,i,s){var d=this,l=t;return o.foreach(function(o,p){var c=n.child(o);e.cacheHasChild_(t,c.getFront())&&(l=d.applyUserOverwrite_(l,c,p,r,i,s))}),o.foreach(function(o,p){var c=n.child(o);e.cacheHasChild_(t,c.getFront())||(l=d.applyUserOverwrite_(l,c,p,r,i,s))}),l},e.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.applyServerMerge_=function(e,t,n,o,r,i,s){var d=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var l=e,p;p=t.isEmpty()?n:Ot.Empty.setTree(t,n);var c=e.getServerCache().getNode();return p.children.inorderTraversal(function(t,n){if(c.hasChild(t)){var p=e.getServerCache().getNode().getImmediateChild(t),u=d.applyMerge_(p,n);l=d.applyServerOverwrite_(l,new oe(t),u,o,r,i,s)}}),p.children.inorderTraversal(function(t,n){var p=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!c.hasChild(t)&&!p){var u=e.getServerCache().getNode().getImmediateChild(t),m=d.applyMerge_(u,n);l=d.applyServerOverwrite_(l,new oe(t),m,o,r,i,s)}}),l},e.prototype.ackUserWrite_=function(e,t,n,o,r,i){if(null!=o.shadowingWrite(t))return e;var s=e.getServerCache().isFiltered(),d=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&d.isFullyInitialized()||d.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,d.getNode().getChild(t),o,r,s,i);if(t.isEmpty()){var l=Ot.Empty;return d.getNode().forEachChild(We,function(e,t){l=l.set(new oe(e),t)}),this.applyServerMerge_(e,t,l,o,r,s,i)}return e}var p=Ot.Empty;return n.foreach(function(e){var n=t.child(e);d.isCompleteForPath(n)&&(p=p.set(e,d.getNode().getChild(n)))}),this.applyServerMerge_(e,t,p,o,r,s,i)},e.prototype.listenComplete_=function(e,t,n,o){var r=e.getServerCache(),i=e.updateServerSnap(r.getNode(),r.isFullyInitialized()||t.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(i,t,n,zt,o)},e.prototype.revertUserWrite_=function(e,t,n,o,r){var i;if(null!=n.shadowingWrite(t))return e;var s=new Ht(n,e,o),d=e.getEventCache().getNode(),l=void 0;if(t.isEmpty()||".priority"===t.getFront()){var p;if(e.getServerCache().isFullyInitialized())p=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var c=e.getServerCache().getNode();y.assert(c instanceof at,"serverChildren would be complete if leaf node"),p=n.calcCompleteEventChildren(c)}p=p,l=this.filter_.updateFullNode(d,p,r)}else{var u=t.getFront(),m=n.calcCompleteChild(u,e.getServerCache());null==m&&e.getServerCache().isCompleteForChild(u)&&(m=d.getImmediateChild(u)),l=null==m?e.getEventCache().getNode().hasChild(u)?this.filter_.updateChild(d,u,at.EMPTY_NODE,t.popFront(),s,r):d:this.filter_.updateChild(d,u,m,t.popFront(),s,r),l.isEmpty()&&e.getServerCache().isFullyInitialized()&&(i=n.calcCompleteEventCache(e.getCompleteServerSnap()),i.isLeafNode()&&(l=this.filter_.updateFullNode(l,i,r)))}return i=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(oe.Empty),e.updateEventSnap(l,i,this.filter_.filtersNodes())},e}(),Qt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var o=this,r=[],i=[];return e.forEach(function(e){e.type===Bt.CHILD_CHANGED&&o.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&i.push(Bt.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(r,Bt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(r,Bt.CHILD_ADDED,e,n,t),this.generateEventsForType_(r,Bt.CHILD_MOVED,i,n,t),this.generateEventsForType_(r,Bt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(r,Bt.VALUE,e,n,t),r},e.prototype.generateEventsForType_=function(e,t,n,o,r){var i=this,s=n.filter(function(e){return e.type===t});s.sort(this.compareChanges_.bind(this)),s.forEach(function(t){var n=i.materializeSingleChange_(t,r);o.forEach(function(o){o.respondsTo(t.type)&&e.push(o.createEvent(n,i.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw y.assertionError("Should only compare child_ events.");var n=new Be(e.childName,e.snapshotNode),o=new Be(t.childName,t.snapshotNode);return this.index_.compare(n,o)},e}(),Yt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),o=new Vt(n.getIndex()),r=n.getNodeFilter();this.processor_=new Gt(r);var i=t.getServerCache(),s=t.getEventCache(),d=o.updateFullNode(at.EMPTY_NODE,i.getNode(),null),l=r.updateFullNode(at.EMPTY_NODE,s.getNode(),null),p=new Ut(d,i.isFullyInitialized(),o.filtersNodes()),c=new Ut(l,s.isFullyInitialized(),r.filtersNodes());this.viewCache_=new jt(c,p),this.eventGenerator_=new Qt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){y.assert(null==e,"A cancel should cancel all event registrations.");var o=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var r=e.createCancelEvent(t,o);r&&n.push(r)})}if(e){for(var r=[],s=0,i;s<this.eventRegistrations_.length;++s)if(i=this.eventRegistrations_[s],!i.matches(e))r.push(i);else if(e.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(s+1));break}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===Rt.MERGE&&null!==e.source.queryId&&(y.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),y.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var o=this.viewCache_,r=this.processor_.applyOperation(o,e,t,n);return this.processor_.assertIndexed(r.viewCache),y.assert(r.viewCache.getServerCache().isFullyInitialized()||!o.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];if(!t.getNode().isLeafNode()){var o=t.getNode();o.forEachChild(Qe,function(e,t){n.push(Bt.childAddedChange(e,t))})}return t.isFullyInitialized()&&n.push(Bt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var o=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,o)},e}(),Xt=function(){function e(){this.views_={}}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return y.assert(Sn,"Reference.ts has not been loaded"),Sn},set:function(e){y.assert(!Sn,"__referenceConstructor has already been defined"),Sn=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return y.isEmpty(this.views_)},e.prototype.applyOperation=function(e,t,n){var o=e.source.queryId;if(null!==o){var r=y.safeGet(this.views_,o);return y.assert(null!=r,"SyncTree gave us an op for an invalid query."),r.applyOperation(e,t,n)}var i=[];return y.forEach(this.views_,function(o,r){i=i.concat(r.applyOperation(e,t,n))}),i},e.prototype.addEventRegistration=function(e,t,n,o,r){var i=e.queryIdentifier(),s=y.safeGet(this.views_,i);if(!s){var d=n.calcCompleteEventCache(r?o:null),l=!1;d?l=!0:o instanceof at?(d=n.calcCompleteEventChildren(o),l=!1):(d=at.EMPTY_NODE,l=!1);var p=new jt(new Ut(d,l,!1),new Ut(o,r,!1));s=new Yt(e,p),this.views_[i]=s}return s.addEventRegistration(t),s.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,o){var r=t.queryIdentifier(),i=[],s=[],d=this.hasCompleteView();if("default"===r){var l=this;y.forEach(this.views_,function(e,t){s=s.concat(t.removeEventRegistration(n,o)),t.isEmpty()&&(delete l.views_[e],!t.getQuery().getQueryParams().loadsAllData()&&i.push(t.getQuery()))})}else{var p=y.safeGet(this.views_,r);p&&(s=s.concat(p.removeEventRegistration(n,o)),p.isEmpty()&&(delete this.views_[r],!p.getQuery().getQueryParams().loadsAllData()&&i.push(p.getQuery())))}return d&&!this.hasCompleteView()&&i.push(new e.__referenceConstructor(t.repo,t.path)),{removed:i,events:s}},e.prototype.getQueryViews=function(){var e=this,t=Object.keys(this.views_).map(function(t){return e.views_[t]});return t.filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},e.prototype.getCompleteServerCache=function(e){var t=null;return y.forEach(this.views_,function(n,o){t=t||o.getCompleteServerCache(e)}),t},e.prototype.viewForQuery=function(e){var t=e.getQueryParams();if(t.loadsAllData())return this.getCompleteView();var n=e.queryIdentifier();return y.safeGet(this.views_,n)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e=y.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()});return e||null},e}(),$t=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new Ot(n));var o=this.writeTree_.findRootMostValueAndPath(t);if(null!=o){var r=o.path,i=o.value,s=oe.relativePath(r,t);return i=i.updateChild(s,n),new e(this.writeTree_.set(r,i))}var d=new Ot(n),l=this.writeTree_.setTree(t,d);return new e(l)},e.prototype.addWrites=function(e,t){var n=this;return y.forEach(t,function(t,o){n=n.addWrite(e.child(t),o)}),n},e.prototype.removeWrite=function(t){if(t.isEmpty())return e.Empty;var n=this.writeTree_.setTree(t,Ot.Empty);return new e(n)},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null==t?null:this.writeTree_.get(t.path).getChild(oe.relativePath(t.path,e))},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null==t?this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Be(t,n.value))}):!t.isLeafNode()&&t.forEachChild(Qe,function(t,n){e.push(new Be(t,n))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return null==n?new e(this.writeTree_.subtree(t)):new e(new Ot(n))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(t){return e.applySubtreeWrite_(oe.Empty,this.writeTree_,t)},e.Empty=new e(new Ot(null)),e.applySubtreeWrite_=function(t,n,o){if(null!=n.value)return o.updateChild(t,n.value);var r=null;return n.children.inorderTraversal(function(n,i){".priority"===n?(y.assert(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):o=e.applySubtreeWrite_(t.child(n),i,o)}),o.getChild(t).isEmpty()||null===r||(o=o.updateChild(t.child(".priority"),r)),o},e}(),Jt=function(){function e(){this.visibleWrites_=$t.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Zt(e,this)},e.prototype.addOverwrite=function(e,t,n,o){y.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:o}),o&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){y.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0,n;t<this.allWrites_.length;t++)if(n=this.allWrites_[t],n.writeId===e)return n;return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});y.assert(0<=n,"removeWrite called with nonexistent writeId.");var o=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=o.visible,s=!1,d=this.allWrites_.length-1,i;r&&0<=d;)i=this.allWrites_[d],i.visible&&(d>=n&&this.recordContainsPath_(i,o.path)?r=!1:o.path.contains(i.path)&&(s=!0)),d--;if(!r)return!1;if(s)return this.resetTree_(),!0;if(o.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(o.path);else{var l=o.children;y.forEach(l,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(o.path.child(e))})}return!0},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,o,r){if(!o&&!r){var i=this.visibleWrites_.getCompleteNode(t);if(null!=i)return i;var s=this.visibleWrites_.childCompoundWrite(t);if(s.isEmpty())return n;if(null==n&&!s.hasCompleteWrite(oe.Empty))return null;var d=n||at.EMPTY_NODE;return s.apply(d)}var l=this.visibleWrites_.childCompoundWrite(t);if(!r&&l.isEmpty())return n;if(!r&&null==n&&!l.hasCompleteWrite(oe.Empty))return null;var p=e.layerTree_(this.allWrites_,function(e){return(e.visible||r)&&(!o||!~o.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},t),d=n||at.EMPTY_NODE;return p.apply(d)},e.prototype.calcCompleteEventChildren=function(e,t){var n=at.EMPTY_NODE,o=this.visibleWrites_.getCompleteNode(e);if(o)return o.isLeafNode()||o.forEachChild(Qe,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var r=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Qe,function(e,t){var o=r.childCompoundWrite(new oe(e)).apply(t);n=n.updateImmediateChild(e,o)}),r.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}var i=this.visibleWrites_.childCompoundWrite(e);return i.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,o){y.assert(n||o,"Either existingEventSnap or existingServerSnap must exist");var r=e.child(t);if(this.visibleWrites_.hasCompleteWrite(r))return null;var i=this.visibleWrites_.childCompoundWrite(r);return i.isEmpty()?o.getChild(t):i.apply(o.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var o=e.child(t),r=this.visibleWrites_.getCompleteNode(o);if(null!=r)return r;if(n.isCompleteForChild(t)){var i=this.visibleWrites_.childCompoundWrite(o);return i.apply(n.getNode().getImmediateChild(t))}return null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,o,r,i){var s=this.visibleWrites_.childCompoundWrite(e),d=s.getCompleteNode(oe.Empty),l;if(null!=d)l=d;else if(null!=t)l=s.apply(t);else return[];if(l=l.withIndex(i),!l.isEmpty()&&!l.isLeafNode()){for(var p=[],c=i.getCompare(),u=r?l.getReverseIteratorFrom(n,i):l.getIteratorFrom(n,i),m=u.getNext();m&&p.length<o;)0!==c(m,n)&&p.push(m),m=u.getNext();return p}return[]},e.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!y.findKey(e.children,function(n,o){return e.path.child(o).contains(t)})},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,oe.Empty),this.lastWriteId_=0<this.allWrites_.length?this.allWrites_[this.allWrites_.length-1].writeId:-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var o=$t.Empty,r=0,i;r<e.length;++r)if(i=e[r],t(i)){var s=i.path,d=void 0;if(i.snap)n.contains(s)?(d=oe.relativePath(n,s),o=o.addWrite(d,i.snap)):s.contains(n)&&(d=oe.relativePath(s,n),o=o.addWrite(oe.Empty,i.snap.getChild(d)));else if(!i.children)throw y.assertionError("WriteRecord should have .snap or .children");else if(n.contains(s))d=oe.relativePath(n,s),o=o.addWrites(d,i.children);else if(!s.contains(n));else if(d=oe.relativePath(s,n),d.isEmpty())o=o.addWrites(oe.Empty,i.children);else{var l=y.safeGet(i.children,d.getFront());if(l){var p=l.getChild(d.popFront());o=o.addWrite(oe.Empty,p)}}}return o},e}(),Zt=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,o,r){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,o,r)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),en=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=Ot.Empty,this.pendingWriteTree_=new Jt,this.tagToQueryMap_={},this.queryToTagMap_={}}return e.prototype.applyUserOverwrite=function(e,t,n,o){return this.pendingWriteTree_.addOverwrite(e,t,n,o),o?this.applyOperationToSyncPoints_(new Lt(Pt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var o=Ot.fromObject(t);return this.applyOperationToSyncPoints_(new Ft(Pt.User,e,o))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e),o=this.pendingWriteTree_.removeWrite(e);if(!o)return[];var r=Ot.Empty;return null==n.snap?y.forEach(n.children,function(e,t){r=r.set(new oe(e),t)}):r=r.set(oe.Empty,!0),this.applyOperationToSyncPoints_(new At(n.path,r,t))},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new Lt(Pt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=Ot.fromObject(t);return this.applyOperationToSyncPoints_(new Ft(Pt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new Mt(Pt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,o){var i=this.queryKeyForTag_(o);if(null!=i){var s=e.parseQueryKey_(i),r=s.path,d=s.queryId,l=oe.relativePath(r,t),p=new Lt(Pt.forServerTaggedQuery(d),l,n);return this.applyTaggedOperation_(r,p)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,o){var i=this.queryKeyForTag_(o);if(i){var s=e.parseQueryKey_(i),r=s.path,d=s.queryId,l=oe.relativePath(r,t),p=Ot.fromObject(n),c=new Ft(Pt.forServerTaggedQuery(d),l,p);return this.applyTaggedOperation_(r,c)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var o=this.queryKeyForTag_(n);if(o){var i=e.parseQueryKey_(o),r=i.path,s=i.queryId,d=oe.relativePath(r,t),l=new Mt(Pt.forServerTaggedQuery(s),d);return this.applyTaggedOperation_(r,l)}return[]},e.prototype.addEventRegistration=function(t,n){var o=t.path,r=null,i=!1;this.syncPointTree_.foreachOnPath(o,function(e,t){var n=oe.relativePath(e,o);r=r||t.getCompleteServerCache(n),i=i||t.hasCompleteView()});var s=this.syncPointTree_.get(o);s?(i=i||s.hasCompleteView(),r=r||s.getCompleteServerCache(oe.Empty)):(s=new Xt,this.syncPointTree_=this.syncPointTree_.set(o,s));var d;if(null!=r)d=!0;else{d=!1,r=at.EMPTY_NODE;var l=this.syncPointTree_.subtree(o);l.foreachChild(function(e,t){var n=t.getCompleteServerCache(oe.Empty);n&&(r=r.updateImmediateChild(e,n))})}var p=s.viewExistsForQuery(t);if(!p&&!t.getQueryParams().loadsAllData()){var c=e.makeQueryKey_(t);y.assert(!(c in this.queryToTagMap_),"View does not exist, but we have a tag");var u=e.getNextQueryTag_();this.queryToTagMap_[c]=u,this.tagToQueryMap_["_"+u]=c}var m=this.pendingWriteTree_.childWrites(o),h=s.addEventRegistration(t,n,m,r,d);if(!p&&!i){var f=s.viewForQuery(t);h=h.concat(this.setupListener_(t,f))}return h},e.prototype.removeEventRegistration=function(t,n,o){var r=this,s=t.path,d=this.syncPointTree_.get(s),l=[];if(d&&("default"===t.queryIdentifier()||d.viewExistsForQuery(t))){var p=d.removeEventRegistration(t,n,o);d.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var c=p.removed;l=p.events;var u=-1!==c.findIndex(function(e){return e.getQueryParams().loadsAllData()}),m=this.syncPointTree_.findOnPath(s,function(e,t){return t.hasCompleteView()});if(u&&!m){var h=this.syncPointTree_.subtree(s);if(!h.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(h),g=0;g<f.length;++g){var i=f[g],y=i.getQuery(),b=this.createListenerForView_(i);this.listenProvider_.startListening(e.queryForListening_(y),this.tagForQuery_(y),b.hashFn,b.onComplete)}else;}if(!m&&0<c.length&&!o)if(u){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else c.forEach(function(t){var n=r.queryToTagMap_[e.makeQueryKey_(t)];r.listenProvider_.stopListening(e.queryForListening_(t),n)});this.removeTags_(c)}else;return l},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,o=this.syncPointTree_.findOnPath(e,function(t,n){var o=oe.relativePath(t,e),r=n.getCompleteServerCache(o);if(r)return r});return n.calcCompleteEventCache(e,o,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView()){var o=t.getCompleteView();return[o]}var r=[];return t&&(r=t.getQueryViews()),y.forEach(n,function(e,t){r=r.concat(t)}),r})},e.prototype.removeTags_=function(t){for(var n=0,o;n<t.length;++n)if(o=t[n],!o.getQueryParams().loadsAllData()){var r=e.makeQueryKey_(o),i=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+i]}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var o=t.path,r=this.tagForQuery_(t),s=this.createListenerForView_(n),d=this.listenProvider_.startListening(e.queryForListening_(t),r,s.hashFn,s.onComplete),l=this.syncPointTree_.subtree(o);if(r)y.assert(!l.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var p=l.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var o=[];return t&&(o=o.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),y.forEach(n,function(e,t){o=o.concat(t)}),o}),c=0,i;c<p.length;++c)i=p[c],this.listenProvider_.stopListening(e.queryForListening_(i),this.tagForQuery_(i));return d},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),o=this.tagForQuery_(n);return{hashFn:function(){var t=e.getServerCache()||at.EMPTY_NODE;return t.hash()},onComplete:function(e){if("ok"===e)return o?t.applyTaggedListenComplete(n.path,o):t.applyListenComplete(n.path);var r=J(e,n);return t.removeEventRegistration(n,null,r)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return y.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new oe(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return y.safeGet(this.queryToTagMap_,n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);y.assert(n,"Missing sync point for query tag that we're tracking");var o=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,o,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(oe.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,o){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,o);var r=t.get(oe.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(oe.Empty));var i=[],s=e.path.getFront(),d=e.operationForChild(s),l=t.children.get(s);if(l&&d){var p=n?n.getImmediateChild(s):null,c=o.child(s);i=i.concat(this.applyOperationHelper_(d,l,p,c))}return r&&(i=i.concat(r.applyOperation(e,o,n))),i},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,o){var r=this,i=t.get(oe.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(oe.Empty));var s=[];return t.children.inorderTraversal(function(t,i){var d=n?n.getImmediateChild(t):null,l=o.child(t),p=e.operationForChild(t);p&&(s=s.concat(r.applyOperationDescendantsHelper_(p,i,d,l)))}),i&&(s=s.concat(i.applyOperation(e,o,n))),s},e.nextQueryTag_=1,e}(),tn=function(){function e(){this.rootNode_=at.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),nn=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(D("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e="Provided authentication credentials for the app named \""+this.app_.name+"\" are invalid. This usually indicates your app was not initialized correctly. ";e+="credential"in this.app_.options?"Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.":"serviceAccount"in this.app_.options?"Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.":"Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.",F(e)},e}(),an=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),y.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return y.deepCopy(this.counters_)},e}(),on=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new an),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),rn=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=y.clone(e);return this.last_&&y.forEach(this.last_,function(e,n){t[e]-=n}),this.last_=e,t},e}(),sn=10000,dn=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new rn(e);var n=sn+(30000-sn)*Math.random();ae(this.reportStats_.bind(this),l(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},o=!1;y.forEach(t,function(t,r){0<r&&y.contains(e.statsToReport_,t)&&(n[t]=r,o=!0)}),o&&this.server_.reportStats(n),ae(this.reportStats_.bind(this),l(2*Math.random()*300000))},e}(),ln=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var o=e[n],r=o.getPath();null==t||r.equals(t.getPath())||(this.eventLists_.push(t),t=null),null==t&&(t=new pn(r)),t.add(o)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0,o;n<this.eventLists_.length;n++)if(o=this.eventLists_[n],o){var r=o.getPath();e(r)?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),pn=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0,t;e<this.events_.length;e++)if(t=this.events_[e],null!==t){this.events_[e]=null;var n=t.getEventRunner();R&&D("event: "+t.toString()),te(n)}},e.prototype.getPath=function(){return this.path_},e}(),cn=function(){function e(e){this.allowedEvents_=e,this.listeners_={},y.assert(Array.isArray(e)&&0<e.length,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var o=this.listeners_[e].slice(),r=0;r<o.length;r++)o[r].callback.apply(o[r].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var o=this.getInitialEvent(e);o&&t.apply(n,o)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var o=this.listeners_[e]||[],r=0;r<o.length;r++)if(o[r].callback===t&&(!n||n===o[r].context))return void o.splice(r,1)},e.prototype.validateEventType_=function(e){y.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),un=function(e){function t(){var t=e.call(this,["visible"])||this,n,o;return"undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"==typeof document.hidden?"undefined"==typeof document.mozHidden?"undefined"==typeof document.msHidden?"undefined"!=typeof document.webkitHidden&&(o="webkitvisibilitychange",n="webkitHidden"):(o="msvisibilitychange",n="msHidden"):(o="mozvisibilitychange",n="mozHidden"):(o="visibilitychange",n="hidden")),t.visible_=!0,o&&document.addEventListener(o,function(){var e=!document[n];e!==t.visible_&&(t.visible_=e,t.trigger("visible",e))},!1),t}return _.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return y.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(cn),mn=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||"undefined"==typeof window.addEventListener||y.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return _.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return y.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(cn),hn=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var o=function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=function(t){e[t]&&te(function(){n.onMessage_(e[t])})},o=0;o<e.length;++o)t(o);return r.currentResponseNum===r.closeAfterResponse?(r.onClose&&(r.onClose(),r.onClose=null),"break"):void r.currentResponseNum++},r=this,i;this.pendingResponses[this.currentResponseNum]&&(i=o(),"break"!==i););},e}(),fn="start",gn="id",yn="pw",bn="ser",_n=1870,vn=30,En=function(){function e(e,t,n,o){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=O(e),this.stats_=on.getCollection(t),this.urlFn=function(e){return t.connectionURL(he,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new hn(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},30000),B(function(){if(!n.isClosed_){n.scriptTagHolder=new Cn(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=e[0],r=e[1],i=e[2];if(n.incrementIncomingBytes_(e),!!n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o==fn)n.id=r,n.password=i;else if(o==="close")r?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(r,function(){n.onClosed_()})):n.onClosed_();else throw new Error("Unrecognized command received: "+o)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=e[0],r=e[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(o,r)},function(){n.onClosed_()},n.urlFn);var e={};e[fn]="t",e[bn]=l(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e["cb"]=n.scriptTagHolder.uniqueCallbackIdentifier),e[se]=ie,n.transportSessionId&&(e[de]=n.transportSessionId),n.lastSessionId&&(e[ue]=n.lastSessionId),!y.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(ce)&&(e[le]=pe);var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!X()&&!$()&&!y.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=y.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=y.base64Encode(t),o=G(n,_n-vn),r=0;r<o.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[r]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!y.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={};n["dframe"]="t",n[gn]=e,n[yn]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=y.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Cn=function(){function e(t,n,o,r){if(this.onDisconnect=o,this.urlFn=r,this.outstandingRequests=new Tt,this.pendingSegs=[],this.currentSerial=l(1e8*Math.random()),this.sendNewPolls=!0,!y.isNodeSdk()){this.uniqueCallbackIdentifier=x(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var i="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){var s=document.domain;i="<script>document.domain=\""+s+"\";</script>"}var d="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(t){D("frame writing exception"),t.stack&&D(t.stack),D(t)}}else this.commandCB=t,this.onMessageCB=n}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var t=e.contentWindow.document;t||D("No IE domain setting required")}catch(t){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var t=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},0)),y.isNodeSdk()&&this.myID){var n={};n["disconn"]="t",n[gn]=this.myID,n[yn]=this.myPW;var o=this.urlFn(n);e.nodeRestRequest(o)}var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var e={};e[gn]=this.myID,e[yn]=this.myPW,e[bn]=this.currentSerial;for(var t=this.urlFn(e),n="",o=0,r,i;0<this.pendingSegs.length&&(r=this.pendingSegs[0],r.d.length+vn+n.length<=_n);)i=this.pendingSegs.shift(),n=n+"&"+"seg"+o+"="+i.seg+"&"+"ts"+o+"="+i.ts+"&"+"d"+o+"="+i.d,o++;return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var o=function(){n.outstandingRequests.remove(t),n.newRequest_()},r=setTimeout(o,25000);this.addTag(e,function(){clearTimeout(r),o()})},e.prototype.addTag=function(e,t){var n=this;y.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var o=n.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=e,o.onload=o.onreadystatechange=function(){var e=o.readyState;e&&"loaded"!==e&&"complete"!==e||(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),t())},o.onerror=function(){D("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(o)}catch(t){}},1)},e}(),Tn=null,In,Sn;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"==typeof MozWebSocket?"undefined"!=typeof WebSocket&&(Tn=WebSocket):Tn=MozWebSocket;var kn=function(){function e(t,n,o,r){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=O(this.connId),this.stats_=on.getCollection(n),this.connURL=e.connectionURL_(n,o,r)}return e.connectionURL_=function(e,t,n){var o={};return o[se]=ie,!y.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(ce)&&(o[le]=pe),t&&(o[de]=t),n&&(o[ue]=n),e.connectionURL(me,o)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,I.set("previous_websocket_failure",!0);try{if(y.isNodeSdk()){var o=y.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",r={headers:{"User-Agent":"Firebase/"+ie+"/"+v.SDK_VERSION+"/"+i.platform+"/"+o}},s=i.env,d=0==this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;d&&(r.proxy={origin:d}),this.mySock=new Tn(this.connURL,[],r)}else this.mySock=new Tn(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var l=t.message||t.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(n);o&&1<o.length&&4.4>parseFloat(o[1])&&(t=!0)}return!t&&null!==Tn&&!e.forceDisallow_},e.previouslyFailed=function(){return I.isInMemoryStorage||!0===I.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){I.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=y.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(y.assert(null===this.frames,"We already have a frame buffer"),6>=e.length){var t=+e;if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=y.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=G(t,16384);1<n.length&&this.sendString_(n.length+"");for(var o=0;o<n.length;o++)this.sendString_(n[o])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},45000)},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),xn=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[En,kn]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n=kn&&kn.isAvailable(),o=n&&!kn.previouslyFailed();if(t.webSocketOnly&&(!n&&F("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[kn];else{var r=this.transports_=[];Q(e.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&r.push(t)})}},e.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},e}(),Nn="t",wn="d",Rn="r",Pn="o",An="a",Dn="n",On="p",Mn=function(){function e(e,t,n,o,r,i,s){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=o,this.onDisconnect_=r,this.onKill_=i,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=O("c:"+this.id+":"),this.transportManager_=new xn(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,o)},0);var r=t.healthyTimeout||0;0<r&&(this.healthyTimeout_=ae(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},l(r)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if(Nn in e){var t=e[Nn];t===An?this.upgradeIfSecondaryHealthy_():t===Rn?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===Pn&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=H("t",e),n=H("d",e);if("c"==t)this.onSecondaryControl_(n);else if("d"==t)this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+t)},e.prototype.upgradeIfSecondaryHealthy_=function(){0>=this.secondaryResponsesRequired_?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:On,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:An,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dn,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=H("t",e),n=H("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,0>=this.primaryResponsesRequired_&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=H(Nn,e);if(wn in e){var n=e[wn];if(t==="h")this.onHandshake_(n);else if(t===Dn){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t==="s"?this.onConnectionShutdown_(n):t===Rn?this.onReset_(n):t==="e"?M("Server Error: "+n):t===Pn?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(o),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ie!==n&&F("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,o),ae(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},60000)},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ae(function(){n.sendPingOnPrimaryIfNecessary_()},5000)},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:On,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(I.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";else this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Ln=function(){function e(){}return e.prototype.put=function(){},e.prototype.merge=function(){},e.prototype.refreshAuthToken=function(){},e.prototype.onDisconnectPut=function(){},e.prototype.onDisconnectMerge=function(){},e.prototype.onDisconnectCancel=function(){},e.prototype.reportStats=function(){},e}(),Fn=1e3,Un=30000,jn=function(e){function t(n,o,r,i,s,d){var l=e.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=o,l.onConnectStatus_=r,l.onServerInfoUpdate_=i,l.authTokenProvider_=s,l.authOverride_=d,l.id=t.nextPersistentConnectionId_++,l.log_=O("p:"+l.id+":"),l.interruptReasons_={},l.listens_={},l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Fn,l.maxReconnectDelay_=300000,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,d&&!y.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),un.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&mn.getInstance().on("online",l.onOnline_,l),l}return _.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var o=++this.requestNumber_,r={r:o,a:e,b:t};this.log_(y.stringify(r)),y.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[o]=n)},t.prototype.listen=function(e,t,n,o){var r=e.queryIdentifier(),i=e.path.toString();this.log_("Listen called for "+i+" "+r),this.listens_[i]=this.listens_[i]||{},y.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),y.assert(!this.listens_[i][r],"listen() called twice for same path/queryId.");var s={onComplete:o,hashFn:t,query:e,tag:n};this.listens_[i][r]=s,this.connected_&&this.sendListen_(s)},t.prototype.sendListen_=function(e){var n=this,o=e.query,r=o.path.toString(),i=o.queryIdentifier();this.log_("Listen on "+r+" for "+i);var s={p:r};e.tag&&(s.q=o.queryObject(),s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,function(s){var d=s.d,l=s.s;t.warnOnListenWarnings_(d,o);var p=n.listens_[r]&&n.listens_[r][i];p===e&&(n.log_("listen response",s),"ok"!==l&&n.removeListen_(r,i),e.onComplete&&e.onComplete(l,d))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&y.contains(e,"w")){var n=y.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var o="\".indexOn\": \""+t.getQueryParams().getIndex().toString()+"\"",r=t.path.toString();F("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+o+" at "+(r+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){var t=e&&40===e.length;(t||y.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Un)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=y.isValidFormat(t)?"auth":"gauth",o={cred:t};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(n,o,function(n){var o=n.s,r=n.d||"error";e.authToken_===t&&("ok"===o?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(o,r))})}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),o=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+o),y.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var r=this.removeListen_(n,o);r&&this.connected_&&this.sendUnlisten_(n,o,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,o){this.log_("Unlisten on "+e+" for "+t);var r={p:e};o&&(r.q=n,r.t=o),this.sendRequest("n",r)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,o){var r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,function(e){o&&setTimeout(function(){o(e.s,e.d)},0)})},t.prototype.put=function(e,t,n,o){this.putInternal("p",e,t,n,o)},t.prototype.merge=function(e,t,n,o){this.putInternal("m",e,t,n,o)},t.prototype.putInternal=function(e,t,n,o,r){var i={p:t,d:n};void 0!==r&&(i.h=r),this.outstandingPuts_.push({action:e,request:i,onComplete:o}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,o,function(o){t.log_(n+" response",o),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),r&&r(o.s,o.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){var n=e.s;if("ok"!==n){var o=e.d;t.log_("reportStats","Error sending stats: "+o)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+y.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):M("Unrecognized action received from server: "+y.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;y.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},l(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fn,!this.realtime_&&this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fn,!this.realtime_&&this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var e=new Date().getTime()-this.lastConnectionEstablishedTime_;e>3e4&&(this.reconnectDelay_=Fn),this.lastConnectionEstablishedTime_=null}var t=new Date().getTime()-this.lastConnectionAttemptTime_,n=s(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=d(this.maxReconnectDelay_,this.reconnectDelay_*1.3)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+t.nextConnectionId_++,i=this,s=this.lastSessionId,d=!1,l=null,p=function(){l?l.close():(d=!0,o())},c=function(e){y.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)};this.realtime_={close:p,sendRequest:c};var u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(u).then(function(t){d?D("getToken() completed but was canceled"):(D("getToken() completed. Creating connection."),i.authToken_=t&&t.accessToken,l=new Mn(r,i.repoInfo_,e,n,o,function(e){F(e+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},s))}).then(null,function(e){i.log_("Failed to get token: "+e),d||(y.CONSTANTS.NODE_ADMIN&&F(e),p())})}},t.prototype.interrupt=function(e){D("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){D("Resuming connection for reason: "+e),delete this.interruptReasons_[e],y.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Fn,!this.realtime_&&this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0,t;e<this.outstandingPuts_.length;e++)t=this.outstandingPuts_[e],t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--);0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n=t?t.map(function(e){return K(e)}).join("$"):"default";var o=this.removeListen_(e,n);o&&o.onComplete&&o.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n=new oe(e).toString(),o;return void 0===this.listens_[n]?o=void 0:(o=this.listens_[n][t],delete this.listens_[n][t],0===y.getCount(this.listens_[n])&&delete this.listens_[n]),o},t.prototype.onAuthRevoked_=function(e,t){D("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=Un,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e=this;this.tryAuth(),y.forEach(this.listens_,function(t,n){y.forEach(n,function(t,n){e.sendListen_(n)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";y.CONSTANTS.NODE_ADMIN?t="admin_node":y.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+v.SDK_VERSION.replace(/\./g,"-")]=1,y.isMobileCordova()?e["framework.cordova"]=1:y.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=mn.getInstance().currentlyOnline();return y.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Ln),Bn=function(e){function t(t,n,o){var r=e.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=n,r.authTokenProvider_=o,r.log_=O("p:rest:"),r.listens_={},r}return _.__extends(t,e),t.prototype.reportStats=function(){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0===t?(y.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString()):"tag$"+t},t.prototype.listen=function(e,n,o,r){var i=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var d=t.getListenId_(e,o),l={};this.listens_[d]=l;var p=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",p,function(e,t){var n=t;if(404===e&&(n=null,e=null),null===e&&i.onDataUpdate_(s,n,!1,o),y.safeGet(i.listens_,d)===l){var p;p=e?401==e?"permission_denied":"rest_error:"+e:"ok",r(p,null)}})},t.prototype.unlisten=function(e,n){var o=t.getListenId_(e,n);delete this.listens_[o]},t.prototype.refreshAuthToken=function(){},t.prototype.restRequest_=function(e,t,n){var o=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(r){var i=r&&r.accessToken;i&&(t.auth=i);var s=(o.repoInfo_.secure?"https://":"http://")+o.repoInfo_.host+e+"?"+y.querystring(t);o.log_("Sending REST request for "+s);var d=new XMLHttpRequest;d.onreadystatechange=function(){if(n&&4===d.readyState){o.log_("REST Response for "+s+" received. status:",d.status,"response:",d.responseText);var e=null;if(200<=d.status&&300>d.status){try{e=y.jsonEval(d.responseText)}catch(t){F("Failed to parse JSON response for "+s+": "+d.responseText)}n(null,e)}else 401!==d.status&&404!==d.status&&F("Got unsuccessful REST response for "+s+" Status: "+d.status),n(d.status);n=null}},d.open("GET",s,!0),d.send()})},t}(Ln),Vn="repo_interrupt",qn=function(){function e(e,t,n){var o=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ln,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new It,this.persistentConnection_=null;var r=new nn(n);if(this.stats_=on.getCollection(e),t||ne())this.server_=new Bn(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var i=n.options.databaseAuthVariableOverride;if("undefined"!=typeof i&&null!==i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{y.stringify(i)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new jn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,i),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(e){o.server_.refreshAuthToken(e)}),this.statsReporter_=on.getOrCreateReporter(e,function(){return new dn(o.stats_,o.server_)}),this.transactions_init_(),this.infoData_=new tn,this.infoSyncTree_=new en({startListening:function(e,t,n,r){var i=[],s=o.infoData_.getNode(e.path);return s.isEmpty()||(i=o.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout(function(){r("ok")},0)),i},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new en({startListening:function(e,t,n,r){return o.server_.listen(e,n,t,function(t,n){var i=r(t,n);o.eventQueue_.raiseEventsForChangedPath(e.path,i)}),[]},stopListening:function(e,t){o.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new oe(".info/serverTimeOffset")),t=e.val()||0;return new Date().getTime()+t},e.prototype.generateServerValues=function(){return St({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,o){this.dataUpdateCount++;var r=new oe(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var i=[];if(o){if(n){var s=y.map(t,function(e){return h(e)});i=this.serverSyncTree_.applyTaggedQueryMerge(r,s,o)}else{var d=h(t);i=this.serverSyncTree_.applyTaggedQueryOverwrite(r,d,o)}}else if(n){var l=y.map(t,function(e){return h(e)});i=this.serverSyncTree_.applyServerMerge(r,l)}else{var p=h(t);i=this.serverSyncTree_.applyServerOverwrite(r,p)}var c=r;0<i.length&&(c=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(c,i)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;Q(e,function(e,n){t.updateInfo_(n,e)})},e.prototype.updateInfo_=function(e,t){var n=new oe("/.info/"+e),o=h(t);this.infoData_.updateSnapshot(n,o);var r=this.infoSyncTree_.applyServerOverwrite(n,o);this.eventQueue_.raiseEventsForChangedPath(n,r)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,o){var r=this;this.log_("set",{path:e.toString(),value:t,priority:n});var i=this.generateServerValues(),s=h(t,n),d=Nt(s,i),l=this.getNextWriteId_(),p=this.serverSyncTree_.applyUserOverwrite(e,d,l,!0);this.eventQueue_.queueEvents(p),this.server_.put(e.toString(),s.val(!0),function(t,n){var i="ok"===t;i||F("set at "+e+" failed: "+t);var s=r.serverSyncTree_.ackUserWrite(l,!i);r.eventQueue_.raiseEventsForChangedPath(e,s),r.callOnCompleteCallback(o,t,n)});var c=this.abortTransactions_(e);this.rerunTransactions_(c),this.eventQueue_.raiseEventsForChangedPath(c,[])},e.prototype.update=function(e,t,n){var o=this;this.log_("update",{path:e.toString(),value:t});var r=!0,i=this.generateServerValues(),s={};if(y.forEach(t,function(e,t){r=!1;var n=h(t);s[e]=Nt(n,i)}),!r){var d=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserMerge(e,s,d);this.eventQueue_.queueEvents(l),this.server_.merge(e.toString(),t,function(t,r){var i="ok"===t;i||F("update at "+e+" failed: "+t);var s=o.serverSyncTree_.ackUserWrite(d,!i),l=0<s.length?o.rerunTransactions_(e):e;o.eventQueue_.raiseEventsForChangedPath(l,s),o.callOnCompleteCallback(n,t,r)}),y.forEach(t,function(t){var n=o.abortTransactions_(e.child(t));o.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}else D("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok")},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=xt(this.onDisconnect_,t),o=[];n.forEachTree(oe.Empty,function(t,n){o=o.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var r=e.abortTransactions_(t);e.rerunTransactions_(r)}),this.onDisconnect_=new It,this.eventQueue_.raiseEventsForChangedPath(oe.Empty,o)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(o,r){"ok"===o&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,o,r)})},e.prototype.onDisconnectSet=function(e,t,n){var o=this,r=h(t);this.server_.onDisconnectPut(e.toString(),r.val(!0),function(t,i){"ok"===t&&o.onDisconnect_.remember(e,r),o.callOnCompleteCallback(n,t,i)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,o){var r=this,i=h(t,n);this.server_.onDisconnectPut(e.toString(),i.val(!0),function(t,n){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(o,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var o=this;return y.isEmpty(t)?(D("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok")):void this.server_.onDisconnectMerge(e.toString(),t,function(r,i){"ok"===r&&y.forEach(t,function(t,n){var r=h(n);o.onDisconnect_.remember(e.child(t),r)}),o.callOnCompleteCallback(n,r,i)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(Vn)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(Vn)},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(!this.statsListener_&&(this.statsListener_=new rn(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return s(t.length,e)},0);y.forEach(t,function(e,t){for(var o=e.length;o<n+2;o++)e+=" ";console.log(e+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),D.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&te(function(){if("ok"==t)e(null);else{var o=(t||"error").toUpperCase(),r=o;n&&(r+=": "+n);var i=new Error(r);i.code=o,e(i)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new Jn(this))},enumerable:!0,configurable:!0}),e}(),Wn=function(){function e(t){this.indexedFilter_=new Vt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return 0>=this.index_.compare(this.getStartPost(),e)&&0>=this.index_.compare(e,this.getEndPost())},e.prototype.updateChild=function(e,t,n,o,r,i){return this.matches(new Be(t,n))||(n=at.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,o,r,i)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=at.EMPTY_NODE);var o=t.withIndex(this.index_);o=o.updatePriority(at.EMPTY_NODE);var r=this;return t.forEachChild(Qe,function(e,t){r.matches(new Be(e,t))||(o=o.updateImmediateChild(e,at.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,n)},e.prototype.updatePriority=function(e){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),zn=function(){function e(e){this.rangedFilter_=new Wn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,o,r,i){return this.rangedFilter_.matches(new Be(t,n))||(n=at.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,o,r,i):this.fullLimitUpdateChild_(e,t,n,r,i)},e.prototype.updateFullNode=function(e,t,n){var o;if(t.isLeafNode()||t.isEmpty())o=at.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){o=at.EMPTY_NODE.withIndex(this.index_);var r=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var i=0;r.hasNext()&&i<this.limit_;){var s=r.getNext(),d=void 0;if(d=this.reverse_?0>=this.index_.compare(this.rangedFilter_.getStartPost(),s):0>=this.index_.compare(s,this.rangedFilter_.getEndPost()),d)o=o.updateImmediateChild(s.name,s.node),i++;else break}}else{o=t.withIndex(this.index_),o=o.updatePriority(at.EMPTY_NODE);var l=void 0,p=void 0,c=void 0,r=void 0;if(this.reverse_){r=o.getReverseIterator(this.index_),l=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();c=function(e,t){return u(t,e)}}else r=o.getIterator(this.index_),l=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var i=0,m=!1,s;r.hasNext();){s=r.getNext(),!m&&0>=c(l,s)&&(m=!0);var d=m&&i<this.limit_&&0>=c(s,p);d?i++:o=o.updateImmediateChild(s.name,at.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,n)},e.prototype.updatePriority=function(e){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,o,r){var i;if(this.reverse_){var s=this.index_.getCompare();i=function(e,t){return s(t,e)}}else i=this.index_.getCompare();var d=e;y.assert(d.numChildren()==this.limit_,"");var l=new Be(t,n),p=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(d.hasChild(t)){for(var u=d.getImmediateChild(t),m=o.getChildAfterChild(this.index_,p,this.reverse_);null!=m&&(m.name==t||d.hasChild(m.name));)m=o.getChildAfterChild(this.index_,m,this.reverse_);var h=null==m?1:i(m,l),f=c&&!n.isEmpty()&&0<=h;if(f)return null!=r&&r.trackChildChange(Bt.childChangedChange(t,n,u)),d.updateImmediateChild(t,n);null!=r&&r.trackChildChange(Bt.childRemovedChange(t,u));var g=d.updateImmediateChild(t,at.EMPTY_NODE),b=null!=m&&this.rangedFilter_.matches(m);return b?(null!=r&&r.trackChildChange(Bt.childAddedChange(m.name,m.node)),g.updateImmediateChild(m.name,m.node)):g}return n.isEmpty()?e:c?0<=i(p,l)?(null!=r&&(r.trackChildChange(Bt.childRemovedChange(p.name,p.node)),r.trackChildChange(Bt.childAddedChange(t,n))),d.updateImmediateChild(t,n).updateImmediateChild(p.name,at.EMPTY_NODE)):e:e},e}(),Hn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return y.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return y.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:V},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return y.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return y.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:q},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return y.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0!==e||(e=null),n.indexStartValue_=e,null==t?(n.startNameSet_=!1,n.indexStartName_=""):(n.startNameSet_=!0,n.indexStartName_=t),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0!==e||(e=null),n.indexEndValue_=e,void 0===t?(n.endNameSet_=!1,n.indexEndName_=""):(n.endNameSet_=!0,n.indexEndName_=t),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var o=this.viewFrom_;""===o&&(this.isViewFromLeft()?o=t.VIEW_FROM_LEFT:o=t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=o}return this.index_!==Qe&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Qe},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new Vt(this.getIndex()):this.hasLimit()?new zn(this):new Wn(this)},e.prototype.toRestQueryStringParameters=function(){var t=e.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var o;return this.index_===Qe?o=t.PRIORITY_INDEX:this.index_===ft?o=t.VALUE_INDEX:this.index_===We?o=t.KEY_INDEX:(y.assert(this.index_ instanceof gt,"Unrecognized index type!"),o=this.index_.toString()),n[t.ORDER_BY]=y.stringify(o),this.startSet_&&(n[t.START_AT]=y.stringify(this.indexStartValue_),this.startNameSet_&&(n[t.START_AT]+=","+y.stringify(this.indexStartName_))),this.endSet_&&(n[t.END_AT]=y.stringify(this.indexEndValue_),this.endNameSet_&&(n[t.END_AT]+=","+y.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.limit_:n[t.LIMIT_TO_LAST]=this.limit_),n},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),Kn=function(e){function t(t,n){var o=this;if(!(t instanceof qn))throw new Error("new Reference() no longer supported - use app.database().");return o=e.call(this,t,n,Hn.DEFAULT,!1)||this,o}return _.__extends(t,e),t.prototype.getKey=function(){return y.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return y.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e+="":!(e instanceof oe)&&(null===this.path.getFront()?De("Reference.child",1,e,!1):Ae("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){y.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){y.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){y.validateArgCount("Reference.set",1,2,arguments.length),Oe("Reference.set",this.path),Se("Reference.set",1,e,this.path,!1),y.validateCallback("Reference.set",2,t,!0);var n=new y.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(y.validateArgCount("Reference.update",1,2,arguments.length),Oe("Reference.update",this.path),Array.isArray(e)){for(var n={},o=0;o<e.length;++o)n[""+o]=e[o];e=n,F("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ne("Reference.update",1,e,this.path,!1),y.validateCallback("Reference.update",2,t,!0);var r=new y.Deferred;return this.repo.update(this.path,e,r.wrapCallback(t)),r.promise},t.prototype.setWithPriority=function(e,t,n){if(y.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Oe("Reference.setWithPriority",this.path),Se("Reference.setWithPriority",1,e,this.path,!1),we("Reference.setWithPriority",2,t,!1),y.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var o=new y.Deferred;return this.repo.setWithPriority(this.path,e,t,o.wrapCallback(n)),o.promise},t.prototype.remove=function(e){return y.validateArgCount("Reference.remove",0,1,arguments.length),Oe("Reference.remove",this.path),y.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(y.validateArgCount("Reference.transaction",1,3,arguments.length),Oe("Reference.transaction",this.path),y.validateCallback("Reference.transaction",1,e,!1),y.validateCallback("Reference.transaction",2,t,!0),Le("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var o=new y.Deferred;"function"==typeof t&&o.promise.catch(function(){});return this.repo.startTransaction(this.path,e,function(e,n,r){e?o.reject(e):o.resolve(new Ue(n,r)),"function"==typeof t&&t(e,n,r)},n),o.promise},t.prototype.setPriority=function(e,t){y.validateArgCount("Reference.setPriority",1,2,arguments.length),Oe("Reference.setPriority",this.path),we("Reference.setPriority",1,e,!1),y.validateCallback("Reference.setPriority",2,t,!0);var n=new y.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){y.validateArgCount("Reference.push",0,2,arguments.length),Oe("Reference.push",this.path),Se("Reference.push",1,e,this.path,!0),y.validateCallback("Reference.push",2,t,!0);var n=this.repo.serverTime(),o=je(n),r=this.child(o),i=this.child(o),s;return s=null==e?Promise.resolve(i):r.set(e,t).then(function(){return i}),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),"function"==typeof t&&s.catch(function(){}),r},t.prototype.onDisconnect=function(){return Oe("Reference.onDisconnect",this.path),new Fe(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(Ct);/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ct.__referenceConstructor=Kn,Xt.__referenceConstructor=Kn;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),Qn=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new Gn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n=t instanceof oe?t:new oe(t),o=this,r,i;null!==(r=n.getFront());)i=y.safeGet(o.node_.children,r)||new Gn,o=new e(r,o,i),n=n.popFront();return o},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){y.assert("undefined"!=typeof e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return 0<this.node_.childCount},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;y.forEach(this.node_.children,function(o,r){t(new e(o,n,r))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null===t.getValue()?t.forEachImmediateDescendantWithValue(e):e(t)})},e.prototype.path=function(){return new oe(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),o=y.contains(this.node_.children,e);n&&o?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):!n&&!o&&(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}(),Yn;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"})(Yn||(Yn={})),qn.MAX_TRANSACTION_RETRIES_=25,qn.prototype.transactions_init_=function(){this.transactionQueueTree_=new Qn},qn.prototype.startTransaction=function(e,t,n,o){this.log_("transaction on "+e);var r=function(){},i=new Kn(this,e);i.on("value",r);var s={path:e,update:t,onComplete:n,status:null,order:x(),applyLocally:o,retryCount:0,unwatcher:function(){i.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=this.getLatestState_(e);s.currentInputSnapshot=d;var l=s.update(d.val());if(void 0!==l){ke("transaction failed: Data returned ",l,s.path),s.status=Yn.RUN;var p=this.transactionQueueTree_.subTree(e),c=p.getValue()||[];c.push(s),p.setValue(c);var u;if("object"==typeof l&&null!==l&&y.contains(l,".priority"))u=y.safeGet(l,".priority"),y.assert(Ie(u),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=this.serverSyncTree_.calcCompleteEventCache(e)||at.EMPTY_NODE;u=m.getPriority().val()}u=u;var f=this.generateServerValues(),g=h(l,u),b=Nt(g,f);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=b,s.currentWriteId=this.getNextWriteId_();var _=this.serverSyncTree_.applyUserOverwrite(e,b,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,_),this.sendReadyTransactions_()}else if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var v=new yt(s.currentInputSnapshot,new Kn(this,s.path),Qe);s.onComplete(null,!1,v)}},qn.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||at.EMPTY_NODE},qn.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);y.assert(0<n.length,"Sending zero length transaction queue");var o=n.every(function(e){return e.status===Yn.RUN});o&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},qn.prototype.sendTransactionQueue_=function(e,t){for(var n=this,o=t.map(function(e){return e.currentWriteId}),r=this.getLatestState_(e,o),s=r,d=r.hash(),l=0,i;l<t.length;l++){i=t[l],y.assert(i.status===Yn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),i.status=Yn.SENT,i.retryCount++;var p=oe.relativePath(e,i.path);s=s.updateChild(p,i.currentOutputSnapshotRaw)}var c=s.val(!0),u=e;this.server_.put(u.toString(),c,function(o){n.log_("transaction put response",{path:u.toString(),status:o});var r=[];if("ok"===o){for(var s=[],d=0;d<t.length;d++){if(t[d].status=Yn.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(t[d].currentWriteId)),t[d].onComplete){var i=t[d].currentOutputSnapshotResolved,l=new Kn(n,t[d].path),p=new yt(i,l,Qe);s.push(t[d].onComplete.bind(null,null,!0,p))}t[d].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,r);for(var d=0;d<s.length;d++)te(s[d])}else{if("datastale"===o)for(var d=0;d<t.length;d++)t[d].status=t[d].status===Yn.SENT_NEEDS_ABORT?Yn.NEEDS_ABORT:Yn.RUN;else{F("transaction at "+u.toString()+" failed: "+o);for(var d=0;d<t.length;d++)t[d].status=Yn.NEEDS_ABORT,t[d].abortReason=o}n.rerunTransactions_(e)}},d)},qn.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),o=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(o,n),n},qn.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],o=[],r=e.filter(function(e){return e.status===Yn.RUN}),s=r.map(function(e){return e.currentWriteId}),d=0;d<e.length;d++){var i=e[d],l=oe.relativePath(t,i.path),p=!1,c=void 0;if(y.assert(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),i.status===Yn.NEEDS_ABORT)p=!0,c=i.abortReason,o=o.concat(this.serverSyncTree_.ackUserWrite(i.currentWriteId,!0));else if(i.status===Yn.RUN)if(i.retryCount>=qn.MAX_TRANSACTION_RETRIES_)p=!0,c="maxretry",o=o.concat(this.serverSyncTree_.ackUserWrite(i.currentWriteId,!0));else{var u=this.getLatestState_(i.path,s);i.currentInputSnapshot=u;var m=e[d].update(u.val());if(void 0!==m){ke("transaction failed: Data returned ",m,i.path);var f=h(m),g="object"==typeof m&&null!=m&&y.contains(m,".priority");g||(f=f.updatePriority(u.getPriority()));var b=i.currentWriteId,_=this.generateServerValues(),v=Nt(f,_);i.currentOutputSnapshotRaw=f,i.currentOutputSnapshotResolved=v,i.currentWriteId=this.getNextWriteId_(),s.splice(s.indexOf(b),1),o=o.concat(this.serverSyncTree_.applyUserOverwrite(i.path,v,i.currentWriteId,i.applyLocally)),o=o.concat(this.serverSyncTree_.ackUserWrite(b,!0))}else p=!0,c="nodata",o=o.concat(this.serverSyncTree_.ackUserWrite(i.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,o),o=[],p&&(e[d].status=Yn.COMPLETED,function(e){setTimeout(e,0)}(e[d].unwatcher),e[d].onComplete))if("nodata"===c){var E=new Kn(this,e[d].path),C=e[d].currentInputSnapshot,T=new yt(C,E,Qe);n.push(e[d].onComplete.bind(null,null,!1,T))}else n.push(e[d].onComplete.bind(null,new Error(c),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var d=0;d<n.length;d++)te(n[d]);this.sendReadyTransactions_()}},qn.prototype.getAncestorTransactionNode_=function(e){for(var t=this.transactionQueueTree_,n;null!==(n=e.getFront())&&null===t.getValue();)t=t.subTree(n),e=e.popFront();return t},qn.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},qn.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,o=e.getValue();if(null!==o)for(var r=0;r<o.length;r++)t.push(o[r]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},qn.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var o=0,r=0;r<n.length;r++)n[r].status!==Yn.COMPLETED&&(n[o]=n[r],o++);n.length=o,e.setValue(0<n.length?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},qn.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),o=this.transactionQueueTree_.subTree(e);return o.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(o),o.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},qn.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],o=[],r=-1,s=0;s<t.length;s++)if(t[s].status===Yn.SENT_NEEDS_ABORT);else if(t[s].status===Yn.SENT)y.assert(r==s-1,"All SENT items should be at beginning of queue."),r=s,t[s].status=Yn.SENT_NEEDS_ABORT,t[s].abortReason="set";else if(y.assert(t[s].status===Yn.RUN,"Unexpected transaction status in abort"),t[s].unwatcher(),o=o.concat(this.serverSyncTree_.ackUserWrite(t[s].currentWriteId,!0)),t[s].onComplete){n.push(t[s].onComplete.bind(null,new Error("set"),!1,null))}-1===r?e.setValue(null):t.length=r+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),o);for(var s=0;s<n.length;s++)te(n[s])}};/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn="databaseURL",$n=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return ta||(ta=new e),ta},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options[Xn];void 0===n&&L("Can't determine Firebase Database URL.  Be sure to include "+Xn+" option when calling firebase.initializeApp().");var o=ge(n),r=o.repoInfo;Me("Invalid Firebase Database URL",1,o),o.path.isEmpty()||L("Database URL must point to the root of a Firebase Database (not including a child path).");var i=this.createRepo(r,e);return i.database},e.prototype.deleteRepo=function(e){var t=y.safeGet(this.repos_,e.app.name);t&&y.safeGet(t,e.repoInfo_.toURLString())===e||L("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=y.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var o=y.safeGet(n,e.toURLString());return o&&L("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new qn(e,this.useRestClient_,t),n[e.toURLString()]=o,o},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),Jn=function(){function e(e){this.repo_=e,e instanceof qn||L("Don't call new Database() directly - please use firebase.database()."),this.root_=new Kn(e,oe.Empty),this.INTERNAL=new Zn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),y.validateArgCount("database.ref",0,1,arguments.length),e instanceof Kn?this.refFromURL(e.toString()):void 0===e?this.root_:this.root_.child(e)},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),y.validateArgCount(t,1,1,arguments.length);var n=ge(e);Me(t,1,n);var o=n.repoInfo;return o.host!==this.repo_.repoInfo_.host&&L(t+": Host name does not match the current database: (found "+o.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&L("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){y.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){y.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}(),Zn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return _.__awaiter(this,void 0,void 0,function(){return _.__generator(this,function(){return this.database.checkDeleted_("delete"),$n.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}(),ea=Object.freeze({forceLongPolling:function(){kn.forceDisallow(),En.forceAllow()},forceWebSockets:function(){En.forceDisallow()},isWebSocketsAvailable:function(){return kn.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),ta;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},jn.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var na=Object.freeze({DataConnection:jn,RealTimeConnection:Mn,hijackHash:function(e){var t=jn.prototype.put;return jn.prototype.put=function(n,o,r,i){void 0!==i&&(i=e()),t.call(this,n,o,r,i)},function(){jn.prototype.put=t}},ConnectionTarget:fe,queryIdentifier:function(e){return e.queryIdentifier()},listens:function(e){return e.repo.persistentConnection_.listens_},forceRestClient:function(e){$n.getInstance().forceRestClient(e)}}),aa=Jn.ServerValue;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */f(v),n.registerDatabase=f,n.Database=Jn,n.Query=Ct,n.Reference=Kn,n.enableLogging=A,n.ServerValue=aa,n.DataSnapshot=yt,n.OnDisconnect=Fe}).call(this,e("_process"))},{"@firebase/app":1,"@firebase/logger":5,"@firebase/util":7,_process:191,tslib:360}],4:[function(e,t,n){"use strict";function o(){return st.logLevel===at.LogLevel.DEBUG?dt.DEBUG:st.logLevel===at.LogLevel.SILENT?dt.SILENT:dt.ERROR}function r(e){e===dt.DEBUG?st.logLevel=at.LogLevel.DEBUG:e===dt.ERROR?st.logLevel=at.LogLevel.ERROR:e===dt.SILENT?st.logLevel=at.LogLevel.SILENT:st.error("Firestore ("+it+"): Invalid value passed to `setLogLevel`")}function i(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(st.logLevel<=at.LogLevel.DEBUG){var r=n.map(d);st.debug.apply(st,["Firestore ("+it+") ["+e+"]: "+t].concat(r))}}function s(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(st.logLevel<=at.LogLevel.ERROR){var o=t.map(d);st.error.apply(st,["Firestore ("+it+"): "+e].concat(o))}}function d(e){if("string"==typeof e)return e;var t=lt.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(e){var t="FIRESTORE ("+it+") INTERNAL ASSERTION FAILED: "+e;throw s(t),new Error(t)}function c(e,t){e||l(t)}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(){return lt.getPlatform().emptyByteString}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new ct(pt.INVALID_ARGUMENT,e)}for(var o in n.prototype=e.prototype,e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){return e===void 0?t:e}function f(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=+n;isNaN(o)||t(o,e[n])}}function g(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function y(e){for(var t in c(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function b(e){c(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(e,t,n){if(t.length!==n)throw new ct(pt.INVALID_ARGUMENT,"Function "+e+"() requires "+F(n,"argument")+", but was called with "+F(t.length,"argument")+".")}function v(e,t,n){if(t.length<n)throw new ct(pt.INVALID_ARGUMENT,"Function "+e+"() requires at least "+F(n,"argument")+", but was called with "+F(t.length,"argument")+".")}function E(e,t,n,o){if(t.length<n||t.length>o)throw new ct(pt.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+(o+" arguments, but was called with ")+F(t.length,"argument")+".")}function C(e,t,n,o){if(!(t instanceof Array)||t.length<o)throw new ct(pt.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+(F(o,"element")+"."))}function T(e,t,n,o){w(e,t,L(n)+" argument",o)}function I(e,t,n,o){o!==void 0&&T(e,t,n,o)}function S(e,t,n,o){w(e,t,n+" option",o)}function k(e,t,n,o){o!==void 0&&S(e,t,n,o)}function x(e,t,n,o,r){for(var i=[],s=0,d=r,l;s<d.length;s++){if(l=d[s],l===o)return;i.push(P(l))}var p=P(o);throw new ct(pt.INVALID_ARGUMENT,"Invalid value "+p+" provided to function "+e+"() for option \""+n+"\". Acceptable values: "+i.join(", "))}function N(e,t,n,o,r){o!==void 0&&x(e,t,n,o,r)}function w(e,t,n,o){if(typeof o!==t||"object"===t&&!R(o)){var r=P(o);throw new ct(pt.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" "+("to be of type "+t+", but it was: "+r))}}function R(e){return"object"==typeof e&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function P(e){if(e===void 0)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=A(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":l("Unknown wrong type: "+typeof e)}function A(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/,n=t.exec(e.constructor.toString());if(n&&1<n.length)return n[1]}return null}function D(e,t,n){if(n===void 0)throw new ct(pt.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+L(t)+" argument, but it was undefined.")}function O(e,t,n){g(t,function(t){if(0>n.indexOf(t))throw new ct(pt.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function M(e,t,n,o){var r=P(o);return new ct(pt.INVALID_ARGUMENT,"Function "+e+"() requires its "+L(n)+" "+("argument to be a "+t+", but it was: "+r))}function L(e){return 1===e?"first":2===e?"second":3===e?"third":e+"th"}function F(e,t){return e+" "+t+(1===e?"":"s")}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e,t){return e<t?-1:e>t?1:0}function j(e,t){return null!==e&&void 0!==e?!!(t&&e.isEqual(t)):e===t}function B(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function V(e){var t=e.length-1;return 0===e.length?"":"\0"===e.charAt(t)?e.substring(0,t):e.substring(0,t)+Je(e.charCodeAt(t)-1)}function q(e){return e+"\0"}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(){if("undefined"==typeof Uint8Array)throw new ct(pt.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function z(){if(!lt.getPlatform().base64Available)throw new ct(pt.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function H(e,t){return e<t?-1:e>t?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}function K(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function G(e){return null===e||e===void 0}function Q(e){return Jt(e)&&e<=$t&&e>=Xt}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(e,t,n){if(n.isEqual(Lt.INSTANCE)){if(t!==en.EQUAL)throw new ct(pt.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new nn(e)}if(n.isEqual(Bt.NAN)){if(t!==en.EQUAL)throw new ct(pt.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new an(e)}return new tn(e,t,n)}function X(e){return e===pt.OK?l("Treated status OK as error"):e===pt.CANCELLED||e===pt.UNKNOWN||e===pt.DEADLINE_EXCEEDED||e===pt.RESOURCE_EXHAUSTED||e===pt.INTERNAL||e===pt.UNAVAILABLE||e===pt.UNAUTHENTICATED?!1:e===pt.INVALID_ARGUMENT||e===pt.NOT_FOUND||e===pt.ALREADY_EXISTS||e===pt.PERMISSION_DENIED||e===pt.FAILED_PRECONDITION||e===pt.ABORTED||e===pt.OUT_OF_RANGE||e===pt.UNIMPLEMENTED||e===pt.DATA_LOSS||l("Unknown status code: "+e)}function $(e){var t=Sn[e];return void 0===t?void 0:J(t)}function J(e){if(void 0===e)return s("GRPC error has no .code"),pt.UNKNOWN;return e===Sn.OK?pt.OK:e===Sn.CANCELLED?pt.CANCELLED:e===Sn.UNKNOWN?pt.UNKNOWN:e===Sn.DEADLINE_EXCEEDED?pt.DEADLINE_EXCEEDED:e===Sn.RESOURCE_EXHAUSTED?pt.RESOURCE_EXHAUSTED:e===Sn.INTERNAL?pt.INTERNAL:e===Sn.UNAVAILABLE?pt.UNAVAILABLE:e===Sn.UNAUTHENTICATED?pt.UNAUTHENTICATED:e===Sn.INVALID_ARGUMENT?pt.INVALID_ARGUMENT:e===Sn.NOT_FOUND?pt.NOT_FOUND:e===Sn.ALREADY_EXISTS?pt.ALREADY_EXISTS:e===Sn.PERMISSION_DENIED?pt.PERMISSION_DENIED:e===Sn.FAILED_PRECONDITION?pt.FAILED_PRECONDITION:e===Sn.ABORTED?pt.ABORTED:e===Sn.OUT_OF_RANGE?pt.OUT_OF_RANGE:e===Sn.UNIMPLEMENTED?pt.UNIMPLEMENTED:e===Sn.DATA_LOSS?pt.DATA_LOSS:l("Unknown status code: "+e)}function Z(e){if(e===void 0)return Sn.OK;return e===pt.OK?Sn.OK:e===pt.CANCELLED?Sn.CANCELLED:e===pt.UNKNOWN?Sn.UNKNOWN:e===pt.DEADLINE_EXCEEDED?Sn.DEADLINE_EXCEEDED:e===pt.RESOURCE_EXHAUSTED?Sn.RESOURCE_EXHAUSTED:e===pt.INTERNAL?Sn.INTERNAL:e===pt.UNAVAILABLE?Sn.UNAVAILABLE:e===pt.UNAUTHENTICATED?Sn.UNAUTHENTICATED:e===pt.INVALID_ARGUMENT?Sn.INVALID_ARGUMENT:e===pt.NOT_FOUND?Sn.NOT_FOUND:e===pt.ALREADY_EXISTS?Sn.ALREADY_EXISTS:e===pt.PERMISSION_DENIED?Sn.PERMISSION_DENIED:e===pt.FAILED_PRECONDITION?Sn.FAILED_PRECONDITION:e===pt.ABORTED?Sn.ABORTED:e===pt.OUT_OF_RANGE?Sn.OUT_OF_RANGE:e===pt.UNIMPLEMENTED?Sn.UNIMPLEMENTED:e===pt.DATA_LOSS?Sn.DATA_LOSS:l("Unknown status code: "+e)}function ee(e){return 200===e?pt.OK:400===e?pt.INVALID_ARGUMENT:401===e?pt.UNAUTHENTICATED:403===e?pt.PERMISSION_DENIED:404===e?pt.NOT_FOUND:409===e?pt.ABORTED:416===e?pt.OUT_OF_RANGE:429===e?pt.RESOURCE_EXHAUSTED:499===e?pt.CANCELLED:500===e?pt.UNKNOWN:501===e?pt.UNIMPLEMENTED:503===e?pt.UNAVAILABLE:504===e?pt.DEADLINE_EXCEEDED:200<=e&&300>e?pt.OK:400<=e&&500>e?pt.FAILED_PRECONDITION:500<=e&&600>e?pt.INTERNAL:pt.UNKNOWN}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(){return xn}function ne(){return Nn}function ae(){return wn}function oe(){return Rn}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(e,t){0<t.length&&(e.resumeToken=t)}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(e,t){c(!G(e),t+" is missing")}function se(e){return"number"==typeof e?e:"string"==typeof e?+e:l("can't parse "+e)}function de(e,t,n){return t===n||!t&&n in e}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(e){var t=e.search($n);if(0<=t)throw new ct(pt.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Xn.bind.apply(Xn,[void 0].concat(e.split("."))))}catch(t){throw new ct(pt.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e,t){var n=function(e){return e===Zn.Added?1:e===Zn.Modified?2:e===Zn.Metadata?2:e===Zn.Removed?0:l("Unknown ChangeType: "+e)};return n(e)-n(t)}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=me(t)),t=ue(e.get(n),t);return me(t)}function ue(e,t){for(var n=t,o=e.length,r=0,i;r<o;r++)i=e.charAt(r),n+="\0"===i?Sa+xa:i===Sa?Sa+Na:i;return n}function me(e){return e+Sa+ka}function he(e){var t=e.length;if(c(2<=t,"Invalid path "+e),2===t)return c(e.charAt(0)===Sa&&e.charAt(1)===ka,"Non-empty path "+e+" had length 2"),Ct.EMPTY_PATH;for(var n=[],o="",r=0,i;r<t;){i=e.indexOf(Sa,r),(0>i||i>t-2)&&l("Invalid encoded resource path: \""+e+"\"");var s=e.charAt(i+1);switch(s){case ka:var d=e.substring(r,i),p=void 0;0===o.length?p=d:(o+=d,p=o,o=""),n.push(p);break;case xa:o+=e.substring(r,i),o+="\0";break;case Na:o+=e.substring(r,i+1);break;default:l("Invalid encoded resource path: \""+e+"\"");}r=i+2}return new Ct(n)}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e,t,n,o){c(n<o&&0<=n&&2>=o,"Unexpected schema upgrade from v${fromVersion} to v{toVersion}."),1>n&&1<=o&&(ge(e),ye(e),_e(e),be(e));var r=da.resolve();return 2>n&&2<=o&&(r=Ee(t).next(function(e){return ve(t,e)})),r}function ge(e){e.createObjectStore(Pa.store)}function ye(e){e.createObjectStore(Aa.store,{keyPath:Aa.keyPath}),e.createObjectStore(Da.store,{keyPath:Da.keyPath}),e.createObjectStore(Oa.store)}function be(e){e.createObjectStore(La.store)}function _e(e){var t=e.createObjectStore(Ua.store,{keyPath:Ua.keyPath});t.createIndex(Ua.documentTargetsIndex,Ua.documentTargetsKeyPath,{unique:!0});var n=e.createObjectStore(Fa.store,{keyPath:Fa.keyPath});n.createIndex(Fa.queryTargetsIndexName,Fa.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ja.store)}function ve(e,t){var n=e.store(ja.store),o=e.store(Fa.store);return o.count().next(function(e){return t.targetCount=e,n.put(ja.key,t)})}function Ee(e){var t=e.store(ja.store);return t.get(ja.key).next(function(e){return null==e?(e=new ja(0,0,pn.MIN.toTimestamp(),0),t.put(ja.key,e).next(function(){return e})):da.resolve(e)})}function Ce(e){return new da(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){n(e.target.error)}})}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e){return c("string"==typeof e,"Persisting non-string stream token not supported."),e}function Ie(e){return xe(e,Da.store)}function Se(e){return xe(e,Oa.store)}function ke(e){return xe(e,Aa.store)}function xe(e,t){return e instanceof za?e.store(t):l("Invalid transaction object provided!")}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(e){return Pe(e,Fa.store)}function we(e){return Pe(e,ja.store)}function Re(e){return Pe(e,Ua.store)}function Pe(e,t){return e instanceof za?e.store(t):l("Invalid transaction object provided!")}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(e){return e instanceof za?e.store(La.store):l("Invalid transaction object provided!")}function De(e){return e.path.toArray()}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(e){return e.documents!==void 0}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(e){if(!e)return new No;switch(e.type){case"gapi":return new Po(e.client,e.sessionIndex||"0");case"provider":return e.client;default:throw new ct(pt.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type");}}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(e){return Fe(e,["next","error","complete"])}function Fe(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,o=0,r=t,i;o<r.length;o++)if(i=r[o],i in n&&"function"==typeof n[i])return!0;return!1}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(e){switch(e){case jo.Set:case jo.MergeSet:case jo.Update:return!0;case jo.QueryValue:return!1;default:throw l("Unexpected case for UserDataSource: "+e);}}function je(e){return"object"==typeof e&&null!==e&&!(e instanceof Array)&&!(e instanceof Date)&&!(e instanceof gt)&&!(e instanceof ft)&&!(e instanceof mt)&&!(e instanceof Vo)&&!(e instanceof Ao)}function Be(e,t,n){if(!je(n)||!R(n)){var o=P(n);if("an object"===o)throw t.createError(e+" a custom object");else throw t.createError(e+" "+o)}}function Ve(e,t){if(t instanceof Xn)return t._internalPath;if("string"==typeof t)return qe(e,t);throw new ct(pt.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+"Field path arguments must be of type string or FieldPath.")}function qe(t,e){try{return le(e)._internalPath}catch(o){var n=We(o);throw new ct(pt.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function We(e){return e instanceof Error?e.message:e.toString()}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(e,t){return void 0===t?{merge:!1}:(O(e,t,["merge"]),k(e,"boolean","merge",t.merge),t)}function He(e,t){return void 0===t?{}:(O(e,t,["serverTimestamps"]),N(e,"options","serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function Ke(e,t,n){if(!(t instanceof Yo))throw M(e,"DocumentReference",1,t);else if(t.firestore!==n)throw new ct(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");else return t}function Ge(e,t){if(t.oldDocs.isEmpty()){var n=0,o;return t.docChanges.map(function(r){var i=new Jo(e,r.doc.key,r.doc,t.fromCache);return c(r.type===Zn.Added,"Invalid event type for first snapshot"),c(!o||0>t.query.docComparator(o,r.doc),"Got added events in wrong order"),o=r.doc,{type:"added",doc:i,oldIndex:-1,newIndex:n++}})}var r=t.oldDocs;return t.docChanges.map(function(n){var o=new Jo(e,n.doc.key,n.doc,t.fromCache),i=-1,s=-1;return n.type!==Zn.Added&&(i=r.indexOf(n.doc.key),c(0<=i,"Index for document not found"),r=r.delete(n.doc.key)),n.type!==Zn.Removed&&(r=r.add(n.doc),s=r.indexOf(n.doc.key)),{type:Qe(n.type),doc:o,oldIndex:i,newIndex:s}})}function Qe(e){return e===Zn.Added?"added":e===Zn.Modified||e===Zn.Metadata?"modified":e===Zn.Removed?"removed":l("Unknown change type: "+e)}function Ye(e){e.INTERNAL.registerService("firestore",function(e){return new Ko(e)},b(cr))}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(e){Ye(e)}var $e=Number.POSITIVE_INFINITY,Je=String.fromCharCode,Ze=Math.min,et=Math.floor,tt=Math.max;Object.defineProperty(n,"__esModule",{value:!0});var nt=function(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}(e("@firebase/app")),at=e("@firebase/logger"),ot=e("tslib"),rt=e("@firebase/webchannel-wrapper"),it=nt.SDK_VERSION,st=new at.Logger("@firebase/firestore"),dt;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"})(dt||(dt={}));var lt=function(){function e(){}return e.setPlatform=function(t){e.platform&&l("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||l("Platform not set"),e.platform},e}(),pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ct=function(e){function t(t,n){var o=e.call(this,n)||this;return o.code=t,o.message=n,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return ot.__extends(t,e),t}(Error),ut=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;20>n;n++)t+=e.charAt(et(Math.random()*e.length));return c(20===t.length,"Invalid auto ID: "+t),t},e}(),mt=function(){function e(e){z(),this._binaryString=e}return e.fromBase64String=function(t){_("Blob.fromBase64String",arguments,1),T("Blob.fromBase64String","string",1,t),z();try{var n=lt.getPlatform().atob(t);return new e(n)}catch(t){throw new ct(pt.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},e.fromUint8Array=function(t){if(_("Blob.fromUint8Array",arguments,1),W(),!(t instanceof Uint8Array))throw M("Blob.fromUint8Array","Uint8Array",1,t);var n=Array.prototype.map.call(t,function(e){return Je(e)}).join("");return new e(n)},e.prototype.toBase64=function(){return _("Blob.toBase64",arguments,0),z(),lt.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){_("Blob.toUint8Array",arguments,0),W();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return U(this._binaryString,e._binaryString)},e}(),ht=u(mt,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),ft=function(){function e(e,t){if(_("GeoPoint",arguments,2),T("GeoPoint","number",1,e),T("GeoPoint","number",2,t),!isFinite(e)||-90>e||90<e)throw new ct(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||-180>t||180<t)throw new ct(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return U(this._lat,e._lat)||U(this._long,e._long)},e}(),gt=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,0>t)throw new ct(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new ct(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(-62135596800>e)throw new ct(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new ct(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=et(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?U(this.nanoseconds,e.nanoseconds):U(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),yt=function(){return function(e,t,n,o){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=o}}(),bt="(default)",_t=function(){function e(e,t){this.projectId=e,this.database=t?t:bt}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===bt},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return U(this.projectId,e.projectId)||U(this.database,e.database)},e}(),vt="__name__",Et=function(){function e(e,t,n){this.init(e,t,n)}return e.prototype.init=function(e,t,n){void 0===t?t=0:t>e.length&&l("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&l("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n},e.prototype.construct=function(e,t,n){var o=Object.create(Object.getPrototypeOf(this));return o.init(e,t,n),o},Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):"string"==typeof t?n.push(t):l("Unknown parameter type for Path.child(): "+t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,c(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return c(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return c(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return c(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},e.prototype.get=function(e){return c(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Ze(e.length,t.length),o=0;o<n;o++){var r=e.get(o),i=t.get(o);if(r<i)return-1;if(r>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Ct=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ot.__extends(t,e),t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(0<=e.indexOf("//"))throw new ct(pt.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");var n=e.split("/").filter(function(e){return 0<e.length});return new t(n)},t.EMPTY_PATH=new t([]),t}(Et),Tt=/^[_a-zA-Z][_a-zA-Z0-9]*$/,It=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ot.__extends(t,e),t.isValidIdentifier=function(e){return Tt.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===vt},t.keyField=function(){return new t([vt])},t.fromServerFormat=function(e){for(var n=[],o="",r=0,i=function(){if(0===o.length)throw new ct(pt.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(o),o=""},s=!1,d;r<e.length;)if(d=e[r],"\\"===d){if(r+1===e.length)throw new ct(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ct(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=l,r+=2}else"`"===d?(s=!s,r++):"."!==d||s?(o+=d,r++):(i(),r++);if(i(),s)throw new ct(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(Et),St=function(){function e(t){this.path=t,c(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.isEqual=function(e){return null!==e&&0===Ct.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Ct.comparator(e.path,t.path)},e.isDocumentKey=function(e){return 0==e.length%2},e.fromSegments=function(t){return new e(new Ct(t.slice()))},e.fromPathString=function(t){return new e(Ct.fromString(t))},e.EMPTY=new e(new Ct([])),e}(),kt=function(){function e(e,t,n,o){this.key=e,this.version=t,this.data=n,this.hasLocalMutations=o.hasLocalMutations}return e.prototype.field=function(e){return this.data.field(e)},e.prototype.fieldValue=function(e){var t=this.field(e);return t?t.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", "+("{hasLocalMutations: "+this.hasLocalMutations+"})")},e.compareByKey=function(e,t){return St.comparator(e.key,t.key)},e.compareByField=function(e,t,n){var o=t.field(e),r=n.field(e);return void 0!==o&&void 0!==r?o.compareTo(r):l("Trying to compare documents on fields that don't exist")},e}(),xt=function(){function e(e,t){this.key=e,this.version=t}return e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},e.prototype.isEqual=function(e){return e&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},e.compareByKey=function(e,t){return St.comparator(e.key,t.key)},e}(),Nt=function(){function e(e,t){this.comparator=e,this.root=t?t:Rt.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Rt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rt.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root,n;!t.isEmpty();){if(n=this.comparator(e,t.key),0===n)return t.value;0>n?t=t.left:0<n&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root,o;!n.isEmpty();){if(o=this.comparator(e,n.key),0===o)return t+n.left.size;0>o?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new wt(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new wt(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new wt(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new wt(this.root,e,this.comparator,!0)},e}(),wt=function(){function e(e,t,n,o){this.isReverse=o,this.nodeStack=[];for(var r=1;!e.isEmpty();)if(r=t?n(e.key,t):1,o&&(r*=-1),0>r)e=this.isReverse?e.left:e.right;else if(0===r){this.nodeStack.push(e);break}else this.nodeStack.push(e),e=this.isReverse?e.right:e.left}return e.prototype.getNext=function(){c(0<this.nodeStack.length,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return 0<this.nodeStack.length},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Rt=function(){function e(t,n,o,r,i){this.key=t,this.value=n,this.color=null==o?e.RED:o,this.left=null==r?e.EMPTY:r,this.right=null==i?e.EMPTY:i,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,o,r,i){return new e(null==t?this.key:t,null==n?this.value:n,null==o?this.color:o,null==r?this.left:r,null==i?this.right:i)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,o){var r=this,n=o(e,r.key);return r=0>n?r.copy(null,null,null,r.left.insert(e,t,o),null):0===n?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,o)),r.fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()},e.prototype.remove=function(t,o){var r=this,n;if(0>o(t,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,o),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===o(t,r.key)){if(r.right.isEmpty())return e.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,o))}return r.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return!!(Math.pow(2,e)<=this.size+1)},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw l("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw l("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw l("Black depths differ");else return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),Pt=function(){function e(){this.size=0}return e.prototype.copy=function(){return this},e.prototype.insert=function(e,t){return new Rt(e,t)},e.prototype.remove=function(){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(){return!1},e.prototype.reverseTraversal=function(){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rt.EMPTY=new Pt;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At;(function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"})(At||(At={}));var Dt;(function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"})(Dt||(Dt={}));var Ot=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(Dt.Estimate,n);case"previous":return new e(Dt.Previous,n);case"none":case void 0:return new e(Dt.Default,n);default:return l("fromSnapshotOptions() called with invalid options.");}},e}(),Mt=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){c(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type.");var t=U(this.typeOrder,e.typeOrder);return t},e}(),Lt=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=At.NullValue,t.internalValue=null,t}return ot.__extends(t,e),t.prototype.value=function(){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(Mt),Ft=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=At.BooleanValue,n}return ot.__extends(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?U(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(Mt),Ut=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=At.NumberValue,n}return ot.__extends(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?H(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Mt),jt=function(e){function t(t){return e.call(this,t)||this}return ot.__extends(t,e),t.prototype.isEqual=function(e){return!!(e instanceof t)&&K(this.internalValue,e.internalValue)},t}(Ut),Bt=function(e){function t(t){var n=e.call(this,t)||this;return n.internalValue=t,n}return ot.__extends(t,e),t.prototype.isEqual=function(e){return!!(e instanceof t)&&K(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(Infinity),t.NEGATIVE_INFINITY=new t(-Infinity),t}(Ut),Vt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=At.StringValue,n}return ot.__extends(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?U(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(Mt),qt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=At.TimestampValue,n}return ot.__extends(t,e),t.prototype.value=function(e){return e&&e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof Wt?-1:this.defaultCompareTo(e)},t}(Mt),Wt=function(e){function t(t,n){var o=e.call(this)||this;return o.localWriteTime=t,o.previousValue=n,o.typeOrder=At.TimestampValue,o}return ot.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===Dt.Estimate?new qt(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===Dt.Previous?this.previousValue?this.previousValue.value(e):null:null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof qt?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(Mt),zt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=At.BlobValue,n}return ot.__extends(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Mt),Ht=function(e){function t(t,n){var o=e.call(this)||this;return o.databaseId=t,o.key=n,o.typeOrder=At.RefValue,o}return ot.__extends(t,e),t.prototype.value=function(){return this.key},t.prototype.isEqual=function(e){return!!(e instanceof t)&&this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId)},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0===n?St.comparator(this.key,e.key):n}return this.defaultCompareTo(e)},t}(Mt),Kt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=At.GeoPointValue,n}return ot.__extends(t,e),t.prototype.value=function(){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(Mt),Gt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=At.ObjectValue,n}return ot.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal(function(n,o){t[n]=o.value(e)}),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),o=e.internalValue.getIterator();n.hasNext()&&o.hasNext();){var r=n.getNext(),i=o.getNext();if(r.key!==i.key||!r.value.isEqual(i.value))return!1}return!n.hasNext()&&!o.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),o=e.internalValue.getIterator();n.hasNext()&&o.hasNext();){var r=n.getNext(),i=o.getNext(),s=U(r.key,i.key)||r.value.compareTo(i.value);if(s)return s}return U(n.hasNext(),o.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(c(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var o=this.child(e.firstSegment());o instanceof t||(o=t.EMPTY);var r=o.set(e.popFirst(),n);return this.setChild(e.firstSegment(),r)},t.prototype.delete=function(e){if(c(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var o=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),o))}return this},t.prototype.contains=function(e){return void 0!==this.field(e)},t.prototype.field=function(e){c(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach(function(e){n=n instanceof t?n.internalValue.get(e)||void 0:void 0}),n},t.prototype.toString=function(){return JSON.stringify(this.value())},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new Nt(U)),t}(Mt),Qt=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=At.ArrayValue,n}return ot.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map(function(t){return t.value(e)})},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Ze(this.internalValue.length,e.internalValue.length),o=0,r;o<n;o++)if(r=this.internalValue[o].compareTo(e.internalValue[o]),r)return r;return U(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return JSON.stringify(this.value())},t}(Mt),Yt=Number,Xt=Yt.MIN_SAFE_INTEGER||-9007199254740991,$t=Yt.MAX_SAFE_INTEGER||9007199254740991,Jt=Yt.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&et(e)===e},Zt=function(){function e(e,t,n,o,r,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===o&&(o=null),void 0===r&&(r=null),void 0===i&&(i=null),this.path=e,this.explicitOrderBy=t,this.filters=n,this.limit=o,this.startAt=r,this.endAt=i,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)this.memoizedOrderBy=e.isKeyField()?[dn]:[new sn(e),dn];else{c(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,o=0,r=this.explicitOrderBy,i;o<r.length;o++)i=r[o],this.memoizedOrderBy.push(i),i.field.isKeyField()&&(n=!0);if(!n){var s=0<this.explicitOrderBy.length?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:on.ASCENDING;this.memoizedOrderBy.push(s===on.ASCENDING?dn:ln)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){c(null==this.getInequalityFilterField()||!(t instanceof tn)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),c(!St.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){c(!St.isDocumentKey(this.path),"No ordering allowed for document query"),c(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();e+="|f:";for(var t=0,n=this.filters,o;t<n.length;t++)o=n[t],e+=o.canonicalId(),e+=",";e+="|ob:";for(var r=0,i=this.orderBy,s;r<i.length;r++)s=i[r],e+=s.canonicalId(),e+=",";G(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return 0<this.filters.length&&(e+=", filters: ["+this.filters.join(", ")+"]"),G(this.limit)||(e+=", limit: "+this.limit),0<this.explicitOrderBy.length&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(var t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return!!this.path.isEqual(e.path)&&(null===this.startAt?null===e.startAt:!!this.startAt.isEqual(e.startAt))&&(null===this.endAt?null===e.endAt:this.endAt.isEqual(e.endAt))},e.prototype.docComparator=function(e,t){for(var n=!1,o=0,r=this.orderBy;o<r.length;o++){var i=r[o],s=i.compare(e,t);if(0!==s)return s;n=n||i.field.isKeyField()}return c(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesAncestor(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!G(this.limit)},e.prototype.getFirstOrderByField=function(){return 0<this.explicitOrderBy.length?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters,n;e<t.length;e++)if(n=t[e],n instanceof tn&&n.isInequality())return n.field;return null},e.prototype.isDocumentQuery=function(){return St.isDocumentKey(this.path)&&0===this.filters.length},e.prototype.matchesAncestor=function(e){var t=e.key.path;return St.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isPrefixOf(t)&&this.path.length===t.length-1},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy,o;t<n.length;t++)if(o=n[t],!o.field.isKeyField()&&void 0===e.field(o.field))return!1;return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters,o;t<n.length;t++)if(o=n[t],!o.matches(e))return!1;return!0},e.prototype.matchesBounds=function(e){return this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e)?!1:this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,e)?!1:!0},e.prototype.assertValidBound=function(e){c(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),en=function(){function e(e){this.name=e}return e.fromString=function(t){return"<"===t?e.LESS_THAN:"<="===t?e.LESS_THAN_OR_EQUAL:"=="===t?e.EQUAL:">="===t?e.GREATER_THAN_OR_EQUAL:">"===t?e.GREATER_THAN:l("Unknown relation: "+t)},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e}(),tn=function(){function e(e,t,n){this.field=e,this.op=t,this.value=n}return e.prototype.matches=function(e){if(this.field.isKeyField()){c(this.value instanceof Ht,"Comparing on key, but filter value not a RefValue");var t=this.value,n=St.comparator(e.key,t.key);return this.matchesComparison(n)}var o=e.field(this.field);return void 0!==o&&this.matchesValue(o)},e.prototype.matchesValue=function(e){return this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(e){switch(this.op){case en.LESS_THAN:return 0>e;case en.LESS_THAN_OR_EQUAL:return 0>=e;case en.EQUAL:return 0===e;case en.GREATER_THAN:return 0<e;case en.GREATER_THAN_OR_EQUAL:return 0<=e;default:return l("Unknown relation op"+this.op);}},e.prototype.isInequality=function(){return this.op!==en.EQUAL},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return!!(t instanceof e)&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(),nn=function(){function e(e){this.field=e}return e.prototype.matches=function(e){var t=e.field(this.field);return void 0!==t&&null===t.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return!!(t instanceof e)&&this.field.isEqual(t.field)},e}(),an=function(){function e(e){this.field=e}return e.prototype.matches=function(e){var t=e.field(this.field).value();return"number"==typeof t&&isNaN(t)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return!!(t instanceof e)&&this.field.isEqual(t.field)},e}(),on=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),rn=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position,o;t<n.length;t++)o=n[t],e+=o.toString();return e},e.prototype.sortsBeforeDocument=function(e,t){c(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,o=0;o<this.position.length;o++){var r=e[o],i=this.position[o];if(r.field.isKeyField())c(i instanceof Ht,"Bound has a non-key value where the key path is being used."),n=St.comparator(i.key,t.key);else{var s=t.field(r.field);c(void 0!==s,"Field should exist since document matched the orderBy already."),n=i.compareTo(s)}if(r.dir===on.DESCENDING&&(n*=-1),0!==n)break}return this.before?0>=n:0>n},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],o=e.position[t];return n.isEqual(o)}return!0},e}(),sn=function(){function e(e,t){this.field=e,void 0===t&&(t=on.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?kt.compareByKey(e,t):kt.compareByField(this.field,e,t);switch(this.dir){case on.ASCENDING:return n;case on.DESCENDING:return-1*n;default:return l("Unknown direction: "+this.dir);}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),dn=new sn(It.keyField(),on.ASCENDING),ln=new sn(It.keyField(),on.DESCENDING),pn=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=et(t/1e6);return new e(new gt(n,1e3*(t%1e6)))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new gt(0,0)),e}(),cn;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"})(cn||(cn={}));var un=function(){function e(e,t,n,o,r){void 0===o&&(o=pn.MIN),void 0===r&&(r=p()),this.query=e,this.targetId=t,this.purpose=n,this.snapshotVersion=o,this.resumeToken=r}return e.prototype.update=function(t){return new e(this.query,this.targetId,this.purpose,t.snapshotVersion,t.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),mn=function(){function e(e){this.fields=e}return e.prototype.isEqual=function(e){return B(this.fields,e.fields)},e}(),hn=function(){function e(){}return e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),fn=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),gn=function(){return function(e,t){this.version=e,this.transformResults=t}}(),yn;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"})(yn||(yn={}));var bn=function(){function e(e,t){this.updateTime=e,this.exists=t,c(void 0===e||void 0===t,"Precondition can specify \"exists\" or \"updateTime\" but not both")}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0===this.updateTime?void 0===this.exists?(c(this.isNone,"Precondition should be empty"),!0):this.exists?e instanceof kt:null===e||e instanceof xt:e instanceof kt&&e.version.isEqual(this.updateTime)},e.prototype.isEqual=function(e){return j(this.updateTime,e.updateTime)&&this.exists===e.exists},e.NONE=new e,e}(),_n=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&c(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof kt?e.version:pn.MIN},e}(),vn=function(e){function t(t,n,o){var r=e.call(this)||this;return r.key=t,r.value=n,r.precondition=o,r.type=yn.Set,r}return ot.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),c(null==t.transformResults,"Transform results received by SetMutation.");var n=_n.getPostMutationVersion(e);return new kt(this.key,n,this.value,{hasLocalMutations:!1})},t.prototype.applyToLocalView=function(e){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var t=_n.getPostMutationVersion(e);return new kt(this.key,t,this.value,{hasLocalMutations:!0})},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(_n),En=function(e){function t(t,n,o,r){var i=e.call(this)||this;return i.key=t,i.data=n,i.fieldMask=o,i.precondition=r,i.type=yn.Patch,i}return ot.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),c(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return e;var n=_n.getPostMutationVersion(e),o=this.patchDocument(e);return new kt(this.key,n,o,{hasLocalMutations:!1})},t.prototype.applyToLocalView=function(e){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var t=_n.getPostMutationVersion(e),n=this.patchDocument(e);return new kt(this.key,t,n,{hasLocalMutations:!0})},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof kt?e.data:Gt.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){for(var t=0,n=this.fieldMask.fields;t<n.length;t++){var o=n[t],r=this.data.field(o);e=void 0===r?e.delete(o):e.set(o,r)}return e},t}(_n),Cn=function(e){function t(t,n){var o=e.call(this)||this;return o.key=t,o.fieldTransforms=n,o.type=yn.Transform,o.precondition=bn.exists(!0),o}return ot.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),c(null!=t.transformResults,"Transform results missing for TransformMutation.");var n=t.transformResults;if(!this.precondition.isValidFor(e))return e;var o=this.requireDocument(e),r=this.transformObject(o.data,n);return new kt(this.key,o.version,r,{hasLocalMutations:!1})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var o=this.requireDocument(e),r=this.localTransformResults(n,t),i=this.transformObject(o.data,r);return new kt(this.key,o.version,i,{hasLocalMutations:!0})},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&B(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){c(e instanceof kt,"Unknown MaybeDocument type "+e);var t=e;return c(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.localTransformResults=function(e,t){for(var n=[],o=0,r=this.fieldTransforms;o<r.length;o++){var i=r[o],s=i.transform;if(s instanceof hn){var d=null;t instanceof kt&&(d=t.field(i.field)||null),n.push(new Wt(e,d))}else return l("Encountered unknown transform: "+s)}return n},t.prototype.transformObject=function(e,t){c(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var o=this.fieldTransforms[n],r=o.transform,i=o.field;if(r instanceof hn)e=e.set(i,t[n]);else return l("Encountered unknown transform: "+r)}return e},t}(_n),Tn=function(e){function t(t,n){var o=e.call(this)||this;return o.key=t,o.precondition=n,o.type=yn.Delete,o}return ot.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),c(null==t.transformResults,"Transform results received by DeleteMutation."),new xt(this.key,pn.MIN)},t.prototype.applyToLocalView=function(e){return(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))?e:(e&&c(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new xt(this.key,pn.forDeletedDoc()))},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(_n),In=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}(),Sn;/**
 * A mutation describes a self-contained change to a document. Mutations can
 * create, replace, delete, and update subsets of documents.
 *
 * Mutations not only act on the value of the document but also it version.
 * In the case of Set, Patch, and Transform mutations we preserve the existing
 * version. In the case of Delete mutations, we reset the version to 0.
 *
 * Here's the expected transition table.
 *
 * MUTATION           APPLIED TO            RESULTS IN
 *
 * SetMutation        Document(v3)          Document(v3)
 * SetMutation        NoDocument(v3)        Document(v0)
 * SetMutation        null                  Document(v0)
 * PatchMutation      Document(v3)          Document(v3)
 * PatchMutation      NoDocument(v3)        NoDocument(v3)
 * PatchMutation      null                  null
 * TransformMutation  Document(v3)          Document(v3)
 * TransformMutation  NoDocument(v3)        NoDocument(v3)
 * TransformMutation  null                  null
 * DeleteMutation     Document(v3)          NoDocument(v0)
 * DeleteMutation     NoDocument(v3)        NoDocument(v0)
 * DeleteMutation     null                  NoDocument(v0)
 *
 * Note that TransformMutations don't create Documents (in the case of being
 * applied to a NoDocument), even though they would on the backend. This is
 * because the client always combines the TransformMutation with a SetMutation
 * or PatchMutation and we only want to apply the transform if the prior
 * mutation resulted in a Document (always true for a SetMutation, but not
 * necessarily for a PatchMutation).
 *
 * ## Subclassing Notes
 *
 * Subclasses of Mutation need to implement applyToRemoteDocument() and
 * applyToLocalView() to implement the actual behavior of applying the mutation
 * to some source document.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"})(Sn||(Sn={}));var kn=function(){function e(e){this.comparator=e,this.data=new Nt(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach(function(e){n=n.add(e)}),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]),o;n.hasNext();){if(o=n.getNext(),0<=this.comparator(o.key,e[1]))return;t(o.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0===t?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();){var o=n.getNext(),r=e(o.key);if(!r)return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),o=t.data.getIterator();n.hasNext();){var r=n.getNext().key,i=o.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),xn=new Nt(St.comparator),Nn=new Nt(St.comparator),wn=new Nt(St.comparator),Rn=new kn(St.comparator),Pn=function(){function e(e,t,n){this.snapshotVersion=e,this.targetChanges=t,this.documentUpdates=n}return e.prototype.addDocumentUpdate=function(e){this.documentUpdates=this.documentUpdates.insert(e.key,e)},e.prototype.handleExistenceFilterMismatch=function(e){this.targetChanges[e]={mapping:new On,snapshotVersion:pn.MIN,currentStatusUpdate:An.MarkNotCurrent,resumeToken:p()}},e}(),An;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.None=0]="None",e[e.MarkNotCurrent=1]="MarkNotCurrent",e[e.MarkCurrent=2]="MarkCurrent"})(An||(An={}));var Dn=oe(),On=function(){function e(){this.docs=Dn}return Object.defineProperty(e.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),e.prototype.add=function(e){this.docs=this.docs.add(e)},e.prototype.delete=function(e){this.docs=this.docs.delete(e)},e.prototype.isEqual=function(e){return null!==e&&this.docs.isEqual(e.docs)},e}(),Mn=function(){function e(){this.addedDocuments=Dn,this.removedDocuments=Dn}return e.prototype.applyToKeySet=function(e){var t=e;return this.addedDocuments.forEach(function(e){return t=t.add(e)}),this.removedDocuments.forEach(function(e){return t=t.delete(e)}),t},e.prototype.add=function(e){this.addedDocuments=this.addedDocuments.add(e),this.removedDocuments=this.removedDocuments.delete(e)},e.prototype.delete=function(e){this.addedDocuments=this.addedDocuments.delete(e),this.removedDocuments=this.removedDocuments.add(e)},e.prototype.isEqual=function(e){return null!==e&&this.addedDocuments.isEqual(e.addedDocuments)&&this.removedDocuments.isEqual(e.removedDocuments)},e}(),Ln=function(){return function(e,t,n,o){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=o}}(),Fn=function(){return function(e,t){this.targetId=e,this.existenceFilter=t}}(),Un;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"})(Un||(Un={}));var jn=function(){return function(e,t,n,o){void 0===n&&(n=p()),void 0===o&&(o=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}}(),Bn=function(){function e(e,t,n){this.snapshotVersion=e,this.listenTargets=t,this.existenceFilters={},this.targetChanges={},this.documentUpdates=te(),this.frozen=!1,this.pendingTargetResponses=b(n)}return e.prototype.add=function(e){c(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),e instanceof Ln?this.addDocumentChange(e):e instanceof jn?this.addTargetChange(e):e instanceof Fn?this.addExistenceFilterChange(e):l("Unknown watch change: "+e)},e.prototype.addChanges=function(e){var t=this;c(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),e.forEach(function(e){return t.add(e)})},e.prototype.createRemoteEvent=function(){var e=this,t=this.targetChanges;return f(this.targetChanges,function(n){e.isActiveTarget(n)||delete t[n]}),this.frozen=!0,new Pn(this.snapshotVersion,t,this.documentUpdates)},e.prototype.ensureTargetChange=function(e){var t=this.targetChanges[e];return t||(t={currentStatusUpdate:An.None,snapshotVersion:this.snapshotVersion,mapping:new Mn,resumeToken:p()},this.targetChanges[e]=t),t},e.prototype.isActiveTarget=function(e){return!m(this.pendingTargetResponses,e)&&m(this.listenTargets,e)},e.prototype.addDocumentChange=function(e){for(var t=!1,n=0,o=e.updatedTargetIds,r;n<o.length;n++)if(r=o[n],this.isActiveTarget(r)){var i=this.ensureTargetChange(r);i.mapping.add(e.key),t=!0}for(var s=0,d=e.removedTargetIds,r;s<d.length;s++)if(r=d[s],this.isActiveTarget(r)){var i=this.ensureTargetChange(r);i.mapping.delete(e.key),t=!0}e.newDoc&&t&&(this.documentUpdates=this.documentUpdates.insert(e.key,e.newDoc))},e.prototype.addTargetChange=function(e){var t=this;e.targetIds.forEach(function(n){var o=t.ensureTargetChange(n);switch(e.state){case Un.NoChange:t.isActiveTarget(n)&&re(o,e.resumeToken);break;case Un.Added:t.recordTargetResponse(n),m(t.pendingTargetResponses,n)||(o.mapping=new Mn,o.currentStatusUpdate=An.None,delete t.existenceFilters[n]),re(o,e.resumeToken);break;case Un.Removed:t.recordTargetResponse(n),c(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Un.Current:t.isActiveTarget(n)&&(o.currentStatusUpdate=An.MarkCurrent,re(o,e.resumeToken));break;case Un.Reset:t.isActiveTarget(n)&&(o.mapping=new On,re(o,e.resumeToken));break;default:l("Unknown target watch change state: "+e.state);}})},e.prototype.recordTargetResponse=function(e){var t=(this.pendingTargetResponses[e]||0)-1;0==t?delete this.pendingTargetResponses[e]:this.pendingTargetResponses[e]=t},e.prototype.addExistenceFilterChange=function(e){this.isActiveTarget(e.targetId)&&(this.existenceFilters[e.targetId]=e.existenceFilter)},e}(),Vn=function(){var e={};return e[on.ASCENDING.name]="ASCENDING",e[on.DESCENDING.name]="DESCENDING",e}(),qn=function(){var e={};return e[en.LESS_THAN.name]="LESS_THAN",e[en.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",e[en.GREATER_THAN.name]="GREATER_THAN",e[en.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",e[en.EQUAL.name]="EQUAL",e}(),Wn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),zn=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?pt.UNKNOWN:J(e.code);return new ct(t,e.message||"")},e.prototype.toInt32Value=function(e){return G(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return t="object"==typeof e?e.value:e,G(t)?null:t},e.prototype.toTimestamp=function(e){return{seconds:e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);c(!!e,"Cannot deserialize null or undefined timestamp.");var t=se(e.seconds||"0"),n=e.nanos||0;return new gt(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=Wn.exec(e);if(c(!!n,"invalid timestamp: "+e),n[1]){var o=n[1];o=(o+"000000000").substr(0,9),t=+o}var r=new Date(e),i=et(r.getTime()/1e3);return new gt(i,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(c(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),mt.fromBase64String(e)):(c(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),mt.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return c(!!e,"Trying to deserialize version that isn't set"),pn.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=Ct.fromString(e);return c(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return c(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),c(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new St(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return 0===e.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?Ct.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){var e=new Ct(["projects",this.databaseId.projectId,"databases",this.databaseId.database]);return e.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new Ct(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return c(4<e.length&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof Lt)return{nullValue:"NULL_VALUE"};if(e instanceof Ft)return{booleanValue:e.value()};if(e instanceof jt)return{integerValue:""+e.value()};if(e instanceof Bt){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===Infinity)return{doubleValue:"Infinity"};if(t===-Infinity)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof Vt?{stringValue:e.value()}:e instanceof Gt?{mapValue:this.toMapValue(e)}:e instanceof Qt?{arrayValue:this.toArrayValue(e)}:e instanceof qt?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Kt?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof zt?{bytesValue:this.toBytes(e.value())}:e instanceof Ht?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:l("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this,n=e.value_type;if(de(e,n,"nullValue"))return Lt.INSTANCE;if(de(e,n,"booleanValue"))return Ft.of(e.booleanValue);if(de(e,n,"integerValue"))return new jt(se(e.integerValue));if(de(e,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Bt.NAN;if("Infinity"===e.doubleValue)return Bt.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Bt.NEGATIVE_INFINITY}return new Bt(e.doubleValue)}if(de(e,n,"stringValue"))return new Vt(e.stringValue);if(de(e,n,"mapValue"))return this.fromFields(e.mapValue.fields||{});if(de(e,n,"arrayValue")){ie(e.arrayValue,"arrayValue");var o=e.arrayValue.values||[];return new Qt(o.map(function(e){return t.fromValue(e)}))}if(de(e,n,"timestampValue"))return ie(e.timestampValue,"timestampValue"),new qt(this.fromTimestamp(e.timestampValue));if(de(e,n,"geoPointValue")){ie(e.geoPointValue,"geoPointValue");var r=e.geoPointValue.latitude||0,i=e.geoPointValue.longitude||0;return new Kt(new ft(r,i))}if(de(e,n,"bytesValue")){ie(e.bytesValue,"bytesValue");var s=this.fromBlob(e.bytesValue);return new zt(s)}if(de(e,n,"referenceValue")){ie(e.referenceValue,"referenceValue");var d=this.fromResourceName(e.referenceValue),p=new _t(d.get(1),d.get(3)),c=new St(this.extractLocalPathFromResourceName(d));return new Ht(p,c)}return l("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return c(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e){return new kt(this.fromName(e.name),this.fromVersion(e.updateTime),this.fromFields(e.fields||{}),{hasLocalMutations:!1})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach(function(e,o){n[e]=t.toValue(o)}),n},e.prototype.fromFields=function(e){var t=this,n=Gt.EMPTY;return g(e,function(e,o){n=n.set(new It([e]),t.fromValue(o))}),n},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.toValue(e))}),{values:n}},e.prototype.fromFound=function(e){c(!!e.found,"Tried to deserialize a found document from a missing document."),ie(e.found.name,"doc.found.name"),ie(e.found.updateTime,"doc.found.updateTime");var t=this.fromName(e.found.name),n=this.fromVersion(e.found.updateTime),o=this.fromFields(e.found.fields||{});return new kt(t,n,o,{hasLocalMutations:!1})},e.prototype.fromMissing=function(e){c(!!e.missing,"Tried to deserialize a missing document from a found document."),c(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new xt(t,n)},e.prototype.fromMaybeDocument=function(e){var t=e.result;return de(e,t,"found")?this.fromFound(e):de(e,t,"missing")?this.fromMissing(e):l("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){return e===Un.Added?"ADD":e===Un.Current?"CURRENT":e===Un.NoChange?"NO_CHANGE":e===Un.Removed?"REMOVE":e===Un.Reset?"RESET":l("Unknown WatchTargetChangeState: "+e)},e.prototype.toTestWatchChange=function(e){if(e instanceof Fn)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Ln){if(e.newDoc instanceof kt){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof xt){var t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof jn){var n;return e.cause&&(n={code:Z(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return l("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t=e.response_type,n;if(de(e,t,"targetChange")){ie(e.targetChange,"targetChange");var o=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=e.targetChange.resumeToken||this.emptyByteString(),s=e.targetChange.cause,d=s&&this.fromRpcStatus(s);n=new jn(o,r,i,d||null)}else if(de(e,t,"documentChange")){ie(e.documentChange,"documentChange"),ie(e.documentChange.document,"documentChange.name"),ie(e.documentChange.document.name,"documentChange.document.name"),ie(e.documentChange.document.updateTime,"documentChange.document.updateTime");var p=e.documentChange,c=this.fromName(p.document.name),u=this.fromVersion(p.document.updateTime),m=this.fromFields(p.document.fields||{}),h=new kt(c,u,m,{hasLocalMutations:!1}),f=p.targetIds||[],g=p.removedTargetIds||[];n=new Ln(f,g,h.key,h)}else if(de(e,t,"documentDelete")){ie(e.documentDelete,"documentDelete"),ie(e.documentDelete.document,"documentDelete.document");var y=e.documentDelete,c=this.fromName(y.document),u=y.readTime?this.fromVersion(y.readTime):pn.forDeletedDoc(),h=new xt(c,u),g=y.removedTargetIds||[];n=new Ln([],g,h.key,h)}else if(de(e,t,"documentRemove")){ie(e.documentRemove,"documentRemove"),ie(e.documentRemove.document,"documentRemove");var b=e.documentRemove,c=this.fromName(b.document),g=b.removedTargetIds||[];n=new Ln([],g,c,null)}else if(de(e,t,"filter")){ie(e.filter,"filter"),ie(e.filter.targetId,"filter.targetId");var _=e.filter,v=_.count||0,E=new In(v),C=_.targetId;n=new Fn(C,E)}else return l("Unknown change type "+JSON.stringify(e));return n},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Un.NoChange:"ADD"===e?Un.Added:"REMOVE"===e?Un.Removed:"CURRENT"===e?Un.Current:"RESET"===e?Un.Reset:l("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){var t=e.response_type;if(!de(e,t,"targetChange"))return pn.MIN;var n=e.targetChange;return n.targetIds&&n.targetIds.length?pn.MIN:n.readTime?this.fromVersion(n.readTime):pn.MIN},e.prototype.toMutation=function(e){var t=this,n;if(e instanceof vn)n={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof Tn)n={delete:this.toName(e.key)};else if(e instanceof En)n={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else if(e instanceof Cn)n={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map(function(e){return t.toFieldTransform(e)})}};else return l("Unknown mutation type "+e.type);return e.precondition.isNone||(n.currentDocument=this.toPrecondition(e.precondition)),n},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):bn.NONE;if(e.update){ie(e.update.name,"name");var o=this.fromName(e.update.name),r=this.fromFields(e.update.fields||{});if(e.updateMask){var i=this.fromDocumentMask(e.updateMask);return new En(o,r,i,n)}return new vn(o,r,n)}if(e.delete){var o=this.fromName(e.delete);return new Tn(o,n)}if(e.transform){var o=this.fromName(e.transform.document),s=e.transform.fieldTransforms.map(function(e){return t.fromFieldTransform(e)});return c(!0===n.exists,"Transforms only support precondition \"exists == true\""),new Cn(o,s)}return l("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return c(!e.isNone,"Can't serialize an empty precondition"),void 0===e.updateTime?void 0===e.exists?l("Unknown precondition"):{exists:e.exists}:{updateTime:this.toVersion(e.updateTime)}},e.prototype.fromPrecondition=function(e){return void 0===e.updateTime?void 0===e.exists?bn.NONE:bn.exists(e.exists):bn.updateTime(this.fromVersion(e.updateTime))},e.prototype.fromWriteResult=function(e){var t=this,n=e.updateTime?this.fromVersion(e.updateTime):null,o=null;return e.transformResults&&0<e.transformResults.length&&(o=e.transformResults.map(function(e){return t.fromValue(e)})),new gn(n,o)},e.prototype.fromWriteResults=function(e){var t=this;return(e||[]).map(function(e){return t.fromWriteResult(e)})},e.prototype.toFieldTransform=function(e){return c(e.transform instanceof hn,"Unknown transform: "+e.transform),{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},e.prototype.fromFieldTransform=function(e){c("REQUEST_TIME"===e.setToServerValue,"Unknown transform proto: "+JSON.stringify(e));var t=It.fromServerFormat(e.fieldPath);return new fn(t,hn.instance)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;c(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return Zt.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}};if(e.path.isEmpty())t.parent=this.toQueryPath(Ct.EMPTY_PATH);else{var n=e.path;c(0!=n.length%2,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]}var o=this.toFilter(e.filters);o&&(t.structuredQuery.where=o);var r=this.toOrder(e.orderBy);r&&(t.structuredQuery.orderBy=r);var i=this.toInt32Value(e.limit);return void 0!==i&&(t.structuredQuery.limit=i),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,o=n.from?n.from.length:0;if(0<o){c(1===o,"StructuredQuery.from with more than one collection is not supported.");var r=n.from[0];t=t.child(r.collectionId)}var i=[];n.where&&(i=this.fromFilter(n.where));var s=[];n.orderBy&&(s=this.fromOrder(n.orderBy));var d=null;n.limit&&(d=this.fromInt32Value(n.limit));var l=null;n.startAt&&(l=this.fromCursor(n.startAt));var p=null;return n.endAt&&(p=this.fromCursor(n.endAt)),new Zt(t,s,i,d,l,p)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){return e===cn.Listen?null:e===cn.ExistenceFilterMismatch?"existence-filter-mismatch":e===cn.LimboResolution?"limbo-document":l("Unrecognized query purpose: "+e)},e.prototype.toTarget=function(e){var t=e.query,n;return n=t.isDocumentQuery()?{documents:this.toDocumentsTarget(t)}:{query:this.toQueryTarget(t)},n.targetId=e.targetId,0<e.resumeToken.length&&(n.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),n},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map(function(e){return e instanceof tn?t.toRelationFilter(e):t.toUnaryFilter(e)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0===e.unaryFilter?void 0===e.fieldFilter?void 0===e.compositeFilter?l("Unknown filter: "+JSON.stringify(e)):e.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(e,t){return e.concat(t)}):[this.fromRelationFilter(e)]:[this.fromUnaryFilter(e)]:[]},e.prototype.toOrder=function(e){var t=this;return 0===e.length?void 0:e.map(function(e){return t.toPropertyOrder(e)})},e.prototype.fromOrder=function(e){var t=this;return e.map(function(e){return t.fromPropertyOrder(e)})},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map(function(e){return t.toValue(e)})}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,o=e.values.map(function(e){return t.fromValue(e)});return new rn(o,n)},e.prototype.toDirection=function(e){return Vn[e.name]},e.prototype.fromDirection=function(e){return"ASCENDING"===e?on.ASCENDING:"DESCENDING"===e?on.DESCENDING:void 0},e.prototype.toOperatorName=function(e){return qn[e.name]},e.prototype.fromOperatorName=function(e){return"EQUAL"===e?en.EQUAL:"GREATER_THAN"===e?en.GREATER_THAN:"GREATER_THAN_OR_EQUAL"===e?en.GREATER_THAN_OR_EQUAL:"LESS_THAN"===e?en.LESS_THAN:"LESS_THAN_OR_EQUAL"===e?en.LESS_THAN_OR_EQUAL:"OPERATOR_UNSPECIFIED"===e?l("Unspecified relation"):l("Unknown relation")},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return It.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new sn(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.toRelationFilter=function(e){return e instanceof tn?{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}:l("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromRelationFilter=function(e){return new tn(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryFilter=function(e){return e instanceof an?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}}:e instanceof nn?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}:l("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return new an(t);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return new nn(n);case"OPERATOR_UNSPECIFIED":return l("Unspecified filter");default:return l("Unknown filter");}},e.prototype.toDocumentMask=function(e){return{fieldPaths:e.fields.map(function(e){return e.canonicalString()})}},e.prototype.fromDocumentMask=function(e){var t=e.fieldPaths||[],n=t.map(function(e){return It.fromServerFormat(e)});return new mn(n)},e}(),Hn=function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){c(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){c(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){c(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){c(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){c(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){c(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}(),Kn="Connection",Gn={BatchGetDocuments:"batchGet",Commit:"commit"},Qn=function(){function e(e){this.databaseId=e.databaseId,this.pool=new rt.XhrIoPool;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]="gl-js/ fire/"+it},e.prototype.invokeRPC=function(e,t,n){var o=this,r=this.makeUrl(e);return new Promise(function(s,d){o.pool.getObject(function(p){p.listenOnce(rt.EventType.COMPLETE,function(){try{switch(p.getLastErrorCode()){case rt.ErrorCode.NO_ERROR:var t=p.getResponseJson();i(Kn,"XHR received:",JSON.stringify(t)),s(t);break;case rt.ErrorCode.TIMEOUT:i(Kn,"RPC \""+e+"\" timed out"),d(new ct(pt.DEADLINE_EXCEEDED,"Request time out"));break;case rt.ErrorCode.HTTP_ERROR:var n=p.getStatus();i(Kn,"RPC \""+e+"\" failed with status:",n,"response text:",p.getResponseText()),0<n?d(new ct(ee(n),"Server responded with status "+p.getStatusText())):(i(Kn,"RPC \""+e+"\" failed"),d(new ct(pt.UNAVAILABLE,"Connection failed.")));break;default:l("RPC \""+e+"\" failed with unanticipated webchannel error "+p.getLastErrorCode()+": "+p.getLastError()+", giving up.");}}finally{i(Kn,"RPC \""+e+"\" completed."),o.pool.releaseObject(p)}});var c=JSON.stringify(t);i(Kn,"XHR sending: ",r+" "+c);var u={"Content-Type":"text/plain"};o.modifyHeadersForRequest(u,n),p.send(r,"POST",c,u,15)})})},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",e,"/channel"],o=rt.createWebChannelTransport(),r={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},httpHeadersOverwriteParam:"$httpHeaders",messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(r.initMessageHeaders,t);var s=n.join("");i(Kn,"Creating WebChannel: "+s+" "+r);var d=o.createWebChannel(s,r),l=!1,p=!1,u=new Hn({sendFn:function(e){p?i(Kn,"Not sending because WebChannel is closed:",e):(!l&&(i(Kn,"Opening WebChannel transport."),d.open(),l=!0),i(Kn,"WebChannel sending:",e),d.send(e))},closeFn:function(){return d.close()}}),m=function(e,t){d.listen(e,function(e){try{t(e)}catch(t){setTimeout(function(){throw t},0)}})};return m(rt.WebChannel.EventType.OPEN,function(){p||i(Kn,"WebChannel transport opened.")}),m(rt.WebChannel.EventType.CLOSE,function(){p||(p=!0,i(Kn,"WebChannel transport closed"),u.callOnClose())}),m(rt.WebChannel.EventType.ERROR,function(e){p||(p=!0,i(Kn,"WebChannel transport errored:",e),u.callOnClose(new ct(pt.UNAVAILABLE,"The operation could not be completed")))}),m(rt.WebChannel.EventType.MESSAGE,function(e){if(!p){var t=e.data[0];c(!!t,"Got a webchannel message without data.");var n=t.error||t[0]&&t[0].error;if(n){i(Kn,"WebChannel received error:",n);var o=n.status,r=$(o),s=n.message;void 0===r&&(r=pt.INTERNAL,s="Unknown error status: "+o+" with message "+n.message),p=!0,u.callOnClose(new ct(r,s)),d.close()}else i(Kn,"WebChannel received:",t),u.callOnMessage(t)}}),setTimeout(function(){u.callOnOpen()},0),u},e.prototype.makeUrl=function(e){var t=Gn[e];c(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1beta1","/projects/",this.databaseId.projectId,"/databases/",this.databaseId.database,"/documents",":",t];return n.join("")},e}(),Yn=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return e.prototype.loadConnection=function(e){return Promise.resolve(new Qn(e))},e.prototype.newSerializer=function(e){return new zn(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lt.setPlatform(new Yn);/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];C("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(T("FieldPath","string",n,e[n]),0===e[n].length)throw new ct(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw M("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(It.keyField().canonicalString()),e}(),$n=/[~\*\/\[\]]/,Jn;(function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"})(Jn||(Jn={}));/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn;(function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"})(Zn||(Zn={}));var ea;(function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"})(ea||(ea={}));var ta=function(){function e(){this.changeMap=new Nt(St.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);return n?void(e.type!==Zn.Added&&n.type===Zn.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===Zn.Metadata&&n.type!==Zn.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===Zn.Modified&&n.type===Zn.Modified?this.changeMap=this.changeMap.insert(t,{type:Zn.Modified,doc:e.doc}):e.type===Zn.Modified&&n.type===Zn.Added?this.changeMap=this.changeMap.insert(t,{type:Zn.Added,doc:e.doc}):e.type===Zn.Removed&&n.type===Zn.Added?this.changeMap=this.changeMap.remove(t):e.type===Zn.Removed&&n.type===Zn.Modified?this.changeMap=this.changeMap.insert(t,{type:Zn.Removed,doc:n.doc}):e.type===Zn.Added&&n.type===Zn.Removed?this.changeMap=this.changeMap.insert(t,{type:Zn.Modified,doc:e.doc}):l("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n))):void(this.changeMap=this.changeMap.insert(t,e))},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal(function(t,n){e.push(n)}),e},e}(),na=function(){function e(e,t,n,o,r,i,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.fromCache=r,this.hasPendingWrites=i,this.syncStateChanged=s}return e.prototype.isEqual=function(e){if(this.fromCache!==e.fromCache||this.hasPendingWrites!==e.hasPendingWrites||this.syncStateChanged!==e.syncStateChanged||!this.query.isEqual(e.query)||!this.docs.isEqual(e.docs)||!this.oldDocs.isEqual(e.oldDocs))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0},e}(),aa=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||St.comparator(t.key,n.key)}:function(e,t){return St.comparator(e.key,t.key)},this.keyedMap=ne(),this.sortedSet=new Nt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,i=o.getNext().key;if(!r.isEqual(i))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var o=new e;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=n,o},e}(),oa=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var o=0,r=n;o<r.length;o++){var i=r[o],s=i[0],d=i[1];if(s.isEqual(e))return d}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return void(this.inner[n]=[[e,t]]);for(var r=0;r<o.length;r++)if(o[r][0].isEqual(e))return void(o[r]=[e,t]);o.push([e,t])},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var o=0;o<n.length;o++)if(n[o][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(o,1),!0;return!1},e.prototype.forEach=function(e){g(this.inner,function(t,n){for(var o=0,r=n;o<r.length;o++){var i=r[o],s=i[0],d=i[1];e(s,d)}})},e.prototype.isEmpty=function(){return y(this.inner)},e}(),ra=function(){return function(){this.listeners=[]}}(),ia=function(){function e(e){this.syncEngine=e,this.queries=new oa(function(e){return e.canonicalId()}),this.onlineState=Jn.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return e.prototype.listen=function(e){var t=e.query,n=!1,o=this.queries.get(t);return o||(n=!0,o=new ra,this.queries.set(t,o)),o.listeners.push(e),e.applyOnlineStateChange(this.onlineState),o.viewSnap&&e.onViewSnapshot(o.viewSnap),n?this.syncEngine.listen(t).then(function(e){return o.targetId=e,e}):Promise.resolve(o.targetId)},e.prototype.unlisten=function(e){return ot.__awaiter(this,void 0,void 0,function(){var t,n,o,r;return ot.__generator(this,function(){return t=e.query,n=!1,o=this.queries.get(t),o&&(r=o.listeners.indexOf(e),0<=r&&(o.listeners.splice(r,1),n=0===o.listeners.length)),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]})})},e.prototype.onChange=function(e){for(var t=0,n=e;t<n.length;t++){var o=n[t],r=o.query,i=this.queries.get(r);if(i){for(var s=0,d=i.listeners,l;s<d.length;s++)l=d[s],l.onViewSnapshot(o);i.viewSnap=o}}},e.prototype.onError=function(e,t){var n=this.queries.get(e);if(n)for(var o=0,r=n.listeners,i;o<r.length;o++)i=r[o],i.onError(t);this.queries.delete(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e,this.queries.forEach(function(t,n){for(var o=0,r=n.listeners,i;o<r.length;o++)i=r[o],i.applyOnlineStateChange(e)})},e}(),sa=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.onlineState=Jn.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(c(0<e.docChanges.length||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var t=[],n=0,o=e.docChanges,r;n<o.length;n++)r=o[n],r.type!==Zn.Metadata&&t.push(r);e=new na(e.query,e.docs,e.oldDocs,t,e.fromCache,e.hasPendingWrites,e.syncStateChanged)}this.raisedInitialEvent?this.shouldRaiseEvent(e)&&this.queryObserver.next(e):this.shouldRaiseInitialEvent(e,this.onlineState)&&this.raiseInitialEvent(e),this.snap=e},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&this.raiseInitialEvent(this.snap)},e.prototype.shouldRaiseInitialEvent=function(e,t){if(c(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==Jn.Offline;return this.options.waitForSyncWhenOnline&&n?(c(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===Jn.Offline},e.prototype.shouldRaiseEvent=function(e){if(0<e.docChanges.length)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return(e.syncStateChanged||t)&&!0===this.options.includeQueryMetadataChanges},e.prototype.raiseInitialEvent=function(t){c(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=new na(t.query,t.docs,aa.emptySet(t.docs),e.getInitialViewChanges(t),t.fromCache,t.hasPendingWrites,!0),this.raisedInitialEvent=!0,this.queryObserver.next(t)},e.getInitialViewChanges=function(e){var t=[];return e.docs.forEach(function(e){t.push({type:Zn.Added,doc:e})}),t},e}(),da=function(){function t(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var o=this;return this.callbackAttached&&l("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,r){o.nextCallback=function(n){o.wrapSuccess(e,n).next(t,r)},o.catchCallback=function(e){o.wrapFailure(n,e).next(t,r)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return e.reduce(function(e,t){return e.next(function(){return t})},t.resolve())},t.map=function(e){var n=[],o=!0,r=t.resolve(null);return e.reduce(function(e,t){return e.next(function(e){return o||n.push(e),o=!1,t})},r).next(function(e){return n.push(e),n})},t}(),la=function(){function e(){this.isEager=!0,this.sources=[],this.potentialGarbage=oe()}return e.prototype.addGarbageSource=function(e){this.sources.push(e),e.setGarbageCollector(this)},e.prototype.removeGarbageSource=function(e){this.sources.splice(this.sources.indexOf(e),1),e.setGarbageCollector(null)},e.prototype.addPotentialGarbageKey=function(e){this.potentialGarbage=this.potentialGarbage.add(e)},e.prototype.collectGarbage=function(e){var t=this,n=[],o=oe();return this.potentialGarbage.forEach(function(r){var i=t.documentHasAnyReferences(e,r);n.push(i.next(function(e){return e||(o=o.add(r)),da.resolve()}))}),this.potentialGarbage=oe(),da.waitFor(n).next(function(){return o})},e.prototype.documentHasAnyReferences=function(e,t){var n=da.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(e,t)}}).reduce(function(e,t){return e.next(function(e){return e?da.resolve(!0):t()})},n)},e}(),pa=function(){function e(e,t,n){this.query=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t){for(var n=oe(),o=oe(),r=0,i=t.docChanges,s;r<i.length;r++)switch(s=i[r],s.type){case Zn.Added:n=n.add(s.doc.key);break;case Zn.Removed:o=o.add(s.doc.key);break;default:}return new e(t.query,n,o)},e}(),ca=function(){function e(){this.refsByKey=new kn(ua.compareByKey),this.refsByTarget=new kn(ua.compareByTargetId),this.garbageCollector=null}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new ua(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.removeRef(new ua(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.removeReferencesForId=function(e){var t=this,n=St.EMPTY,o=new ua(n,e),r=new ua(n,e+1);this.refsByTarget.forEachInRange([o,r],function(e){t.removeRef(e)})},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(e.key)},e.prototype.referencesForId=function(e){var t=St.EMPTY,n=new ua(t,e),o=new ua(t,e+1),r=oe();return this.refsByTarget.forEachInRange([n,o],function(e){r=r.add(e.key)}),r},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){var n=new ua(t,0),o=this.refsByKey.firstAfterOrEqual(n);return da.resolve(null!==o&&t.isEqual(o.key))},e}(),ua=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return St.comparator(e.key,t.key)||U(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return U(e.targetOrBatchId,t.targetOrBatchId)||St.comparator(e.key,t.key)},e}(),ma=1,ha;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.LocalStore=0]="LocalStore",e[e.SyncEngine=1]="SyncEngine"})(ha||(ha={}));var fa=function(){function e(e,t){void 0===t&&(t=0),this.generatorId=e;var n=t>>ma<<ma,o=t-n;this.previousId=o>=e?n|this.generatorId:(n|this.generatorId)-(1<<ma)}return e.prototype.next=function(){return this.previousId+=1<<ma,this.previousId},e.forLocalStore=function(t){return void 0===t&&(t=0),new e(ha.LocalStore,t)},e.forSyncEngine=function(){return new e(ha.SyncEngine)},e}(),ga=function(){return function(e){this.key=e}}(),ya=function(){return function(e){this.key=e}}(),ba=function(){function e(e,t){this.query=e,this.syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=oe(),this.mutatedKeys=oe(),this.documentSet=new aa(e.docComparator.bind(e))}return e.prototype.computeDocChanges=function(e,t){var n=this,o=t?t.changeSet:new ta,r=t?t.documentSet:this.documentSet,i=t?t.mutatedKeys:this.mutatedKeys,s=r,d=!1,l=this.query.hasLimit()&&r.size===this.query.limit?r.last():null;if(e.inorderTraversal(function(e,t){var p=r.get(e),u=t instanceof kt?t:null;if(u&&(c(e.isEqual(u.key),"Mismatching keys found in document changes: "+e+" != "+u.key),u=n.query.matches(u)?u:null),u?(s=s.add(u),i=u.hasLocalMutations?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)),p&&u){var m=p.data.isEqual(u.data);m&&p.hasLocalMutations===u.hasLocalMutations||(m?o.track({type:Zn.Metadata,doc:u}):o.track({type:Zn.Modified,doc:u}),l&&0<n.query.docComparator(u,l)&&(d=!0))}else!p&&u?o.track({type:Zn.Added,doc:u}):p&&!u&&(o.track({type:Zn.Removed,doc:p}),l&&(d=!0))}),this.query.hasLimit())for(;s.size>this.query.limit;){var p=s.last();s=s.delete(p.key),o.track({type:Zn.Removed,doc:p})}return c(!d||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:o,needsRefill:d,mutatedKeys:i}},e.prototype.applyChanges=function(e,t){var n=this;c(!e.needsRefill,"Cannot apply changes that need a refill");var o=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var r=e.changeSet.getChanges();r.sort(function(e,t){return pe(e.type,t.type)||n.query.docComparator(e.doc,t.doc)}),this.applyTargetChange(t);var i=this.updateLimboDocuments(),s=0===this.limboDocuments.size&&this.current,d=s?ea.Synced:ea.Local,l=d!==this.syncState;if(this.syncState=d,0===r.length&&!l)return{limboChanges:i};var p=new na(this.query,e.documentSet,o,r,d===ea.Local,!e.mutatedKeys.isEmpty(),l);return{snapshot:p,limboChanges:i}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===Jn.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new ta,mutatedKeys:this.mutatedKeys,needsRefill:!1})):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this.syncedDocuments.has(e)&&!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations},e.prototype.applyTargetChange=function(e){if(e){var t=e.mapping;switch(t instanceof On?this.syncedDocuments=t.documents:t instanceof Mn&&(this.syncedDocuments=t.applyToKeySet(this.syncedDocuments)),e.currentStatusUpdate){case An.MarkCurrent:this.current=!0;break;case An.MarkNotCurrent:this.current=!1;break;case An.None:break;default:l("Unknown current status update: "+e.currentStatusUpdate);}}},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=oe(),this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var n=[];return t.forEach(function(t){e.limboDocuments.has(t)||n.push(new ya(t))}),this.limboDocuments.forEach(function(e){t.has(e)||n.push(new ga(e))}),n},e}(),_a="SyncEngine",va=function(){return function(e,t,n,o){this.query=e,this.targetId=t,this.resumeToken=n,this.view=o}}(),Ea=function(){function e(e,t,n){this.localStore=e,this.remoteStore=t,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new oa(function(e){return e.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Nt(St.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new ca,this.limboCollector=new la,this.mutationUserCallbacks={},this.targetIdGenerator=fa.forSyncEngine()}return e.prototype.subscribe=function(e,t){c(null!==e&&null!==t,"View and error handlers cannot be null"),c(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=e,this.errorHandler=t,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},e.prototype.listen=function(e){var t=this;return this.assertSubscribed("listen()"),c(!this.queryViewsByQuery.has(e),"We already listen to the query: "+e),this.localStore.allocateQuery(e).then(function(n){return t.localStore.executeQuery(e).then(function(o){return t.localStore.remoteDocumentKeys(n.targetId).then(function(r){var i=new ba(e,r),s=i.computeDocChanges(o),d=i.applyChanges(s);c(0===d.limboChanges.length,"View returned limbo docs before target ack from the server."),c(!!d.snapshot,"applyChanges for new view should always return a snapshot");var l=new va(e,n.targetId,n.resumeToken,i);t.queryViewsByQuery.set(e,l),t.queryViewsByTarget[n.targetId]=l,t.viewHandler([d.snapshot]),t.remoteStore.listen(n)})}).then(function(){return n.targetId})})},e.prototype.unlisten=function(e){var t=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(e);return c(!!n,"Trying to unlisten on query not found:"+e),this.localStore.releaseQuery(e).then(function(){return t.remoteStore.unlisten(n.targetId),t.removeAndCleanupQuery(n).then(function(){return t.localStore.collectGarbage()})})},e.prototype.write=function(e,t){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(e).then(function(e){return n.addMutationCallback(e.batchId,t),n.emitNewSnapsAndNotifyLocalStore(e.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},e.prototype.wrapUpdateFunctionError=function(e){return e},e.prototype.runTransaction=function(e,t){var n=this;void 0===t&&(t=5),c(0<=t,"Got negative number of retries for transaction.");var o=this.remoteStore.createTransaction();return function(){try{var t=e(o);return!G(t)&&t.catch&&t.then?t.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(r){return o.commit().then(function(){return r}).catch(function(o){return 0===t?Promise.reject(o):n.runTransaction(e,t-1)})})},e.prototype.applyRemoteEvent=function(e){var t=this;return this.assertSubscribed("applyRemoteEvent()"),f(e.targetChanges,function(n,o){var r=t.limboKeysByTarget[n];r&&o.currentStatusUpdate===An.MarkCurrent&&!e.documentUpdates.get(r)&&e.addDocumentUpdate(new xt(r,e.snapshotVersion))}),this.localStore.applyRemoteEvent(e).then(function(n){return t.emitNewSnapsAndNotifyLocalStore(n,e)})},e.prototype.applyOnlineStateChange=function(e){var t=[];this.queryViewsByQuery.forEach(function(n,o){var r=o.view.applyOnlineStateChange(e);c(0===r.limboChanges.length,"OnlineState should not affect limbo documents."),r.snapshot&&t.push(r.snapshot)}),this.viewHandler(t)},e.prototype.rejectListen=function(e,t){var n=this;this.assertSubscribed("rejectListens()");var o=this.limboKeysByTarget[e];if(o){this.limboTargetsByKey=this.limboTargetsByKey.remove(o),delete this.limboKeysByTarget[e];var r=new Nt(St.comparator);r=r.insert(o,new xt(o,pn.forDeletedDoc()));var i=new Pn(pn.MIN,{},r);return this.applyRemoteEvent(i)}var s=this.queryViewsByTarget[e];return c(!!s,"Unknown targetId: "+e),this.localStore.releaseQuery(s.query).then(function(){return n.removeAndCleanupQuery(s).then(function(){n.errorHandler(s.query,t)})})},e.prototype.applySuccessfulWrite=function(e){var t=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(e.batch.batchId,null),this.localStore.acknowledgeBatch(e).then(function(e){return t.emitNewSnapsAndNotifyLocalStore(e)})},e.prototype.rejectFailedWrite=function(e,t){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.localStore.rejectBatch(e).then(function(e){return n.emitNewSnapsAndNotifyLocalStore(e)})},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Nt(U)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var o=n.get(e);o&&(c(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?o.reject(t):o.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){return this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.limboDocumentRefs.removeReferencesForId(e.targetId),this.gcLimboDocuments()},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,o=t,r;n<o.length;n++)r=o[n],r instanceof ga?(this.limboDocumentRefs.addReference(r.key,e),this.trackLimboChange(r)):r instanceof ya?(i(_a,"Document no longer in limbo: "+r.key),this.limboDocumentRefs.removeReference(r.key,e)):l("Unknown limbo change: "+JSON.stringify(r));return this.gcLimboDocuments()},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){i(_a,"New document in limbo: "+t);var n=this.targetIdGenerator.next(),o=Zt.atPath(t.path);this.limboKeysByTarget[n]=t,this.remoteStore.listen(new un(o,n,cn.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.gcLimboDocuments=function(){var e=this;return this.limboCollector.collectGarbage(null).next(function(t){t.forEach(function(t){var n=e.limboTargetsByKey.get(t);null===n||(e.remoteStore.unlisten(n),e.limboTargetsByKey=e.limboTargetsByKey.remove(t),delete e.limboKeysByTarget[n])})}).toPromise()},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){var n=this,o=[],r=[],i=[];return this.queryViewsByQuery.forEach(function(s,d){i.push(Promise.resolve().then(function(){var t=d.view.computeDocChanges(e);return t.needsRefill?n.localStore.executeQuery(d.query).then(function(e){return d.view.computeDocChanges(e,t)}):t}).then(function(e){var i=t&&t.targetChanges[d.targetId],s=d.view.applyChanges(e,i);return n.updateTrackedLimbos(d.targetId,s.limboChanges).then(function(){if(s.snapshot){o.push(s.snapshot);var e=pa.fromSnapshot(s.snapshot);r.push(e)}})}))}),Promise.all(i).then(function(){return n.viewHandler(o),n.localStore.notifyLocalViewChanges(r)}).then(function(){return n.localStore.collectGarbage()})},e.prototype.assertSubscribed=function(e){c(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleUserChange=function(e){var t=this;return this.currentUser=e,this.localStore.handleUserChange(e).then(function(e){return t.emitNewSnapsAndNotifyLocalStore(e)}).then(function(){return t.remoteStore.handleUserChange(e)})},e}(),Ca=-1,Ta=function(){function e(e,t,n){this.batchId=e,this.localWriteTime=t,this.mutations=n}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&c(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var o=n.mutationResults;c(o.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+o.length+").");for(var r=0,i;r<this.mutations.length;r++)if(i=this.mutations[r],i.key.isEqual(e)){var s=o[r];t=i.applyToRemoteDocument(t,s)}return t},e.prototype.applyToLocalView=function(e,t){t&&c(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=t,o=0,r;o<this.mutations.length;o++)r=this.mutations[o],r.key.isEqual(e)&&(t=r.applyToLocalView(t,n,this.localWriteTime));return t},e.prototype.keys=function(){for(var e=oe(),t=0,n=this.mutations,o;t<n.length;t++)o=n[t],e=e.add(o.key);return e},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&B(this.mutations,e.mutations)},e.prototype.isTombstone=function(){return 0===this.mutations.length},e.prototype.toTombstone=function(){return new e(this.batchId,this.localWriteTime,[])},e}(),Ia=function(){function e(e,t,n,o,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=o,this.docVersions=r}return e.from=function(t,n,o,r){c(t.mutations.length===o.length,"Mutations sent "+t.mutations.length+" must equal results received "+o.length);for(var s=ae(),d=t.mutations,l=0,i;l<d.length;l++)i=o[l].version,null===i&&(i=n),s=s.insert(d[l].key,i);return new e(t,n,o,r,s)},e}(),Sa="\x01",ka="\x01",xa="\x10",Na="\x11",wa=2,Ra=function(){return function(e,t){this.seconds=e,this.nanoseconds=t}}(),Pa=function(){function e(e,t){this.ownerId=e,this.leaseTimestampMs=t}return e.store="owner",e}(),Aa=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),Da=function(){function e(e,t,n,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.mutations=o}return e.store="mutations",e.keyPath=["userId","batchId"],e}(),Oa=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,ce(t)]},e.key=function(e,t,n){return[e,ce(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}(),Ma=function(){return function(e,t){this.path=e,this.readTime=t}}(),La=function(){function e(e,t){this.noDocument=e,this.document=t}return e.store="remoteDocuments",e}(),Fa=function(){function e(e,t,n,o,r,i){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=o,this.lastListenSequenceNumber=r,this.query=i}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),Ua=function(){function e(e,t){this.targetId=e,this.path=t}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),ja=function(){function e(e,t,n,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=o}return e.key="targetGlobalKey",e.store="targetGlobal",e}(),Ba=[Aa.store,Da.store,Oa.store,La.store,Fa.store,Pa.store,ja.store,Ua.store],Va="SimpleDb",qa=function(){function e(e){this.db=e}return e.openOrCreate=function(t,n,o){return c(e.isAvailable(),"IndexedDB not supported in current environment."),i(Va,"Opening database:",t),new da(function(r,s){var d=window.indexedDB.open(t,n);d.onsuccess=function(t){var n=t.target.result;r(new e(n))},d.onerror=function(e){s(e.target.error)},d.onupgradeneeded=function(e){i(Va,"Database \""+t+"\" requires upgrade from version:",e.oldVersion);var n=e.target.result,r=new za(d.transaction);o(n,r,e.oldVersion,wa).next(function(){i(Va,"Database upgrade to version "+wa+" complete")})}}).toPromise()},e.delete=function(e){return i(Va,"Removing database:",e),Ce(window.indexedDB.deleteDatabase(e)).toPromise()},e.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;var e=window.navigator.userAgent;return 0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")?!1:!0},e.prototype.runTransaction=function(e,t,n){var o=za.open(this.db,e,t),r=n(o).catch(function(e){return o.abort(),da.reject(e)}).toPromise();return o.completionPromise.then(function(){return r})},e.prototype.close=function(){this.db.close()},e}(),Wa=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return Ce(this.dbCursor.delete())},e}(),za=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionPromise=new Promise(function(e,n){t.transaction.onabort=t.transaction.oncomplete=function(){e()},t.transaction.onerror=function(e){n(e.target.error)}})}return e.open=function(t,n,o){return new e(t.transaction(o,n))},e.prototype.abort=function(){this.aborted||(i(Va,"Aborting transaction."),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return c(!!t,"Object store not part of transaction: "+e),new Ha(t)},e}(),Ha=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0===t?(i(Va,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)):(i(Va,"PUT",this.store.name,e,t),n=this.store.put(t,e)),Ce(n)},e.prototype.get=function(e){var t=this,n=this.store.get(e);return Ce(n).next(function(n){return void 0===n&&(n=null),i(Va,"GET",t.store.name,e,n),n})},e.prototype.delete=function(e){i(Va,"DELETE",this.store.name,e);var t=this.store.delete(e);return Ce(t)},e.prototype.count=function(){i(Va,"COUNT",this.store.name);var e=this.store.count();return Ce(e)},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),o=[];return this.iterateCursor(n,function(e,t){o.push(t)}).next(function(){return o})},e.prototype.deleteAll=function(e,t){i(Va,"DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var o=this.cursor(n);return this.iterateCursor(o,function(e,t,n){return n.delete()})},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var o=this.cursor(n);return this.iterateCursor(o,t)},e.prototype.iterateCursor=function(e,t){var n=[];return new da(function(o,r){e.onerror=function(e){r(e.target.error)},e.onsuccess=function(e){var r=e.target.result;if(!r)return void o();var i=new Wa(r),s=t(r.primaryKey,r.value,i);s instanceof da&&n.push(s),i.isDone?o():null===i.skipToKey?r.continue():r.continue(i.skipToKey)}}).next(function(){return da.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:(c(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}(),Ka=function(){function e(e,t){this.userId=e,this.serializer=t,this.garbageCollector=null}return e.forUser=function(t,n){c(""!==t.uid,"UserID must not be an empty string.");var o=t.isAuthenticated()?t.uid:"";return new e(o,n)},e.prototype.start=function(t){var n=this;return e.loadNextBatchIdFromDb(t).next(function(e){return n.nextBatchId=e,ke(t).get(n.userId)}).next(function(e){return e||(e=new Aa(n.userId,Ca,"")),n.metadata=e,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(t).next(function(e){return c(e,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=Ca,ke(t).put(n.metadata)}):da.resolve()})},e.loadNextBatchIdFromDb=function(e){var t=Ca;return Ie(e).iterate({reverse:!0},function(e,n,o){var r=e[0],i=e[1];if(i>t&&(t=n.batchId),""===r)o.done();else{var s=V(r);o.skip([s])}}).next(function(){return t+1})},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return Ie(e).iterate({range:n},function(e,n,o){t=!1,o.done()}).next(function(){return t})},e.prototype.getNextBatchId=function(){return da.resolve(this.nextBatchId)},e.prototype.getHighestAcknowledgedBatchId=function(){return da.resolve(this.metadata.lastAcknowledgedBatchId)},e.prototype.acknowledgeBatch=function(e,t,n){var o=t.batchId;return c(o>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=o,this.metadata.lastStreamToken=Te(n),ke(e).put(this.metadata)},e.prototype.getLastStreamToken=function(){return da.resolve(this.metadata.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.metadata.lastStreamToken=Te(t),ke(e).put(this.metadata)},e.prototype.addMutationBatch=function(e,t,n){var o=this,r=this.nextBatchId;this.nextBatchId++;var i=new Ta(r,t,n),s=this.serializer.toDbMutationBatch(this.userId,i);return Ie(e).put(s).next(function(){for(var t=[],i=0,s=n;i<s.length;i++){var d=s[i],l=Oa.key(o.userId,d.key.path,r);t.push(Se(e).put(l,Oa.PLACEHOLDER))}return da.waitFor(t)}).next(function(){return i})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Ie(e).get(this.keyForBatchId(t)).next(function(e){return e?n.serializer.fromDbMutationBatch(e):null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,o=tt(t,this.metadata.lastAcknowledgedBatchId)+1,r=IDBKeyRange.lowerBound(this.keyForBatchId(o)),i=null;return Ie(e).iterate({range:r},function(e,t,r){t.userId===n.userId&&(c(t.batchId>=o,"Should have found mutation after "+o),i=n.serializer.fromDbMutationBatch(t)),r.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound(this.keyForBatchId(Ca),this.keyForBatchId(Number.POSITIVE_INFINITY));return Ie(e).loadAll(n).next(function(e){return e.map(function(e){return t.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesThroughBatchId=function(e,t){var n=this,o=IDBKeyRange.bound(this.keyForBatchId(Ca),this.keyForBatchId(t));return Ie(e).loadAll(o).next(function(e){return e.map(function(e){return n.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,o=Oa.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(o),i=[];return Se(e).iterate({range:r},function(o,r,s){var d=o[0],p=o[1],c=o[2],u=he(p);if(d!==n.userId||!t.path.isEqual(u))return void s.done();var m=n.keyForBatchId(c);return Ie(e).get(m).next(function(e){null===e&&l("Dangling document-mutation reference found: "+o+" which points to "+m),i.push(n.serializer.fromDbMutationBatch(e))})}).next(function(){return i})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;c(!t.isDocumentQuery(),"Document queries shouldn't go down this path");var o=t.path,r=o.length+1,i=Oa.prefixForPath(this.userId,o),s=IDBKeyRange.lowerBound(i),d=new kn(U);return Se(e).iterate({range:s},function(e,t,i){var s=e[0],l=e[1],p=e[2],c=he(l);return s===n.userId&&o.isPrefixOf(c)?void(c.length!==r||(d=d.add(p))):void i.done()}).next(function(){var t=[],o=[];return d.forEach(function(r){var i=n.keyForBatchId(r);o.push(Ie(e).get(i).next(function(e){null===e&&l("Dangling document-mutation reference found, which points to "+i),t.push(n.serializer.fromDbMutationBatch(e))}))}),da.waitFor(o).next(function(){return t})})},e.prototype.removeMutationBatches=function(e,t){for(var n=Ie(e),o=Se(e),r=[],i=function(e){var t=IDBKeyRange.only(s.keyForBatchId(e.batchId)),i=0,d=n.iterate({range:t},function(e,t,n){return i++,n.delete()});r.push(d.next(function(){c(1==i,"Dangling document-mutation reference found: Missing batch "+e.batchId)}));for(var l=0,p=e.mutations;l<p.length;l++){var u=p[l],m=Oa.key(s.userId,u.key.path,e.batchId);r.push(o.delete(m)),null!==s.garbageCollector&&s.garbageCollector.addPotentialGarbageKey(u.key)}},s=this,d=0,l=t,p;d<l.length;d++)p=l[d],i(p);return da.waitFor(r)},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return da.resolve();var o=IDBKeyRange.lowerBound(Oa.prefixForUser(t.userId)),r=[];return Se(e).iterate({range:o},function(e,n,o){var i=e[0];if(i!==t.userId)return void o.done();var s=he(e[1]);r.push(s)}).next(function(){c(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map(function(e){return e.canonicalString()}))})})},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){var n=this,o=Oa.prefixForPath(this.userId,t.path),r=o[1],i=IDBKeyRange.lowerBound(o),s=!1;return Se(e).iterate({range:i,keysOnly:!0},function(e,t,o){var i=e[0],d=e[1],l=e[2];i===n.userId&&d===r&&(s=!0),o.done()}).next(function(){return s})},e.prototype.keyForBatchId=function(e){return[this.userId,e]},e}(),Ga=function(){function e(e){this.serializer=e,this.lastRemoteSnapshotVersion=pn.MIN,this.metadata=null,this.garbageCollector=null}return e.prototype.start=function(e){var t=this;return we(e).get(ja.key).next(function(e){c(null!==e,"Missing metadata row that should be added by schema migration."),t.metadata=e;var n=e.lastRemoteSnapshotVersion;return t.lastRemoteSnapshotVersion=pn.fromTimestamp(new gt(n.seconds,n.nanoseconds)),da.resolve()})},e.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},e.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},e.prototype.setLastRemoteSnapshotVersion=function(e,t){return this.lastRemoteSnapshotVersion=t,this.metadata.lastRemoteSnapshotVersion=t.toTimestamp(),we(e).put(ja.key,this.metadata)},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next(function(){return n.metadata.targetCount+=1,n.updateMetadataFromQueryData(t),n.saveMetadata(e)})},e.prototype.updateQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next(function(){return n.updateMetadataFromQueryData(t)?n.saveMetadata(e):da.resolve()})},e.prototype.removeQueryData=function(e,t){var n=this;return c(0<this.metadata.targetCount,"Removing from an empty query cache"),this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return Ne(e).delete(t.targetId)}).next(function(){return n.metadata.targetCount-=1,n.saveMetadata(e)})},e.prototype.saveMetadata=function(e){return we(e).put(ja.key,this.metadata)},e.prototype.saveQueryData=function(e,t){return Ne(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e){var t=!1;return e.targetId>this.metadata.highestTargetId&&(this.metadata.highestTargetId=e.targetId,t=!0),t},Object.defineProperty(e.prototype,"count",{get:function(){return this.metadata.targetCount},enumerable:!0,configurable:!0}),e.prototype.getQueryData=function(e,t){var n=this,o=t.canonicalId(),r=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,$e]),i=null;return Ne(e).iterate({range:r,index:Fa.queryTargetsIndexName},function(e,o,r){var s=n.serializer.fromDbTarget(o);t.isEqual(s.query)&&(i=s,r.done())}).next(function(){return i})},e.prototype.addMatchingKeys=function(e,t,n){var o=[],r=Re(e);return t.forEach(function(e){var t=ce(e.path);o.push(r.put(new Ua(n,t)))}),da.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){var o=this,r=[],i=Re(e);return t.forEach(function(e){var t=ce(e.path);r.push(i.delete([n,t])),null!==o.garbageCollector&&o.garbageCollector.addPotentialGarbageKey(e)}),da.waitFor(r)},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Re(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return this.notifyGCForRemovedKeys(e,o).next(function(){return n.delete(o)})},e.prototype.notifyGCForRemovedKeys=function(e,t){var n=this,o=Re(e);return null!==this.garbageCollector&&this.garbageCollector.isEager?o.iterate({range:t,keysOnly:!0},function(e){var t=he(e[1]),o=new St(t);c(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)}):da.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),o=Re(e),r=oe();return o.iterate({range:n,keysOnly:!0},function(e){var t=he(e[1]),n=new St(t);r=r.add(n)}).next(function(){return r})},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){c(null!==e,"Persistence Transaction cannot be null for query cache containsKey");var n=ce(t.path),o=IDBKeyRange.bound([n],[q(n)],!1,!0),r=0;return Re(e).iterate({index:Ua.documentTargetsIndex,keysOnly:!0,range:o},function(e,t,n){r++,n.done()}).next(function(){return 0<r})},e}(),Qa=function(){function e(e){this.serializer=e}return e.prototype.addEntry=function(e,t){return Ae(e).put(De(t.key),this.serializer.toDbRemoteDocument(t))},e.prototype.removeEntry=function(e,t){return Ae(e).delete(De(t))},e.prototype.getEntry=function(e,t){var n=this;return Ae(e).get(De(t)).next(function(e){return e?n.serializer.fromDbRemoteDocument(e):null})},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this,o=ne(),r=t.path.toArray(),i=IDBKeyRange.lowerBound(r);return Ae(e).iterate({range:i},function(e,r,i){var s=n.serializer.fromDbRemoteDocument(r);t.path.isPrefixOf(s.key.path)?s instanceof kt&&t.matches(s)&&(o=o.insert(s.key,s)):i.done()}).next(function(){return o})},e}(),Ya=function(){function e(e){this.remoteSerializer=e}return e.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document);if(e.noDocument){var t=St.fromSegments(e.noDocument.path),n=e.noDocument.readTime,o=new gt(n.seconds,n.nanoseconds);return new xt(t,pn.fromTimestamp(o))}return l("Unexpected DbRemoteDocument")},e.prototype.toDbRemoteDocument=function(e){if(e instanceof kt){var t=this.remoteSerializer.toDocument(e);return new La(null,t)}var n=e.key.path.toArray(),o=e.version.toTimestamp(),r=new Ra(o.seconds,o.nanoseconds);return new La(new Ma(n,r),null)},e.prototype.toDbMutationBatch=function(e,t){var n=this,o=t.mutations.map(function(e){return n.remoteSerializer.toMutation(e)});return new Da(e,t.batchId,t.localWriteTime.toMillis(),o)},e.prototype.fromDbMutationBatch=function(e){var t=this,n=e.mutations.map(function(e){return t.remoteSerializer.fromMutation(e)}),o=gt.fromMillis(e.localWriteTimeMs);return new Ta(e.batchId,o,n)},e.prototype.fromDbTarget=function(e){var t=new gt(e.readTime.seconds,e.readTime.nanoseconds),n=pn.fromTimestamp(t),o;return o=Oe(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new un(o,e.targetId,cn.Listen,n,e.resumeToken)},e.prototype.toDbTarget=function(e){c(cn.Listen===e.purpose,"Only queries with purpose "+cn.Listen+" may be stored, got "+e.purpose);var t=e.snapshotVersion.toTimestamp(),n=new Ra(t.seconds,t.nanoseconds),o;o=e.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(e.query):this.remoteSerializer.toQueryTarget(e.query),c("string"==typeof e.resumeToken,"Persisting non-string resume token not supported.");var r=e.resumeToken;return new Fa(e.targetId,e.query.canonicalId(),n,r,0,o)},e}(),Xa="IndexedDbPersistence",$a="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",Ja=function(){function e(t,n){this.ownerId=this.generateOwnerId(),this.dbName=t+e.MAIN_DATABASE,this.serializer=new Ya(n),this.localStoragePrefix=t}return e.prototype.start=function(){var t=this;return e.isAvailable()?(c(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,qa.openOrCreate(this.dbName,wa,fe).then(function(e){t.simpleDb=e}).then(function(){return t.tryAcquireOwnerLease()}).then(function(){t.scheduleOwnerLeaseRefreshes(),t.attachWindowUnloadHook()})):(this.persistenceError=new ct(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled."),Promise.reject(this.persistenceError))},e.prototype.shutdown=function(){var e=this;return c(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){e.simpleDb.close()})},e.prototype.getMutationQueue=function(e){return Ka.forUser(e,this.serializer)},e.prototype.getQueryCache=function(){return new Ga(this.serializer)},e.prototype.getRemoteDocumentCache=function(){return new Qa(this.serializer)},e.prototype.runTransaction=function(e,t){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(i(Xa,"Starting transaction:",e),this.simpleDb.runTransaction("readwrite",Ba,function(e){return n.ensureOwnerLease(e).next(function(){return t(e)})}))},e.isAvailable=function(){return qa.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.tryAcquireOwnerLease=function(){var e=this;return this.simpleDb.runTransaction("readwrite",[Pa.store],function(t){var n=t.store(Pa.store);return n.get("owner").next(function(t){if(!e.validOwner(t)){var o=new Pa(e.ownerId,Date.now());return i(Xa,"No valid owner. Acquiring owner lease. Current owner:",t,"New owner:",o),n.put("owner",o)}return i(Xa,"Valid owner already. Failing. Current owner:",t),e.persistenceError=new ct(pt.FAILED_PRECONDITION,$a),da.reject(e.persistenceError)})})},e.prototype.releaseOwnerLease=function(){var e=this;return this.simpleDb.runTransaction("readwrite",[Pa.store],function(t){var n=t.store(Pa.store);return n.get("owner").next(function(t){return null!==t&&t.ownerId===e.ownerId?(i(Xa,"Releasing owner lease."),n.delete("owner")):da.resolve()})})},e.prototype.ensureOwnerLease=function(e){var t=this,n=e.store(Pa.store);return n.get("owner").next(function(e){return null===e||e.ownerId!==t.ownerId?(t.persistenceError=new ct(pt.FAILED_PRECONDITION,$a),da.reject(t.persistenceError)):da.resolve()})},e.prototype.validOwner=function(e){var t=Date.now();return null!==e&&!(e.leaseTimestampMs<t-5e3)&&(e.leaseTimestampMs>t?(s("Persistence owner-lease is in the future. Discarding.",e),!1):e.ownerId!==this.getZombiedOwnerId())},e.prototype.scheduleOwnerLeaseRefreshes=function(){var e=this;this.ownerLeaseRefreshHandle=setInterval(function(){var t=e.runTransaction("Refresh owner timestamp",function(t){var n=t.store(Pa.store);return n.put("owner",new Pa(e.ownerId,Date.now()))});t.catch(function(t){s(t),e.stopOwnerLeaseRefreshes()})},4e3)},e.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;this.windowUnloadHandler=function(){e.setZombiedOwnerId(e.ownerId),e.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.getZombiedOwnerId=function(){try{var e=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return i(Xa,"Zombied ownerID from LocalStorage:",e),e}catch(t){return s("Failed to get zombie owner id.",t),null}},e.prototype.setZombiedOwnerId=function(e){try{null===e?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),e)}catch(t){s("Failed to set zombie owner id.",t)}},e.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+"zombiedOwnerId"},e.prototype.generateOwnerId=function(){return ut.newId()},e.MAIN_DATABASE="main",e}(),Za=function(){function e(e,t){this.remoteDocumentCache=e,this.mutationQueue=t}return e.prototype.getDocument=function(e,t){var n=this;return this.remoteDocumentCache.getEntry(e,t).next(function(o){return n.computeLocalDocument(e,t,o)})},e.prototype.getDocuments=function(e,t){var n=this,o=[],r=te();return t.forEach(function(t){o.push(n.getDocument(e,t).next(function(e){e||(e=new xt(t,pn.forDeletedDoc())),r=r.insert(t,e)}))}),da.waitFor(o).next(function(){return r})},e.prototype.getDocumentsMatchingQuery=function(e,t){return St.isDocumentKey(t.path)?this.getDocumentsMatchingDocumentQuery(e,t.path):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new St(t)).next(function(e){var t=ne();return e instanceof kt&&(t=t.insert(e.key,e)),t})},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n=this,o;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next(function(t){return n.computeLocalDocuments(e,t)}).next(function(r){return o=r,n.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){for(var r=oe(),i=0,s=t,d;i<s.length;i++){d=s[i];for(var l=0,p=d.mutations,c;l<p.length;l++)c=p[l],o.get(c.key)||(r=r.add(c.key))}var u=[];return r.forEach(function(t){u.push(n.getDocument(e,t).next(function(e){e instanceof kt&&(o=o.insert(e.key,e))}))}),da.waitFor(u)}).next(function(){return o.forEach(function(e,n){t.matches(n)||(o=o.remove(e))}),o})},e.prototype.computeLocalDocument=function(e,t,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(e){for(var o=0,r=e,i;o<r.length;o++)i=r[o],n=i.applyToLocalView(t,n);return n})},e.prototype.computeLocalDocuments=function(e,t){var n=this,o=[];return t.forEach(function(r,i){o.push(n.computeLocalDocument(e,r,i).next(function(e){e instanceof kt?t=t.insert(e.key,e):e instanceof xt?t=t.remove(e.key):l("Unknown MaybeDocument: "+e)}))}),da.waitFor(o).next(function(){return t})},e}(),eo=function(){function e(e){this.remoteDocumentCache=e,this.changes=te()}return e.prototype.addEntry=function(e){var t=this.assertChanges();this.changes=t.insert(e.key,e)},e.prototype.getEntry=function(e,t){var n=this.assertChanges(),o=n.get(t);return o?da.resolve(o):this.remoteDocumentCache.getEntry(e,t)},e.prototype.apply=function(e){var t=this,n=this.assertChanges(),o=[];return n.forEach(function(n,r){o.push(t.remoteDocumentCache.addEntry(e,r))}),this.changes=null,da.waitFor(o)},e.prototype.assertChanges=function(){return c(null!==this.changes,"Changes have already been applied."),this.changes},e}(),to=function(){function e(e,t,n){this.persistence=e,this.garbageCollector=n,this.localViewReferences=new ca,this.targetIds={},this.targetIdGenerator=fa.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new Za(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return e.prototype.start=function(){var e=this;return this.persistence.runTransaction("Start LocalStore",function(t){return e.startMutationQueue(t).next(function(){return e.startQueryCache(t)})})},e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change",function(n){var o;return t.mutationQueue.getAllMutationBatches(n).next(function(r){return o=r,t.garbageCollector.removeGarbageSource(t.mutationQueue),t.mutationQueue=t.persistence.getMutationQueue(e),t.garbageCollector.addGarbageSource(t.mutationQueue),t.startMutationQueue(n)}).next(function(){return t.localDocuments=new Za(t.remoteDocuments,t.mutationQueue),t.mutationQueue.getAllMutationBatches(n)}).next(function(e){for(var r=oe(),i=0,s=[o,e],d;i<s.length;i++){d=s[i];for(var l=0,p=d,c;l<p.length;l++){c=p[l];for(var u=0,m=c.mutations,h;u<m.length;u++)h=m[u],r=r.add(h.key)}}return t.localDocuments.getDocuments(n,r)})})},e.prototype.startQueryCache=function(e){var t=this;return this.queryCache.start(e).next(function(){var e=t.queryCache.getHighestTargetId();t.targetIdGenerator=fa.forLocalStore(e)})},e.prototype.startMutationQueue=function(e){var t=this;return this.mutationQueue.start(e).next(function(){return t.heldBatchResults=[],t.mutationQueue.getHighestAcknowledgedBatchId(e)}).next(function(n){return n===Ca?da.resolve([]):t.mutationQueue.getAllMutationBatchesThroughBatchId(e,n)}).next(function(n){return 0<n.length?t.mutationQueue.removeMutationBatches(e,n):da.resolve()})},e.prototype.localWrite=function(e){var t=this;return this.persistence.runTransaction("Locally write mutations",function(n){var o=gt.now(),r;return t.mutationQueue.addMutationBatch(n,o,e).next(function(e){r=e;var o=r.keys();return t.localDocuments.getDocuments(n,o)}).next(function(e){return{batchId:r.batchId,changes:e}})})},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var o;return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next(function(){if(t.shouldHoldBatchResult(e.commitVersion))return t.heldBatchResults.push(e),o=oe(),da.resolve();var r=new eo(t.remoteDocuments);return t.releaseBatchResults(n,[e],r).next(function(e){return o=e,r.apply(n)})}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,o)})})},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch",function(n){var o,r;return t.mutationQueue.lookupMutationBatch(n,e).next(function(r){return c(null!=r,"Attempt to reject nonexistent batch!"),o=r,t.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(t){return c(e>t,"Acknowledged batches can't be rejected."),o})}).next(function(){return t.removeMutationBatch(n,o)}).next(function(e){return r=e,t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token",function(t){return e.mutationQueue.getLastStreamToken(t)})},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token",function(n){return t.mutationQueue.setLastStreamToken(n,e)})},e.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},e.prototype.applyRemoteEvent=function(e){var t=this,n=new eo(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(o){var r=[];f(e.targetChanges,function(e,n){var i=t.targetIds[e];if(i){var s=n.mapping;if(s)if(s instanceof On)r.push(t.queryCache.removeMatchingKeysForTargetId(o,e).next(function(){return t.queryCache.addMatchingKeys(o,s.documents,e)}));else if(s instanceof Mn)r.push(t.queryCache.removeMatchingKeys(o,s.removedDocuments,e).next(function(){return t.queryCache.addMatchingKeys(o,s.addedDocuments,e)}));else return l("Unknown mapping type: "+JSON.stringify(s));var d=n.resumeToken;0<d.length&&(i=i.update({resumeToken:d,snapshotVersion:n.snapshotVersion}),t.targetIds[e]=i,r.push(t.queryCache.updateQueryData(o,i)))}});var s=oe();e.documentUpdates.forEach(function(e,d){s=s.add(e),r.push(n.getEntry(o,e).next(function(o){null==o||d.version.isEqual(pn.MIN)||0<=d.version.compareTo(o.version)?n.addEntry(d):i("LocalStore","Ignoring outdated watch update for ",e,". Current version:",o.version," Watch version:",d.version),t.garbageCollector.addPotentialGarbageKey(e)}))});var d=t.queryCache.getLastRemoteSnapshotVersion(),p=e.snapshotVersion;p.isEqual(pn.MIN)||(c(0<=p.compareTo(d),"Watch stream reverted to previous snapshot?? "+p+" < "+d),r.push(t.queryCache.setLastRemoteSnapshotVersion(o,p)));var u;return da.waitFor(r).next(function(){return t.releaseHeldBatchResults(o,n)}).next(function(e){return u=e,n.apply(o)}).next(function(){return t.localDocuments.getDocuments(o,s.unionWith(u))})})},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var o=[],r=function(e){o.push(t.queryCache.getQueryData(n,e.query).next(function(n){c(null!==n,"Local view changes contain unallocated query.");var o=n.targetId;t.localViewReferences.addReferences(e.addedKeys,o),t.localViewReferences.removeReferences(e.removedKeys,o)}))},i=0,s=e,d;i<s.length;i++)d=s[i],r(d);return da.waitFor(o)})},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===e&&(e=Ca),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)})},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document",function(n){return t.localDocuments.getDocument(n,e)})},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query",function(n){var o;return t.queryCache.getQueryData(n,e).next(function(r){if(r)return o=r,da.resolve();var i=t.targetIdGenerator.next();return o=new un(e,i,cn.Listen),t.queryCache.addQueryData(n,o)}).next(function(){return c(!t.targetIds[o.targetId],"Tried to allocate an already allocated query: "+e),t.targetIds[o.targetId]=o,o})})},e.prototype.releaseQuery=function(e){var t=this;return this.persistence.runTransaction("Release query",function(n){return t.queryCache.getQueryData(n,e).next(function(o){return c(null!=o,"Tried to release nonexistent query: "+e),t.localViewReferences.removeReferencesForId(o.targetId),delete t.targetIds[o.targetId],t.garbageCollector.isEager?t.queryCache.removeQueryData(n,o):da.resolve()}).next(function(){if(y(t.targetIds)){var e=new eo(t.remoteDocuments);return t.releaseHeldBatchResults(n,e).next(function(){e.apply(n)})}return da.resolve()})})},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query",function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)})},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys",function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)})},e.prototype.collectGarbage=function(){var e=this;return this.persistence.runTransaction("Garbage collection",function(t){return e.garbageCollector.collectGarbage(t).next(function(n){var o=[];return n.forEach(function(n){o.push(e.remoteDocuments.removeEntry(t,n))}),da.waitFor(o)})})},e.prototype.releaseHeldBatchResults=function(e,t){for(var n=[],o=0,r=this.heldBatchResults,i;o<r.length&&(i=r[o],!!this.isRemoteUpToVersion(i.commitVersion));o++)n.push(i);return 0===n.length?da.resolve(oe()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(e,n,t))},e.prototype.isRemoteUpToVersion=function(e){var t=this.queryCache.getLastRemoteSnapshotVersion();return 0>=e.compareTo(t)||y(this.targetIds)},e.prototype.shouldHoldBatchResult=function(e){return!this.isRemoteUpToVersion(e)||0<this.heldBatchResults.length},e.prototype.releaseBatchResults=function(e,t,n){for(var o=this,r=da.resolve(),i=function(t){r=r.next(function(){return o.applyWriteToRemoteDocuments(e,t,n)})},s=0,d=t,l;s<d.length;s++)l=d[s],i(l);return r.next(function(){return o.removeMutationBatches(e,t.map(function(e){return e.batch}))})},e.prototype.removeMutationBatch=function(e,t){return this.removeMutationBatches(e,[t])},e.prototype.removeMutationBatches=function(e,t){for(var n=oe(),o=0,r=t,i;o<r.length;o++){i=r[o];for(var s=0,d=i.mutations;s<d.length;s++){var l=d[s],p=l.key;n=n.add(p)}}return this.mutationQueue.removeMutationBatches(e,t).next(function(){return n})},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var o=t.batch,r=o.keys(),i=da.resolve();return r.forEach(function(r){i=i.next(function(){return n.getEntry(e,r)}).next(function(e){var i=e,s=t.docVersions.get(r);c(null!==s,"ackVersions should contain every doc in the write."),(!i||0>i.version.compareTo(s))&&(i=o.applyToRemoteDocument(r,i,t),i?n.addEntry(i):c(!e,"Mutation batch "+o+" applied to document "+e+" resulted in null"))})}),i},e}(),no=function(){function e(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=Ca,this.lastStreamToken=p(),this.garbageCollector=null,this.batchesByDocumentKey=new kn(ua.compareByKey)}return e.prototype.start=function(){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=Ca),c(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),da.resolve()},e.prototype.checkEmpty=function(){return da.resolve(0===this.mutationQueue.length)},e.prototype.getNextBatchId=function(){return da.resolve(this.nextBatchId)},e.prototype.getHighestAcknowledgedBatchId=function(){return da.resolve(this.highestAcknowledgedBatchId)},e.prototype.acknowledgeBatch=function(e,t,n){var o=t.batchId;c(o>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var r=this.indexOfExistingBatchId(o,"acknowledged"),i=this.mutationQueue[r];return c(o===i.batchId,"Queue ordering failure: expected batch "+o+", got batch "+i.batchId),c(!i.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=o,this.lastStreamToken=n,da.resolve()},e.prototype.getLastStreamToken=function(){return da.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,da.resolve()},e.prototype.addMutationBatch=function(e,t,n){c(0!==n.length,"Mutation batches should not be empty");var o=this.nextBatchId;if(this.nextBatchId++,0<this.mutationQueue.length){var r=this.mutationQueue[this.mutationQueue.length-1];c(r.batchId<o,"Mutation batchIDs must be monotonically increasing order")}var i=new Ta(o,t,n);this.mutationQueue.push(i);for(var s=0,d=n,l;s<d.length;s++)l=d[s],this.batchesByDocumentKey=this.batchesByDocumentKey.add(new ua(l.key,o));return da.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return da.resolve(this.findMutationBatch(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){for(var n=this.mutationQueue.length,o=tt(t,this.highestAcknowledgedBatchId)+1,r=this.indexOfBatchId(o),i=0>r?0:r,s;i<n;i++)if(s=this.mutationQueue[i],!s.isTombstone())return da.resolve(s);return da.resolve(null)},e.prototype.getAllMutationBatches=function(){return da.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},e.prototype.getAllMutationBatchesThroughBatchId=function(e,t){var n=this.mutationQueue.length,o=this.indexOfBatchId(t);return 0>o?o=0:o>=n?o=n:o++,da.resolve(this.getAllLiveMutationBatchesBeforeIndex(o))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,o=new ua(t,0),r=new ua(t,$e),i=[];return this.batchesByDocumentKey.forEachInRange([o,r],function(e){c(t.isEqual(e.key),"Should only iterate over a single key's batches");var o=n.findMutationBatch(e.targetOrBatchId);c(null!==o,"Batches in the index must exist in the main table"),i.push(o)}),da.resolve(i)},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,o=t.path,r=o.length+1,i=o;St.isDocumentKey(i)||(i=i.child(""));var s=new ua(new St(i),0),d=new kn(U);this.batchesByDocumentKey.forEachWhile(function(e){var t=e.key.path;return!!o.isPrefixOf(t)&&(t.length===r&&(d=d.add(e.targetOrBatchId)),!0)},s);var l=[];return d.forEach(function(e){var t=n.findMutationBatch(e);null!==t&&l.push(t)}),da.resolve(l)},e.prototype.removeMutationBatches=function(e,t){var n=t.length;c(0<n,"Should not remove mutations when none exist.");var o=t[0].batchId,r=this.mutationQueue.length,s=this.indexOfExistingBatchId(o,"removed");c(this.mutationQueue[s].batchId===o,"Removed batches must exist in the queue");for(var d=1,l=s+1,p;d<n&&l<r;){if(p=this.mutationQueue[l],p.isTombstone()){l++;continue}c(p.batchId===t[d].batchId,"Removed batches must be contiguous in the queue"),d++,l++}if(0===s){for(;l<r;l++){var p=this.mutationQueue[l];if(!p.isTombstone())break}var u=l-s;this.mutationQueue.splice(s,u)}else for(var m=s;m<l;m++)this.mutationQueue[m]=this.mutationQueue[m].toTombstone();for(var i=this.batchesByDocumentKey,h=0,f=t;h<f.length;h++)for(var p=f[h],g=p.batchId,y=0,b=p.mutations;y<b.length;y++){var _=b[y],v=_.key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(v);var E=new ua(v,g);i=i.delete(E)}return this.batchesByDocumentKey=i,da.resolve()},e.prototype.setGarbageCollector=function(e){this.garbageCollector=e},e.prototype.containsKey=function(e,t){var n=new ua(t,0),o=this.batchesByDocumentKey.firstAfterOrEqual(n);return da.resolve(t.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(){return 0===this.mutationQueue.length&&c(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),da.resolve()},e.prototype.getAllLiveMutationBatchesBeforeIndex=function(e){for(var t=[],n=0,o;n<e;n++)o=this.mutationQueue[n],o.isTombstone()||t.push(o);return t},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return c(0<=n&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){if(0===this.mutationQueue.length)return 0;var t=this.mutationQueue[0].batchId;return e-t},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(0>t||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return c(n.batchId===e,"If found batch must match"),n.isTombstone()?null:n},e}(),ao=function(){function e(){this.queries=new oa(function(e){return e.canonicalId()}),this.lastRemoteSnapshotVersion=pn.MIN,this.highestTargetId=0,this.references=new ca,this.targetCount=0}return e.prototype.start=function(){return da.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},e.prototype.getHighestTargetId=function(){return this.highestTargetId},e.prototype.setLastRemoteSnapshotVersion=function(e,t){return this.lastRemoteSnapshotVersion=t,da.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t)},e.prototype.addQueryData=function(e,t){return c(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,da.resolve()},e.prototype.updateQueryData=function(e,t){return c(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),da.resolve()},e.prototype.removeQueryData=function(e,t){return c(0<this.targetCount,"Removing a target from an empty cache"),c(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,da.resolve()},Object.defineProperty(e.prototype,"count",{get:function(){return this.targetCount},enumerable:!0,configurable:!0}),e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return da.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this.references.addReferences(t,n),da.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){return this.references.removeReferences(t,n),da.resolve()},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),da.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return da.resolve(n)},e.prototype.setGarbageCollector=function(e){this.references.setGarbageCollector(e)},e.prototype.containsKey=function(e,t){return this.references.containsKey(e,t)},e}(),oo=function(){function e(){this.docs=te()}return e.prototype.addEntry=function(e,t){return this.docs=this.docs.insert(t.key,t),da.resolve()},e.prototype.removeEntry=function(e,t){return this.docs=this.docs.remove(t),da.resolve()},e.prototype.getEntry=function(e,t){return da.resolve(this.docs.get(t))},e.prototype.getDocumentsMatchingQuery=function(e,t){for(var n=ne(),o=new St(t.path.child("")),r=this.docs.getIteratorFrom(o);r.hasNext();){var i=r.getNext(),s=i.key,d=i.value;if(!t.path.isPrefixOf(s.path))break;d instanceof kt&&t.matches(d)&&(n=n.insert(d.key,d))}return da.resolve(n)},e}(),ro=function(){function e(){this.mutationQueues={},this.remoteDocumentCache=new oo,this.queryCache=new ao,this.started=!1}return e.prototype.start=function(){return ot.__awaiter(this,void 0,void 0,function(){return ot.__generator(this,function(){return c(!this.started,"MemoryPersistence double-started!"),this.started=!0,[2]})})},e.prototype.shutdown=function(){return ot.__awaiter(this,void 0,void 0,function(){return ot.__generator(this,function(){return c(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,[2]})})},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new no,this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t){return i("MemoryPersistence","Starting transaction:",e),t(new io).toPromise()},e}(),io=function(){return function(){}}(),so=function(){function e(){this.isEager=!1}return e.prototype.addGarbageSource=function(){},e.prototype.removeGarbageSource=function(){},e.prototype.addPotentialGarbageKey=function(){},e.prototype.collectGarbage=function(){return da.resolve(oe())},e}(),lo=function(){return function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}}(),po;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * An in-memory buffer of entries to be written to a RemoteDocumentCache.
 * It can be used to batch up a set of changes to be written to the cache, but
 * additionally supports reading entries back with the `getEntry()` method,
 * falling back to the underlying RemoteDocumentCache if no entry is
 * buffered.
 *
 * NOTE: This class was introduced in iOS to work around a limitation in
 * LevelDB. Given IndexedDb has full transaction support with
 * read-your-own-writes capability, this class is not technically needed, but
 * has been preserved as a convenience and to aid portability.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout"})(po||(po={}));var co=function(){function e(e,t,n,o,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=r,this.deferred=new lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(){})}return e.createAndSchedule=function(t,n,o,r,i){var s=Date.now()+o,d=new e(t,n,s,r,i);return d.start(o),d},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ct(pt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueue(function(){return null===e.timerHandle?Promise.resolve():(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)}))})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),uo=function(){function e(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return e.prototype.enqueue=function(e){var t=this;this.verifyNotFailed();var n=this.tail.then(function(){return t.operationInProgress=!0,e().catch(function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw s("INTERNAL UNHANDLED ERROR: ",n),0>n.indexOf("Firestore Test Simulated Error")&&setTimeout(function(){throw e},0),e}).then(function(e){return t.operationInProgress=!1,e})});return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var o=this;this.verifyNotFailed(),c(!this.containsDelayedOperation(e),"Attempted to schedule multiple operations with timer id "+e+".");var r=co.createAndSchedule(this,e,t,n,function(e){return o.removeDelayedOperation(e)});return this.delayedOperations.push(r),r},e.prototype.verifyNotFailed=function(){this.failure&&l("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){c(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},e.prototype.containsDelayedOperation=function(e){return 0<=this.delayedOperations.findIndex(function(t){return t.timerId===e})},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then(function(){c(e===po.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,o=t.delayedOperations,r;n<o.length&&(r=o[n],r.skipDelay(),e===po.All||r.timerId!==e);n++);return t.drain()})},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);c(0<=t,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),mo=function(){function e(e,t,n,o,r){this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=o,this.maxDelayMs=r,this.timerPromise=null,this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){this.cancel();var t=this.currentBaseMs+this.jitterDelayMs();0<this.currentBaseMs&&i("ExponentialBackoff","Backing off for "+t+" ms "+("(base delay: "+this.currentBaseMs+" ms)")),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,t,e),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-0.5)*this.currentBaseMs},e}(),ho;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.Initial=0]="Initial",e[e.Auth=1]="Auth",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff",e[e.Stopped=5]="Stopped"})(ho||(ho={}));var fo=function(){function e(e,t,n,o,r){this.queue=e,this.idleTimerId=n,this.connection=o,this.credentialsProvider=r,this.inactivityTimerPromise=null,this.stream=null,this.listener=null,this.backoff=new mo(e,t,1e3,1.5,60000),this.state=ho.Initial}return e.prototype.isStarted=function(){return this.state===ho.Backoff||this.state===ho.Auth||this.state===ho.Open},e.prototype.isOpen=function(){return this.state===ho.Open},e.prototype.start=function(e){return this.state===ho.Error?void this.performBackoff(e):void(c(this.state===ho.Initial,"Already started"),this.listener=e,this.auth())},e.prototype.stop=function(){this.isStarted()&&this.close(ho.Stopped)},e.prototype.inhibitBackoff=function(){c(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=ho.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.inactivityTimerPromise&&(this.inactivityTimerPromise=this.queue.enqueueAfterDelay(this.idleTimerId,60000,function(){return e.handleIdleCloseTimer()}))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return ot.__awaiter(this,void 0,void 0,function(){return ot.__generator(this,function(){return this.isOpen()?[2,this.close(ho.Initial)]:[2]})})},e.prototype.cancelIdleCheck=function(){this.inactivityTimerPromise&&(this.inactivityTimerPromise.cancel(),this.inactivityTimerPromise=null)},e.prototype.close=function(e,t){return ot.__awaiter(this,void 0,void 0,function(){var n;return ot.__generator(this,function(){return c(e===ho.Error||G(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),e===ho.Error?t&&t.code===pt.RESOURCE_EXHAUSTED&&(s(t.toString()),s("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):this.backoff.reset(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,n=this.listener,this.listener=null,e===ho.Stopped?[2]:[2,n.onClose(t)]})})},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;c(this.state===ho.Initial,"Must be in initial state to auth"),this.state=ho.Auth,this.credentialsProvider.getToken(!1).then(function(t){e.startStream(t)},function(t){e.queue.enqueue(function(){return ot.__awaiter(e,void 0,void 0,function(){var e;return ot.__generator(this,function(){return this.state===ho.Stopped?[2]:(e=new ct(pt.UNKNOWN,"Fetching auth token failed: "+t.message),[2,this.handleStreamClose(e)])})})})})},e.prototype.startStream=function(e){var t=this;if(this.state!==ho.Stopped){c(this.state===ho.Auth,"Trying to start stream in a non-auth state");var n=function(e,n){t.queue.enqueue(function(){return ot.__awaiter(t,void 0,void 0,function(){return ot.__generator(this,function(){return this.stream===e?[2,n()]:[2]})})})};if(null!==this.listener){var o=this.startRpc(e);this.stream=o,this.stream.onOpen(function(){n(o,function(){return c(t.state===ho.Auth,"Expected stream to be in state auth, but was "+t.state),t.state=ho.Open,t.listener.onOpen()})}),this.stream.onClose(function(e){n(o,function(){return t.handleStreamClose(e)})}),this.stream.onMessage(function(e){n(o,function(){return t.onMessage(e)})})}}},e.prototype.performBackoff=function(e){var t=this;c(this.state===ho.Error,"Should only perform backoff in an error case"),this.state=ho.Backoff,this.backoff.backoffAndRun(function(){return ot.__awaiter(t,void 0,void 0,function(){return ot.__generator(this,function(){return this.state===ho.Stopped?[2]:(this.state=ho.Initial,this.start(e),c(this.isStarted(),"PersistentStream should have started"),[2])})})})},e.prototype.handleStreamClose=function(e){return c(this.isStarted(),"Can't handle server close on non-started stream"),i("PersistentStream","close with error: "+e),this.stream=null,this.close(ho.Error,e)},e}(),go=function(e){function t(t,n,o,r){var i=e.call(this,t,po.ListenStreamConnectionBackoff,po.ListenStreamIdle,n,o)||this;return i.serializer=r,i}return ot.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={database:this.serializer.encodedDatabaseId,addTarget:this.serializer.toTarget(e)},n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(fo),yo=function(e){function t(t,n,o,r){var i=e.call(this,t,po.WriteStreamConnectionBackoff,po.WriteStreamIdle,n,o)||this;return i.serializer=r,i.handshakeComplete_=!1,i}return ot.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(t){this.handshakeComplete_=!1,e.prototype.start.call(this,t)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(c(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,!this.handshakeComplete_)return c(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete();this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)},t.prototype.writeHandshake=function(){c(this.isOpen(),"Writing handshake requires an opened stream"),c(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;c(this.isOpen(),"Writing mutations requires an opened stream"),c(this.handshakeComplete_,"Handshake must be complete before writing mutations"),c(0<this.lastStreamToken.length,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map(function(e){return t.serializer.toMutation(e)})};this.sendRequest(n)},t}(fo),bo=function(){function e(e,t,n,o){this.queue=e,this.connection=t,this.credentials=n,this.serializer=o}return e.prototype.newPersistentWriteStream=function(){return new yo(this.queue,this.connection,this.credentials,this.serializer)},e.prototype.newPersistentWatchStream=function(){return new go(this.queue,this.connection,this.credentials,this.serializer)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map(function(e){return t.serializer.toMutation(e)})};return this.invokeRPC("Commit",n).then(function(e){return t.serializer.fromWriteResults(e.writeResults)})},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map(function(e){return t.serializer.toName(e)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var o=te();n.forEach(function(e){var n=t.serializer.fromMaybeDocument(e);o=o.insert(n.key,n)});var r=[];return e.forEach(function(e){var t=o.get(e);c(!!t,"Missing entity in write response for "+e),r.push(t)}),r})},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken(!1).then(function(o){return n.connection.invokeRPC(e,t,o)})},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken(!1).then(function(o){return n.connection.invokeStreamingRPC(e,t,o)})},e}(),_o=function(){function e(e){this.datastore=e,this.readVersions=ae(),this.mutations=[],this.committed=!1}return e.prototype.recordVersion=function(e){var t=e.version;e instanceof xt&&(t=pn.forDeletedDoc());var n=this.readVersions.get(e.key);if(null===n)this.readVersions=this.readVersions.insert(e.key,t);else if(!t.isEqual(n))throw new ct(pt.ABORTED,"Document version changed between two reads.")},e.prototype.lookup=function(e){var t=this;return this.committed?Promise.reject("Transaction has already completed."):0<this.mutations.length?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(e).then(function(e){return e.forEach(function(e){return t.recordVersion(e)}),e})},e.prototype.write=function(e){if(this.committed)throw new ct(pt.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(e)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return t?bn.updateTime(t):bn.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(t&&t.isEqual(pn.forDeletedDoc()))throw new ct(pt.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");else return t?bn.updateTime(t):bn.exists(!0)},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e)))},e.prototype.update=function(e,t){this.write(t.toMutations(e,this.preconditionForUpdate(e)))},e.prototype.delete=function(e){this.write([new Tn(e,this.precondition(e))]),this.readVersions=this.readVersions.insert(e,pn.forDeletedDoc())},e.prototype.commit=function(){var e=this,t=this.readVersions;return this.mutations.forEach(function(e){t=t.remove(e.key)}),t.isEmpty()?this.datastore.commit(this.mutations).then(function(){e.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},e}(),vo=10000,Eo=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=Jn.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Jn.Unknown),c(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(po.OnlineStateTimeout,vo,function(){return e.onlineStateTimer=null,c(e.state===Jn.Unknown,"Timer should be canceled if we transitioned to a different state."),i("OnlineStateTracker","Watch stream didn't reach online or offline within "+(vo+"ms. Considering client offline.")),e.logClientOfflineWarningIfNecessary(),e.setAndBroadcast(Jn.Offline),Promise.resolve()}))},e.prototype.handleWatchStreamFailure=function(){this.state===Jn.Online?(this.setAndBroadcast(Jn.Unknown),c(0===this.watchStreamFailures,"watchStreamFailures must be 0"),c(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=2&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(),this.setAndBroadcast(Jn.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===Jn.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(){this.shouldWarnClientIsOffline&&(s("Could not reach Firestore backend."),this.shouldWarnClientIsOffline=!1)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}(),Co="RemoteStore",To=function(){function e(e,t,n,o){this.localStore=e,this.datastore=t,this.pendingWrites=[],this.lastBatchSeen=Ca,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.onlineStateTracker=new Eo(n,o)}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.isNetworkEnabled=function(){return c(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},e.prototype.enableNetwork=function(){var e=this;return this.isNetworkEnabled()?Promise.resolve():(this.watchStream=this.datastore.newPersistentWatchStream(),this.writeStream=this.datastore.newPersistentWriteStream(),this.localStore.getLastStreamToken().then(function(t){return e.writeStream.lastStreamToken=t,e.shouldStartWatchStream()?e.startWatchStream():e.onlineStateTracker.set(Jn.Unknown),e.fillWritePipeline()}))},e.prototype.disableNetwork=function(){return ot.__awaiter(this,void 0,void 0,function(){return ot.__generator(this,function(){return this.disableNetworkInternal(),this.onlineStateTracker.set(Jn.Offline),[2]})})},e.prototype.disableNetworkInternal=function(){this.isNetworkEnabled()&&(this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null)},e.prototype.shutdown=function(){return i(Co,"RemoteStore shutting down."),this.disableNetworkInternal(),this.onlineStateTracker.set(Jn.Unknown),Promise.resolve()},e.prototype.listen=function(e){c(!m(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){c(m(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.isNetworkEnabled()&&this.watchStream.isOpen()&&(this.sendUnwatchRequest(e),y(this.listenTargets)&&this.watchStream.markIdle())},e.prototype.sendWatchRequest=function(e){this.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.recordPendingTargetRequest=function(e){this.pendingTargetResponses[e]=(this.pendingTargetResponses[e]||0)+1},e.prototype.startWatchStream=function(){c(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!y(this.listenTargets)},e.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},e.prototype.onWatchStreamOpen=function(){return ot.__awaiter(this,void 0,void 0,function(){var e=this;return ot.__generator(this,function(){return f(this.listenTargets,function(t,n){e.sendWatchRequest(n)}),[2]})})},e.prototype.onWatchStreamClose=function(){return ot.__awaiter(this,void 0,void 0,function(){return ot.__generator(this,function(){return c(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.onlineStateTracker.handleWatchStreamFailure(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Jn.Unknown),[2]})})},e.prototype.onWatchStreamChange=function(e,t){return ot.__awaiter(this,void 0,void 0,function(){var n;return ot.__generator(this,function(){return(this.onlineStateTracker.set(Jn.Online),e instanceof jn&&e.state===Un.Removed&&e.cause)?[2,this.handleTargetError(e)]:(this.accumulatedWatchChanges.push(e),!t.isEqual(pn.MIN)&&0<=t.compareTo(this.localStore.getLastRemoteSnapshotVersion())?(n=this.accumulatedWatchChanges,this.accumulatedWatchChanges=[],[2,this.handleWatchChangeBatch(t,n)]):[2])})})},e.prototype.handleWatchChangeBatch=function(e,t){var n=this,o=new Bn(e,this.listenTargets,this.pendingTargetResponses);o.addChanges(t);var r=o.createRemoteEvent();this.pendingTargetResponses=o.pendingTargetResponses;var i=[];return f(o.existenceFilters,function(t,o){var s=n.listenTargets[t];if(s){var d=s.query;if(!d.isDocumentQuery()){var l=n.localStore.remoteDocumentKeys(t).then(function(e){if(r.targetChanges[t]){var i=r.targetChanges[t].mapping;null!==i&&(i instanceof Mn?e=i.applyToKeySet(e):(c(i instanceof On,"Expected either reset or update mapping but got something else: "+i),e=i.documents))}if(e.size!==o.count){r.handleExistenceFilterMismatch(t);var l=new un(d,t,s.purpose);n.listenTargets[t]=l,n.sendUnwatchRequest(t);var p=new un(d,t,cn.ExistenceFilterMismatch);n.sendWatchRequest(p)}});i.push(l)}else if(0===o.count){var p=new St(d.path),u=new xt(p,e);r.addDocumentUpdate(u)}else c(1===o.count,"Single document existence filter with count: "+o.count)}}),Promise.all(i).then(function(){return f(r.targetChanges,function(e,t){if(0<t.resumeToken.length){var o=n.listenTargets[e];o&&(n.listenTargets[e]=o.update({resumeToken:t.resumeToken,snapshotVersion:t.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(r)})},e.prototype.handleTargetError=function(e){var t=this;c(!!e.cause,"Handling target error without a cause");var n=e.cause,o=Promise.resolve();return e.targetIds.forEach(function(e){o=o.then(function(){return ot.__awaiter(t,void 0,void 0,function(){return ot.__generator(this,function(){return m(this.listenTargets,e)?(delete this.listenTargets[e],[2,this.syncEngine.rejectListen(e,n)]):[2]})})})}),o},e.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=Ca,i(Co,"Stopping write stream with "+this.pendingWrites.length+" pending writes"),this.pendingWrites=[]},e.prototype.fillWritePipeline=function(){return ot.__awaiter(this,void 0,void 0,function(){var e=this;return ot.__generator(this,function(){return this.canWriteMutations()?[2,this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(t){return null===t?void(0===e.pendingWrites.length&&e.writeStream.markIdle()):(e.commit(t),e.fillWritePipeline())})]:[2]})})},e.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<10},e.prototype.outstandingWrites=function(){return this.pendingWrites.length},e.prototype.commit=function(e){c(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=e.batchId,this.pendingWrites.push(e),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&0<this.pendingWrites.length},e.prototype.startWriteStream=function(){c(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})},e.prototype.onWriteStreamOpen=function(){return ot.__awaiter(this,void 0,void 0,function(){return ot.__generator(this,function(){return this.writeStream.writeHandshake(),[2]})})},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,n=e.pendingWrites,o;t<n.length;t++)o=n[t],e.writeStream.writeMutations(o.mutations)})},e.prototype.onMutationResult=function(e,t){var n=this;c(0<this.pendingWrites.length,"Got result for empty pending writes");var o=this.pendingWrites.shift(),r=Ia.from(o,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(r).then(function(){return n.fillWritePipeline()})},e.prototype.onWriteStreamClose=function(e){return ot.__awaiter(this,void 0,void 0,function(){var t=this,n;return ot.__generator(this,function(){return c(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),e&&0<this.pendingWrites.length?(c(!!e,"We have pending writes, but the write stream closed without an error"),n=void 0,n=this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e),[2,n.then(function(){t.shouldStartWriteStream()&&t.startWriteStream()})]):[2]})})},e.prototype.handleHandshakeError=function(e){return ot.__awaiter(this,void 0,void 0,function(){return ot.__generator(this,function(){return X(e.code)||e.code===pt.ABORTED?(i(Co,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=p(),[2,this.localStore.setLastStreamToken(p())]):[2]})})},e.prototype.handleWriteError=function(e){return ot.__awaiter(this,void 0,void 0,function(){var t=this,n;return ot.__generator(this,function(){return X(e.code)?(n=this.pendingWrites.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(n.batchId,e).then(function(){return t.fillWritePipeline()})]):[2]})})},e.prototype.createTransaction=function(){return new _o(this.datastore)},e.prototype.handleUserChange=function(e){if(i(Co,"RemoteStore changing users: uid=",e.uid),this.isNetworkEnabled())return this.disableNetworkInternal(),this.onlineStateTracker.set(Jn.Unknown),this.enableNetwork()},e}(),Io=function(){function e(e,t,n,o){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=o}return e.prototype.start=function(e){var t=this,n=new lo,o=new lo,r=!1;return this.credentials.setUserChangeListener(function(i){r?t.asyncQueue.enqueue(function(){return t.handleUserChange(i)}):(r=!0,t.initializePersistence(e,o).then(function(){return t.initializeRest(i)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueue(function(){return n.promise}),o.promise},e.prototype.enableNetwork=function(){var e=this;return this.asyncQueue.enqueue(function(){return e.remoteStore.enableNetwork()})},e.prototype.initializePersistence=function(e,t){var n=this;return e?this.startIndexedDbPersistence().then(t.resolve).catch(function(e){return(t.reject(e),!n.canFallback(e))?Promise.reject(e):(console.warn("Error enabling offline storage. Falling back to storage disabled: "+e),n.startMemoryPersistence())}):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e.code===pt.FAILED_PRECONDITION||e.code===pt.UNIMPLEMENTED},e.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new so;var e=Ja.buildStoragePrefix(this.databaseInfo),t=new zn(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new Ja(e,t),this.persistence.start()},e.prototype.startMemoryPersistence=function(){return this.garbageCollector=new la,this.persistence=new ro,this.persistence.start()},e.prototype.initializeRest=function(e){var t=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){t.localStore=new to(t.persistence,e,t.garbageCollector);var o=t.platform.newSerializer(t.databaseInfo.databaseId),r=new bo(t.asyncQueue,n,t.credentials,o);return t.remoteStore=new To(t.localStore,r,t.asyncQueue,function(e){t.syncEngine.applyOnlineStateChange(e),t.eventMgr.applyOnlineStateChange(e)}),t.syncEngine=new Ea(t.localStore,t.remoteStore,e),t.remoteStore.syncEngine=t.syncEngine,t.eventMgr=new ia(t.syncEngine),t.localStore.start()}).then(function(){return t.remoteStore.start()})},e.prototype.handleUserChange=function(e){return this.asyncQueue.verifyOperationInProgress(),i("FirestoreClient","User Changed: "+e.uid),this.syncEngine.handleUserChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.asyncQueue.enqueue(function(){return e.remoteStore.disableNetwork()})},e.prototype.shutdown=function(){var e=this;return this.asyncQueue.enqueue(function(){return e.credentials.removeUserChangeListener(),e.remoteStore.shutdown()}).then(function(){return e.persistence.shutdown()})},e.prototype.listen=function(e,t,n){var o=this,r=new sa(e,t,n);return this.asyncQueue.enqueue(function(){return o.eventMgr.listen(r)}),r},e.prototype.unlisten=function(e){var t=this;this.asyncQueue.enqueue(function(){return t.eventMgr.unlisten(e)})},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.asyncQueue.enqueue(function(){return t.localStore.readDocument(e)}).then(function(e){if(e instanceof kt)return e;throw new ct(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.asyncQueue.enqueue(function(){return t.localStore.executeQuery(e)}).then(function(t){var n=oe(),o=new ba(e,n),r=o.computeDocChanges(t);return o.applyChanges(r).snapshot})},e.prototype.write=function(e){var t=this,n=new lo;return this.asyncQueue.enqueue(function(){return t.syncEngine.write(e,n)}),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.transaction=function(e){var t=this;return this.asyncQueue.enqueue(function(){return ot.__awaiter(t,void 0,void 0,function(){return ot.__generator(this,function(){return[2]})})}).then(function(){return t.syncEngine.runTransaction(e)})},e}(),So=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),ko=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),xo=function(){return function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}}}(),No=function(){function e(){this.userListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.setUserChangeListener=function(e){c(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=e,e(ko.UNAUTHENTICATED)},e.prototype.removeUserChangeListener=function(){c(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},e}(),wo=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var e=t.getUser();t.currentUser&&e.isEqual(t.currentUser)||(t.currentUser=e,t.userCounter++,t.userListener&&t.userListener(t.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(e){var t=this;c(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(e).then(function(e){if(t.userCounter!==n)throw new ct(pt.ABORTED,"getToken aborted due to uid change.");else return e?(c("string"==typeof e.accessToken,"Invalid tokenData returned from getToken():"+e),new xo(e.accessToken,t.currentUser)):null})},e.prototype.setUserChangeListener=function(e){c(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=e,this.currentUser&&e(this.currentUser)},e.prototype.removeUserChangeListener=function(){c(null!=this.tokenListener,"removeUserChangeListener() called twice"),c(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},e.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&l("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var e=this.app.INTERNAL.getUid();return c(null===e||"string"==typeof e,"Received invalid UID: "+e),new ko(e)},e}(),Ro=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=ko.FIRST_PARTY,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),e}(),Po=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return e.prototype.getToken=function(){return Promise.resolve(new Ro(this.gapi,this.sessionIndex))},e.prototype.setUserChangeListener=function(e){e(ko.FIRST_PARTY)},e.prototype.removeUserChangeListener=function(){},e}(),Ao=function(){function e(e){this.methodName=e}return e.delete=function(){return Do.instance},e.serverTimestamp=function(){return Oo.instance},e.prototype.isEqual=function(e){return this===e},e}(),Do=function(e){function t(){return e.call(this,"FieldValue.delete()")||this}return ot.__extends(t,e),t.instance=new t,t}(Ao),Oo=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp()")||this}return ot.__extends(t,e),t.instance=new t,t}(Ao),Mo=u(Ao,"Use FieldValue.<field>() instead."),Lo=/^__.*__$/,Fo=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null===this.fieldMask?n.push(new vn(e,this.data,t)):n.push(new En(e,this.data,this.fieldMask,t)),0<this.fieldTransforms.length&&n.push(new Cn(e,this.fieldTransforms)),n},e}(),Uo=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new En(e,this.data,this.fieldMask,t)];return 0<this.fieldTransforms.length&&n.push(new Cn(e,this.fieldTransforms)),n},e}(),jo;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2018 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.QueryValue=3]="QueryValue"})(jo||(jo={}));var Bo=function(){function e(e,t,n,o,r,i){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=o,void 0===r&&this.validatePath(),this.arrayElement=void 0!==o&&o,this.fieldTransforms=r||[],this.fieldMask=i||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),o=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return o.validatePathSegment(t),o},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),o=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return o.validatePath(),o},e.prototype.childContextForArray=function(){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new ct(pt.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(Ue(this.dataSource)&&Lo.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),Vo=function(){return function(e,t){this.databaseId=e,this.key=t}}(),qo=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new Bo(jo.Set,e,It.EMPTY_PATH);Be("Data must be an object, but it was:",n,t);var o=this.parseData(t,n);return new Fo(o,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t){var n=new Bo(jo.MergeSet,e,It.EMPTY_PATH);Be("Data must be an object, but it was:",n,t);var o=this.parseData(t,n),r=new mn(n.fieldMask);return new Fo(o,r,n.fieldTransforms)},e.prototype.parseUpdateData=function(e,t){var n=this,o=new Bo(jo.Update,e,It.EMPTY_PATH);Be("Data must be an object, but it was:",o,t);var r=[],i=Gt.EMPTY;g(t,function(t,s){var d=qe(e,t),l=o.childContextForFieldPath(d);if(s=n.runPreConverter(s,l),s instanceof Do)r.push(d);else{var p=n.parseData(s,l);null!=p&&(r.push(d),i=i.set(d,p))}});var s=new mn(r);return new Uo(i,s,o.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,o){var r=new Bo(jo.Update,e,It.EMPTY_PATH),s=[Ve(e,t)],d=[n];if(0!=o.length%2)throw new ct(pt.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)s.push(Ve(e,o[l])),d.push(o[l+1]);for(var i=[],p=Gt.EMPTY,l=0;l<s.length;++l){var c=s[l],u=r.childContextForFieldPath(c),m=this.runPreConverter(d[l],u);if(m instanceof Do)i.push(c);else{var h=this.parseData(m,u);null!=h&&(i.push(c),p=p.set(c,h))}}var f=new mn(i);return new Uo(p,f,r.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new Bo(jo.QueryValue,e,It.EMPTY_PATH),o=this.parseData(t,n);return c(null!=o,"Parsed data should not be null."),c(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),o},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(o){var n=We(o);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(e=this.runPreConverter(e,t),je(e))return Be("Unsupported field value:",t,e),this.parseObject(e,t);if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return e instanceof Ao?(this.parseSentinelFieldValue(e,t),null):this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,o=new Nt(U);return g(e,function(e,r){var i=n.parseData(r,t.childContextForField(e));null!=i&&(o=o.insert(e,i))}),new Gt(o)},e.prototype.parseArray=function(e,t){for(var n=[],o=0,r=0,i=e;r<i.length;r++){var s=i[r],d=this.parseData(s,t.childContextForArray(o));null==d&&(d=Lt.INSTANCE),n.push(d),o++}return new Qt(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!Ue(t.dataSource))throw t.createError(e.methodName+" can only be used with update() and set()");if(null===t.path)throw t.createError(e.methodName+" is not currently supported inside arrays");if(!(e instanceof Do))e instanceof Oo?t.fieldTransforms.push(new fn(t.path,hn.instance)):l("Unknown FieldValue type: "+e);else if(t.dataSource===jo.MergeSet);else if(t.dataSource===jo.Update)throw c(0<t.path.length,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data");else throw t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}")},e.prototype.parseScalarValue=function(e,t){if(null===e)return Lt.INSTANCE;if("number"==typeof e)return Q(e)?new jt(e):new Bt(e);if("boolean"==typeof e)return Ft.of(e);if("string"==typeof e)return new Vt(e);if(e instanceof Date)return new qt(gt.fromDate(e));if(e instanceof gt)return new qt(new gt(e.seconds,1e3*et(e.nanoseconds/1e3)));if(e instanceof ft)return new Kt(e);if(e instanceof mt)return new zt(e);if(e instanceof Vo)return new Ht(e.databaseId,e.key);throw t.createError("Unsupported field value: "+P(e))},e}(),Wo=!0,zo=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new ct(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=Wo}else S("settings","string","host",e.host),this.host=e.host,k("settings","boolean","ssl",e.ssl),this.ssl=h(e.ssl,Wo);O("settings",e,["host","ssl","credentials","timestampsInSnapshots"]),k("settings","object","credentials",e.credentials),this.credentials=e.credentials,k("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),this.timestampsInSnapshots=h(e.timestampsInSnapshots,!1)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials},e}(),Ho=function(){return function(){}}(),Ko=function(){function e(t){var n=this;this._queue=new uo,this.INTERNAL={delete:function(){return ot.__awaiter(n,void 0,void 0,function(){return ot.__generator(this,function(){return this._firestoreClient?[2,this._firestoreClient.shutdown()]:[2]})})}};var o=new Ho;if("object"==typeof t.options){var r=t;o.firebaseApp=r,o.databaseId=e.databaseIdFromApp(r),o.persistenceKey=o.firebaseApp.name,o.credentials=new wo(r)}else{var i=t;if(!i.projectId)throw new ct(pt.INVALID_ARGUMENT,"Must provide projectId");o.databaseId=new _t(i.projectId,i.database),o.persistenceKey="[DEFAULT]",o.credentials=new No}o.settings=new zo({}),this._config=o,this._databaseId=o.databaseId}return e.prototype.settings=function(e){if(_("Firestore.settings",arguments,1),T("Firestore.settings","object",1,e),m(e,"persistence"))throw new ct(pt.INVALID_ARGUMENT,"\"persistence\" is now specified with a separate call to firestore.enablePersistence().");var t=new zo(e);if(this._firestoreClient&&!this._config.settings.isEqual(t))throw new ct(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=t,void 0!==t.credentials&&(this._config.credentials=Me(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(){if(this._firestoreClient)throw new ct(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},e.prototype.configureClient=function(e){var t=this;c(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),this._config.settings.timestampsInSnapshots||s("\nThe behavior for Date objects stored in Firestore is going to change\nAND YOUR APP MAY BREAK.\nTo hide this warning and ensure your app does not break, you need to add the\nfollowing code to your app before calling any other Cloud Firestore methods:\n\n  const firestore = firebase.firestore();\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\n  firestore.settings(settings);\n\nWith this change, timestamps stored in Cloud Firestore will be read back as\nFirebase Timestamp objects instead of as system Date objects. So you will also\nneed to update code expecting a Date to instead expect a Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\nPlease audit all existing usages of Date when you enable the new behavior. In a\nfuture release, the behavior will change to the new behavior, so if you do not\nfollow these steps, YOUR APP MAY BREAK."),c(!this._firestoreClient,"configureClient() called multiple times");var n=new yt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new qo(function(e){if(e instanceof Yo){var n=t._config.databaseId,o=e.firestore._config.databaseId;if(!o.isEqual(n))throw new ct(pt.INVALID_ARGUMENT,"Document reference is for database "+(o.projectId+"/"+o.database+" but should be ")+("for database "+n.projectId+"/"+n.database));return new Vo(t._config.databaseId,e._key)}return e}),this._firestoreClient=new Io(lt.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(e)},e.databaseIdFromApp=function(e){var t=e.options;if(!m(t,"projectId")){if(m(t,"firestoreId"))throw new ct(pt.INVALID_ARGUMENT,"\"firestoreId\" is now specified as \"projectId\" in firebase.initializeApp.");throw new ct(pt.INVALID_ARGUMENT,"\"projectId\" not provided in firebase.initializeApp.")}if(m(t,"firestoreOptions"))throw new ct(pt.INVALID_ARGUMENT,"\"firestoreOptions\" values are now specified with Firestore.settings()");var n=t.projectId;if(!n||"string"!=typeof n)throw new ct(pt.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new _t(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new ct(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(_("Firestore.collection",arguments,1),T("Firestore.collection","string",1,e),!e)throw new ct(pt.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new tr(Ct.fromString(e),this)},e.prototype.doc=function(e){if(_("Firestore.doc",arguments,1),T("Firestore.doc","string",1,e),!e)throw new ct(pt.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),Yo.forPath(Ct.fromString(e),this)},e.prototype.runTransaction=function(e){var t=this;return _("Firestore.runTransaction",arguments,1),T("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(n){return e(new Go(t,n))})},e.prototype.batch=function(){return this.ensureClientConfigured(),new Qo(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(o()){case dt.DEBUG:return"debug";case dt.ERROR:return"error";case dt.SILENT:return"silent";default:return l("Unknown log level: "+o());}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(_("Firestore.setLogLevel",arguments,1),T("Firestore.setLogLevel","string",1,e),e){case"debug":r(dt.DEBUG);break;case"error":r(dt.ERROR);break;case"silent":r(dt.SILENT);break;default:throw new ct(pt.INVALID_ARGUMENT,"Invalid log level: "+e);}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},e}(),Go=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;_("Transaction.get",arguments,1);var n=Ke("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return l("Mismatch in docs returned from document lookup.");var o=e[0];return o instanceof xt?new $o(t._firestore,n._key,null,!1):new $o(t._firestore,n._key,o,!1)})},e.prototype.set=function(e,t,n){E("Transaction.set",arguments,2,3);var o=Ke("Transaction.set",e,this._firestore);n=ze("Transaction.set",n);var r=n.merge?this._firestore._dataConverter.parseMergeData("Transaction.set",t):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(o._key,r),this},e.prototype.update=function(e,t,n){for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];var i,s;return"string"==typeof t||t instanceof Xn?(v("Transaction.update",arguments,3),i=Ke("Transaction.update",e,this._firestore),s=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(_("Transaction.update",arguments,2),i=Ke("Transaction.update",e,this._firestore),s=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(i._key,s),this},e.prototype.delete=function(e){_("Transaction.delete",arguments,1);var t=Ke("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),Qo=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){E("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var o=Ke("WriteBatch.set",e,this._firestore);n=ze("WriteBatch.set",n);var r=n.merge?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(r.toMutations(o._key,bn.NONE)),this},e.prototype.update=function(e,t,n){for(var o=[],r=3;r<arguments.length;r++)o[r-3]=arguments[r];this.verifyNotCommitted();var i,s;return"string"==typeof t||t instanceof Xn?(v("WriteBatch.update",arguments,3),i=Ke("WriteBatch.update",e,this._firestore),s=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(_("WriteBatch.update",arguments,2),i=Ke("WriteBatch.update",e,this._firestore),s=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(s.toMutations(i._key,bn.exists(!0))),this},e.prototype.delete=function(e){_("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=Ke("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new Tn(t._key,bn.NONE)),this},e.prototype.commit=function(){return ot.__awaiter(this,void 0,void 0,function(){return ot.__generator(this,function(){return this.verifyNotCommitted(),this._committed=!0,0<this._mutations.length?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new ct(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),Yo=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(0!=t.length%2)throw new ct(pt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+(t.canonicalString()+" has "+t.length));return new e(new St(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new tr(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(_("DocumentReference.collection",arguments,1),T("DocumentReference.collection","string",1,e),!e)throw new ct(pt.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=Ct.fromString(e);return new tr(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw M("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){E("DocumentReference.set",arguments,1,2),t=ze("DocumentReference.set",t);var n=t.merge?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,bn.NONE))},e.prototype.update=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var r;return"string"==typeof e||e instanceof Xn?(v("DocumentReference.update",arguments,2),r=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,n)):(_("DocumentReference.update",arguments,1),r=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(r.toMutations(this._key,bn.exists(!0)))},e.prototype.delete=function(){return _("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Tn(this._key,bn.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];E("DocumentReference.onSnapshot",arguments,1,4);var n={includeMetadataChanges:!1},o=0,r;"object"!=typeof e[o]||Le(e[o])||(n=e[o],O("DocumentReference.onSnapshot",n,["includeMetadataChanges"]),k("DocumentReference.onSnapshot","boolean","includeMetadataChanges",n.includeMetadataChanges),o++);var i={includeDocumentMetadataChanges:n.includeMetadataChanges,includeQueryMetadataChanges:n.includeMetadataChanges};return Le(e[o])?r=e[o]:(T("DocumentReference.onSnapshot","function",o,e[o]),I("DocumentReference.onSnapshot","function",o+1,e[o+1]),I("DocumentReference.onSnapshot","function",o+2,e[o+2]),r={next:e[o],error:e[o+1],complete:e[o+2]}),this.onSnapshotInternal(i,r)},e.prototype.onSnapshotInternal=function(e,t){var n=this,o=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(o=t.error.bind(t));var r=new So({next:function(e){if(t.next){c(1>=e.docs.size,"Too many documents returned on a document query");var o=e.docs.get(n._key);t.next(new $o(n.firestore,n._key,o,e.fromCache))}},error:o}),i=this._firestoreClient.listen(Zt.atPath(this._key.path),r,e);return function(){r.mute(),n._firestoreClient.unlisten(i)}},e.prototype.get=function(e){var t=this;return O("DocumentReference.get",e,["source"]),e&&N("DocumentReference.get","options","source",e.source,["default","server","cache"]),new Promise(function(n,o){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then(function(e){n(new $o(t.firestore,t._key,e,!0))},o):t.getViaSnapshotListener(n,o,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var o=this.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){o(),!r.exists&&r.metadata.fromCache?t(new ct(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&n&&"server"===n.source?t(new ct(pt.UNAVAILABLE,"Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to \"server\" to retrieve the cached document.)")):e(r)},error:t})},e}(),Xo=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),$o=function(){function e(e,t,n,o){this._firestore=e,this._key=t,this._document=n,this._fromCache=o}return e.prototype.data=function(e){return E("DocumentSnapshot.data",arguments,0,1),e=He("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data,Ot.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(E("DocumentSnapshot.get",arguments,1,2),t=He("DocumentSnapshot.get",t),this._document){var n=this._document.data.field(Ve("DocumentSnapshot.get",e));if(void 0!==n)return this.convertValue(n,Ot.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Yo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new Xo(null!==this._document&&this._document.hasLocalMutations,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw M("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,o={};return e.forEach(function(e,r){o[e]=n.convertValue(r,t)}),o},e.prototype.convertValue=function(e,t){if(e instanceof Gt)return this.convertObject(e,t);if(e instanceof Qt)return this.convertArray(e,t);if(e instanceof Ht){var n=e.value(t),o=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(o)||s("Document "+this._key.path+" contains a document reference within a different database ("+(e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current ")+("database ("+o.projectId+"/"+o.database+") instead.")),new Yo(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map(function(e){return n.convertValue(e,t)})},e}(),Jo=function(e){function t(t,n,o,r){return e.call(this,t,n,o,r)||this}return ot.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return c("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}($o),Zo=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,o){_("Query.where",arguments,3),T("Query.where","string",2,n),D("Query.where",3,o);var r=Ve("Query.where",t),i;if(!r.isKeyField())i=this.firestore._dataConverter.parseQueryValue("Query.where",o);else if("string"==typeof o){if(-1!==o.indexOf("/"))throw new ct(pt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===o)throw new ct(pt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new Ct([o]));c(0==s.length%2,"Path should be a document key"),i=new Ht(this.firestore._databaseId,new St(s))}else if(o instanceof Yo){i=new Ht(this.firestore._databaseId,o._key)}else throw new ct(pt.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+(P(o)+"."));var d=Y(r,en.fromString(n),i);return this.validateNewFilter(d),new e(this._query.addFilter(d),this.firestore)},e.prototype.orderBy=function(t,n){E("Query.orderBy",arguments,1,2),I("Query.orderBy","string",2,n);var o;if(void 0===n||"asc"===n)o=on.ASCENDING;else if("desc"===n)o=on.DESCENDING;else throw new ct(pt.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");if(null!==this._query.startAt)throw new ct(pt.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new ct(pt.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Ve("Query.orderBy",t),i=new sn(r,o);return this.validateNewOrderBy(i),new e(this._query.addOrderBy(i),this.firestore)},e.prototype.limit=function(t){if(_("Query.limit",arguments,1),T("Query.limit","number",1,t),0>=t)throw new ct(pt.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];v("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(r),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];v("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(r),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];v("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(r),this.firestore)},e.prototype.endAt=function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];v("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(r),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw M("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,o){if(D(e,1,t),t instanceof $o){if(0<n.length)throw new ct(pt.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var r=t;if(!r.exists)throw new ct(pt.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+(e+"()."));return this.boundFromDocument(e,r._document,o)}var i=[t].concat(n);return this.boundFromFields(e,i,o)},e.prototype.boundFromDocument=function(e,t,n){for(var o=[],r=0,i=this._query.orderBy,s;r<i.length;r++)if(s=i[r],s.field.isKeyField())o.push(new Ht(this.firestore._databaseId,t.key));else{var d=t.field(s.field);if(void 0!==d)o.push(d);else{var l=s.field.canonicalString();throw new ct(pt.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}}return new rn(o,n)},e.prototype.boundFromFields=function(e,t,n){var o=this._query.explicitOrderBy;if(t.length>o.length)throw new ct(pt.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],s=0;s<t.length;s++){var i=t[s],d=o[s];if(d.field.isKeyField()){if("string"!=typeof i)throw new ct(pt.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+(e+"(), but got a "+typeof i));if(-1!==i.indexOf("/"))throw new ct(pt.INVALID_ARGUMENT,"Invalid query. Document ID '"+i+"' contains a slash in "+(e+"()"));var l=new St(this._query.path.child(i));r.push(new Ht(this.firestore._databaseId,l))}else{var p=this.firestore._dataConverter.parseQueryValue(e,i);r.push(p)}}return new rn(r,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];E("Query.onSnapshot",arguments,1,4);var n={},o=0,r;return"object"!=typeof e[o]||Le(e[o])||(n=e[o],O("Query.onSnapshot",n,["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),k("Query.onSnapshot","boolean","includeDocumentMetadataChanges",n.includeDocumentMetadataChanges),k("Query.onSnapshot","boolean","includeQueryMetadataChanges",n.includeQueryMetadataChanges),o++),Le(e[o])?r=e[o]:(T("Query.onSnapshot","function",o,e[o]),I("Query.onSnapshot","function",o+1,e[o+1]),I("Query.onSnapshot","function",o+2,e[o+2]),r={next:e[o],error:e[o+1],complete:e[o+2]}),this.onSnapshotInternal(n,r)},e.prototype.onSnapshotInternal=function(e,t){var n=this,o=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(o=t.error.bind(t));var r=new So({next:function(e){t.next&&t.next(new er(n.firestore,n._query,e))},error:o}),i=this.firestore.ensureClientConfigured(),s=i.listen(this._query,r,e);return function(){r.mute(),i.unlisten(s)}},e.prototype.get=function(e){var t=this;return E("Query.get",arguments,0,1),new Promise(function(n,o){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then(function(e){n(new er(t.firestore,t._query,e))},o):t.getViaSnapshotListener(n,o,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var o=this.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(r){o(),r.metadata.fromCache&&n&&"server"===n.source?t(new ct(pt.UNAVAILABLE,"Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to \"server\" to retrieve the cached documents.)")):e(r)},error:t})},e.prototype.validateNewFilter=function(e){if(e instanceof tn&&e.isInequality()){var t=this._query.getInequalityFilterField();if(null!==t&&!t.isEqual(e.field))throw new ct(pt.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+t.toString()+"'"+(" and '"+e.field.toString()+"'"));var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(e.field,n)}},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new ct(pt.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' "+("and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() ")+("is on field '"+t.toString()+"' instead."))},e}(),er=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this.metadata=new Xo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;E("QuerySnapshot.forEach",arguments,1,2),T("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach(function(o){e.call(t,n.convertToDocumentImpl(o))})},Object.defineProperty(e.prototype,"query",{get:function(){return new Zo(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=Ge(this._firestore,this._snapshot)),this._cachedChanges},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw M("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new Jo(this._firestore,e.key,e,this.metadata.fromCache)},e}(),tr=function(e){function t(t,n){var o=e.call(this,Zt.atPath(t),n)||this;if(1!=t.length%2)throw new ct(pt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+(t.canonicalString()+" has "+t.length));return o}return ot.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new Yo(new St(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(E("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=ut.newId()),T("CollectionReference.doc","string",1,e),""===e)throw new ct(pt.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=Ct.fromString(e);return Yo.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){_("CollectionReference.add",arguments,1),T("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then(function(){return t})},t}(Zo),nr=u(Ko,"Use firebase.firestore() instead."),ar=u(Go,"Use firebase.firestore().runTransaction() instead."),or=u(Qo,"Use firebase.firestore().batch() instead."),rr=u(Yo,"Use firebase.firestore().doc() instead."),ir=u($o),sr=u(Jo),dr=u(Zo),lr=u(er),pr=u(tr,"Use firebase.firestore().collection() instead."),cr={Firestore:nr,GeoPoint:ft,Timestamp:gt,Blob:ht,Transaction:ar,WriteBatch:or,DocumentReference:rr,DocumentSnapshot:ir,Query:dr,QueryDocumentSnapshot:sr,QuerySnapshot:lr,CollectionReference:pr,FieldPath:Xn,FieldValue:Mo,setLogLevel:Ko.setLogLevel};/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xe(nt),n.registerFirestore=Xe},{"@firebase/app":1,"@firebase/logger":5,"@firebase/webchannel-wrapper":8,tslib:360}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o=[];(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(n.LogLevel||(n.LogLevel={}));var r=n.LogLevel.INFO,i=function(e,t){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString();switch(t){case n.LogLevel.DEBUG:console.log.apply(console,["["+i+"]  "+e.name+":"].concat(o));break;case n.LogLevel.VERBOSE:console.log.apply(console,["["+i+"]  "+e.name+":"].concat(o));break;case n.LogLevel.INFO:console.info.apply(console,["["+i+"]  "+e.name+":"].concat(o));break;case n.LogLevel.WARN:console.warn.apply(console,["["+i+"]  "+e.name+":"].concat(o));break;case n.LogLevel.ERROR:console.error.apply(console,["["+i+"]  "+e.name+":"].concat(o));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");}}},s=function(){function e(e){this.name=e,this._logLevel=r,this._logHandler=i,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in n.LogLevel))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.LogLevel.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.LogLevel.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.LogLevel.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.LogLevel.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,n.LogLevel.ERROR].concat(e))},e}();n.setLogLevel=function(e){o.forEach(function(t){t.logLevel=e})},n.Logger=s},{}],6:[function(e){var t=Math.min;(function(n,o){"use strict";function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],m(e,this)}function d(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):void(e._handled=!0,s._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?l:p)(t.promise,e._value);var o;try{o=n(e._value)}catch(n){return void p(t.promise,n)}l(t.promise,o)}))}function l(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof s)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void m(i(n,e),t)}t._state=1,t._value=e,c(t)}catch(n){p(t,n)}}function p(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&s._immediateFn(function(){e._handled||s._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)d(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function m(e,t){var n=!1;try{e(function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,p(t,e))})}catch(e){if(n)return;n=!0,p(t,e)}}function h(e,t){return t={exports:{}},e(t,t.exports),t.exports}e("whatwg-fetch");var g=setTimeout;s.prototype["catch"]=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(r);return d(this,new u(e,t,n)),n},s.prototype["finally"]=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},s.all=function(e){return new s(function(t,n){function o(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var d=i.then;if("function"==typeof d)return void d.call(i,function(t){o(e,t)},n)}r[e]=i,0==--s&&t(r)}catch(e){n(e)}}if(!e||"undefined"==typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);for(var s=r.length,d=0;d<r.length;d++)o(d,r[d])})},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s(function(t){t(e)})},s.reject=function(e){return new s(function(t,n){n(e)})},s.race=function(e){return new s(function(t,n){for(var o=0,r=e.length;o<r;o++)e[o].then(t,n)})},s._immediateFn="function"==typeof o&&function(e){o(e)}||function(e){g(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var y=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof n)return n;throw new Error("unable to locate global object")}();y.Promise||(y.Promise=s);var b=h(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),_=h(function(e){var t=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=t)}),v=_.version,E=function(e){return"object"==typeof e?null!==e:"function"==typeof e},C=function(e){if(!E(e))throw TypeError(e+" is not an object!");return e},T=function(e){try{return!!e()}catch(t){return!0}},I=!T(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),S=b.document,k=E(S)&&E(S.createElement),x=function(e){return k?S.createElement(e):{}},N=!I&&!T(function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a}),w=function(e,t){if(!E(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!E(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!E(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!E(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")},R=Object.defineProperty,P=I?Object.defineProperty:function(e,t,n){if(C(e),t=w(t,!0),C(n),N)try{return R(e,t,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},A={f:P},D=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},M=I?function(e,t,n){return A.f(e,t,D(1,n))}:function(e,t,n){return e[t]=n,e},O={}.hasOwnProperty,L=function(e,t){return O.call(e,t)},F=0,U=Math.random(),j=function(e){return"Symbol(".concat(e===void 0?"":e,")_",(++F+U).toString(36))},B=h(function(e){var t=j("src"),n="toString",o=Function[n],r=(""+o).split(n);_.inspectSource=function(e){return o.call(e)},(e.exports=function(e,n,o,i){var s="function"==typeof o;s&&(L(o,"name")||M(o,"name",n));e[n]===o||(s&&(L(o,t)||M(o,t,e[n]?""+e[n]:r.join(n+""))),e===b?e[n]=o:i?e[n]?e[n]=o:M(e,n,o):(delete e[n],M(e,n,o)))})(Function.prototype,n,function(){return"function"==typeof this&&this[t]||o.call(this)})}),V=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},q=function(e,t,n){return(V(e),void 0===t)?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,o){return e.call(t,n,o)}:3===n?function(n,o,r){return e.call(t,n,o,r)}:function(){return e.apply(t,arguments)}},W="prototype",z=function(e,t,n){var o=e&z.F,r=e&z.G,i=e&z.S,s=e&z.P,d=e&z.B,l=r?b:i?b[t]||(b[t]={}):(b[t]||{})[W],p=r?_:_[t]||(_[t]={}),c=p[W]||(p[W]={}),u,m,h,f;for(u in r&&(n=t),n)m=!o&&l&&void 0!==l[u],h=(m?l:n)[u],f=d&&m?q(h,b):s&&"function"==typeof h?q(Function.call,h):h,l&&B(l,u,h,e&z.U),p[u]!=h&&M(p,u,f),s&&c[u]!=h&&(c[u]=h)};b.core=_,z.F=1,z.G=2,z.S=4,z.P=8,z.B=16,z.W=32,z.U=64,z.R=128;var H=z,K={}.toString,G=function(e){return K.call(e).slice(8,-1)},Q=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==G(e)?e.split(""):Object(e)},Y=function(e){if(e==void 0)throw TypeError("Can't call method on  "+e);return e},X=function(e){return Object(Y(e))},$=Math.ceil,J=Math.floor,Z=function(e){return isNaN(e=+e)?0:(0<e?J:$)(e)},ee=function(e){return 0<e?t(Z(e),9007199254740991):0},te=Array.isArray||function(e){return"Array"==G(e)},ne="__core-js_shared__",ae=b[ne]||(b[ne]={}),oe=function(e){return ae[e]||(ae[e]={})},re=h(function(e){var t=oe("wks"),n=b.Symbol,o="function"==typeof n,r=e.exports=function(e){return t[e]||(t[e]=o&&n[e]||(o?n:j)("Symbol."+e))};r.store=t}),ie=re("species"),se=function(e){var t;return te(e)&&(t=e.constructor,"function"==typeof t&&(t===Array||te(t.prototype))&&(t=void 0),E(t)&&(t=t[ie],null===t&&(t=void 0))),void 0===t?Array:t},de=function(e,t){return new(se(e))(t)},le=function(e,t){var n=1==e,o=4==e,r=6==e,i=t||de;return function(t,s,d){for(var l=X(t),p=Q(l),c=q(s,d,3),u=ee(p.length),m=0,h=n?i(t,u):2==e?i(t,0):void 0,f,g;u>m;m++)if((5==e||r||m in p)&&(f=p[m],g=c(f,m,l),e))if(n)h[m]=g;else if(g)switch(e){case 3:return!0;case 5:return f;case 6:return m;case 2:h.push(f);}else if(o)return!1;return r?-1:3==e||o?o:h}},pe=re("unscopables"),ce=Array.prototype;ce[pe]==void 0&&M(ce,pe,{});var ue=function(e){ce[pe][e]=!0},me=le(5),he="find",fe=!0;he in[]&&[,][he](function(){fe=!1}),H(H.P+H.F*fe,"Array",{find:function(e){return me(this,e,1<arguments.length?arguments[1]:void 0)}}),ue(he);var ge=_.Array.find,ye=le(6),be="findIndex",_e=!0;be in[]&&[,][be](function(){_e=!1}),H(H.P+H.F*_e,"Array",{findIndex:function(e){return ye(this,e,1<arguments.length?arguments[1]:void 0)}}),ue(be);var ve=_.Array.findIndex,Ee=re("match"),Ce=function(e){var t;return E(e)&&((t=e[Ee])===void 0?"RegExp"==G(e):!!t)},Te=function(e,t,n){if(Ce(t))throw TypeError("String#"+n+" doesn't accept regex!");return Y(e)+""},Ie=re("match"),Se="startsWith",ke=""[Se];H(H.P+H.F*function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Ie]=!1,!"/./"[e](t)}catch(e){}}return!0}(Se),"String",{startsWith:function(e){var n=Te(this,e,Se),o=ee(t(1<arguments.length?arguments[1]:void 0,n.length)),r=e+"";return n.slice(o,o+r.length)===r}});_.String.startsWith;/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global,e("timers").setImmediate)},{timers:359,"whatwg-fetch":361}],7:[function(e,t,n){"use strict";function o(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t;}for(var n in t)t.hasOwnProperty(n)&&(e[n]=o(e[n],t[n]));return e}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r(e){return JSON.parse(e)}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,o=t,r;n<o.length;n++)if(r=o[n],r in e&&"function"==typeof e[r])return!0;return!1}function s(){}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(e,t,n){var o="";switch(t){case 1:o=n?"first":"First";break;case 2:o=n?"second":"Second";break;case 3:o=n?"third":"Third";break;case 4:o=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}var r=e+" failed: ";return r+=o+" argument ",r}/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=String.fromCharCode;Object.defineProperty(n,"__esModule",{value:!0});var p=e("tslib"),c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},u=function(e,t){if(!e)throw m(t)},m=function(e){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},h=function(e){for(var t=[],n=0,o=0,r;o<e.length;o++)r=e.charCodeAt(o),128>r?t[n++]=r:2048>r?(t[n++]=192|r>>6,t[n++]=128|63&r):55296==(64512&r)&&o+1<e.length&&56320==(64512&e.charCodeAt(o+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++o)),t[n++]=240|r>>18,t[n++]=128|63&r>>12,t[n++]=128|63&r>>6,t[n++]=128|63&r):(t[n++]=224|r>>12,t[n++]=128|63&r>>6,t[n++]=128|63&r);return t},f=function(e){for(var t=[],n=0,o=0;n<e.length;){var r=e[n++];if(128>r)t[o++]=l(r);else if(191<r&&224>r){var i=e[n++];t[o++]=l((31&r)<<6|63&i)}else if(239<r&&365>r){var i=e[n++],s=e[n++],d=e[n++],p=((7&r)<<18|(63&i)<<12|(63&s)<<6|63&d)-65536;t[o++]=l(55296+(p>>10)),t[o++]=l(56320+(1023&p))}else{var i=e[n++],s=e[n++];t[o++]=l((15&r)<<12|(63&i)<<6|63&s)}}return t.join("")},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[],r=0;r<e.length;r+=3){var i=e[r],s=r+1<e.length,d=s?e[r+1]:0,l=r+2<e.length,p=l?e[r+2]:0,c=(15&d)<<2|p>>6,u=63&p;l||(u=64,!s&&(c=64)),o.push(n[i>>2],n[(3&i)<<4|d>>4],n[c],n[u])}return o.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(h(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):f(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[],r=0;r<e.length;){var i=n[e.charAt(r++)],s=r<e.length,d=s?n[e.charAt(r)]:0;++r;var l=r<e.length,p=l?n[e.charAt(r)]:64;++r;var c=r<e.length,u=c?n[e.charAt(r)]:64;if(++r,null==i||null==d||null==p||null==u)throw Error();if(o.push(i<<2|d>>4),64!=p){if(o.push(240&d<<4|p>>2),64!=u){o.push(192&p<<6|u)}}}return o},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},y=function(e){try{return g.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},b=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,o){n?t.reject(n):t.resolve(o),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,o))}},e}(),_=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},v="FirebaseError",E=Error.captureStackTrace,C=function(){return function(e,t){if(this.code=e,this.message=t,E)E(this,T.prototype.create);else{var n=Error.apply(this,arguments);this.name=v,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */C.prototype=Object.create(Error.prototype),C.prototype.constructor=C,C.prototype.name=v;var T=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n=this.errors[e],o=this.service+"/"+e,r;r=void 0===n?"Error":n.replace(this.pattern,function(e,n){var o=t[n];return void 0===o?"<"+n+"?>":o.toString()}),r=this.serviceName+": "+r+" ("+o+").";var i=new C(o,r);for(var s in t)t.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(i[s]=t[s]);return i},e}(),I=function(e){var t={},n={},o={},i="";try{var s=e.split(".");t=r(y(s[0])||""),n=r(y(s[1])||""),i=s[2],o=n.d||{},delete n.d}catch(t){}return{header:t,claims:n,data:o,signature:i}},S=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},k=function(e,t){return S(t,function(t,n){e[t]=n}),e},x=function(e,t,n){for(var o in e)if(t.call(n,e[o],o,e))return o},N=function(){return function(){this.blockSize=-1}}(),w=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return p.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(n,o){o||(o=0);var r=this.W_;if("string"==typeof n)for(var s=0;16>s;s++)r[s]=n.charCodeAt(o)<<24|n.charCodeAt(o+1)<<16|n.charCodeAt(o+2)<<8|n.charCodeAt(o+3),o+=4;else for(var s=0;16>s;s++)r[s]=n[o]<<24|n[o+1]<<16|n[o+2]<<8|n[o+3],o+=4;for(var s=16,i;80>s;s++)i=r[s-3]^r[s-8]^r[s-14]^r[s-16],r[s]=4294967295&(i<<1|i>>>31);for(var t=this.chain_[0],l=this.chain_[1],p=this.chain_[2],c=this.chain_[3],d=this.chain_[4],s=0,e,u;80>s;s++){40>s?20>s?(e=c^l&(p^c),u=1518500249):(e=l^p^c,u=1859775393):60>s?(e=l&p|c&(l|p),u=2400959708):(e=l^p^c,u=3395469782);var i=4294967295&(t<<5|t>>>27)+e+d+u+r[s];d=c,c=p,p=4294967295&(l<<30|l>>>2),l=t,t=i}this.chain_[0]=4294967295&this.chain_[0]+t,this.chain_[1]=4294967295&this.chain_[1]+l,this.chain_[2]=4294967295&this.chain_[2]+p,this.chain_[3]=4294967295&this.chain_[3]+c,this.chain_[4]=4294967295&this.chain_[4]+d},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var o=t-this.blockSize,r=0,n=this.buf_,i=this.inbuf_;r<t;){if(0==i)for(;r<=o;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(n[i]=e.charCodeAt(r),++i,++r,i==this.blockSize){this.compress_(n),i=0;break}}else for(;r<t;)if(n[i]=e[r],++i,++r,i==this.blockSize){this.compress_(n),i=0;break}}this.inbuf_=i,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;56>this.inbuf_?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var o=this.blockSize-1;56<=o;o--)this.buf_[o]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,o=0;5>o;o++)for(var n=24;0<=n;n-=8)e[r]=255&this.chain_[o]>>n,++r;return e},t}(N),R=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(t){n.error(t)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var o=this,r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=i(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=s),void 0===r.error&&(r.error=s),void 0===r.complete&&(r.complete=s);var d=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(t){}}),this.observers.push(r),d},e.prototype.unsubscribeOne=function(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *///      http://www.apache.org/licenses/LICENSE-2.0
/**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * Copyright 2017 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */n.assert=u,n.assertionError=m,n.base64=g,n.base64Decode=y,n.base64Encode=function(e){var t=h(e);return g.encodeByteArray(t,!0)},n.CONSTANTS=c,n.deepCopy=function(e){return o(void 0,e)},n.deepExtend=o,n.patchProperty=function(e,t,n){e[t]=n},n.Deferred=b,n.getUA=_,n.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())},n.isNodeSdk=function(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN},n.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},n.ErrorFactory=T,n.FirebaseError=C,n.patchCapture=function(e){var t=E;return E=e,t},n.jsonEval=r,n.stringify=function(e){return JSON.stringify(e)},n.decode=I,n.isAdmin=function(e){var t=I(e).claims;return"object"==typeof t&&!0===t.admin},n.issuedAtTime=function(e){var t=I(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},n.isValidFormat=function(e){var t=I(e),n=t.claims;return!!t.signature&&!!n&&"object"==typeof n&&n.hasOwnProperty("iat")},n.isValidTimestamp=function(e){var t=I(e).claims,n=Math.floor(new Date().getTime()/1e3),o,r;return"object"==typeof t&&(t.hasOwnProperty("nbf")?o=t.nbf:t.hasOwnProperty("iat")&&(o=t.iat),r=t.hasOwnProperty("exp")?t.exp:o+86400),n&&o&&r&&n>=o&&n<=r},n.clone=function(e){return k({},e)},n.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},n.extend=k,n.findKey=x,n.findValue=function(e,t,n){var o=x(e,t,n);return o&&e[o]},n.forEach=S,n.getAnyKey=function(e){for(var t in e)return t},n.getCount=function(e){var t=0;for(var n in e)t++;return t},n.getValues=function(e){var t=[],n=0;for(var o in e)t[n++]=e[o];return t},n.isEmpty=function(e){for(var t in e)return!1;return!0},n.isNonNullObject=function(e){return"object"==typeof e&&null!==e},n.map=function(e,t,n){var o={};for(var r in e)o[r]=t.call(n,e[r],r,e);return o},n.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},n.querystring=function(e){var t=[];return S(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},n.querystringDecode=function(e){var t={},n=e.replace(/^\?/,"").split("&");return n.forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},n.Sha1=w,n.async=function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}},n.createSubscribe=function(e,t){var n=new R(e,t);return n.subscribe.bind(n)},n.errorPrefix=d,n.validateArgCount=function(e,t,n,o){var r;if(o<t?r="at least "+t:o>n&&(r=0===n?"none":"no more than "+n),r){var i=e+" failed: Was called with "+o+(1===o?" argument.":" arguments.")+" Expects "+r+".";throw new Error(i)}},n.validateCallback=function(e,t,n,o){if((!o||n)&&"function"!=typeof n)throw new Error(d(e,t,o)+"must be a valid function.")},n.validateContextObject=function(e,t,n,o){if((!o||n)&&("object"!=typeof n||null===n))throw new Error(d(e,t,o)+"must be a valid context object.")},n.validateNamespace=function(e,t,n,o){if((!o||n)&&"string"!=typeof n)throw new Error(d(e,t,o)+"must be a valid firebase namespace.")},n.stringLength=function(e){for(var t=0,n=0,o;n<e.length;n++)o=e.charCodeAt(n),128>o?t++:2048>o?t+=2:55296<=o&&56319>=o?(t+=4,n++):t+=3;return t},n.stringToByteArray=function(e){for(var t=[],n=0,o=0,r;o<e.length;o++){if(r=e.charCodeAt(o),55296<=r&&56319>=r){var i=r-55296;o++,u(o<e.length,"Surrogate pair missing trail surrogate.");var s=e.charCodeAt(o)-56320;r=65536+(i<<10)+s}128>r?t[n++]=r:2048>r?(t[n++]=192|r>>6,t[n++]=128|63&r):65536>r?(t[n++]=224|r>>12,t[n++]=128|63&r>>6,t[n++]=128|63&r):(t[n++]=240|r>>18,t[n++]=128|63&r>>12,t[n++]=128|63&r>>6,t[n++]=128|63&r)}return t}},{tslib:360}],8:[function(e,o,t){var n=Math.round,r=Math.floor,i=Math.max;(function(e){(function(){function s(e){return"string"==typeof e}function l(e,t){e=e.split("."),t=t||ao;for(var n=0;n<e.length;n++)if(t=t[e[n]],null==t)return null;return t}function e(){}function d(e){var t=typeof e;if("object"==t){if(e){if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else return"null";}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function _(e){return"array"==d(e)}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function m(e){return"function"==d(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function c(e){return e.call.apply(e.bind,arguments)}function h(e,t){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,n),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function j(){return j=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:h,j.apply(null,arguments)}function f(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function b(e,t){function n(){}n.prototype=t.prototype,e.H=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ib=function(n,o){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[o].apply(n,r)}}function u(e){if(Error.captureStackTrace)Error.captureStackTrace(this,u);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=e+"")}function I(t,n){t=t.split("%s");for(var o="",r=t.length-1,i=0;i<r;i++)o+=t[i]+(i<n.length?n[i]:"%s");u.call(this,o+t[r])}function X(e){throw new I("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function $(){0!=g&&(na[this[k]||(this[k]=++q)]=this),this.i=this.i,this.m=this.m}function w(t){a:{for(var n=se,o=t.length,r=s(t)?t.split(""):t,i=0;i<o;i++)if(i in r&&n.call(void 0,r[i],i,t)){n=i;break a}n=-1}return 0>n?null:s(t)?t.charAt(n):t[n]}function _e(e){if(!_(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0}function et(){return Array.prototype.concat.apply([],arguments)}function tt(e){var t=e.length;if(0<t){for(var n=Array(t),o=0;o<t;o++)n[o]=e[o];return n}return[]}function nt(e){return /^[\s\xa0]*$/.test(e)}function at(e,t){return e<t?-1:e>t?1:0}function ot(e){return-1!=ya.indexOf(e)}function y(e,t,n){for(var o in e)t.call(n,e[o],o,e)}function rt(e){var t=[],n=0,o;for(o in e)t[n++]=e[o];return t}function it(e){var t=[],n=0,o;for(o in e)t[n++]=o;return t}function st(e){var t={},n;for(n in e)t[n]=e[n];return t}function dt(t){for(var n=1,e,o;n<arguments.length;n++){for(e in o=arguments[n],o)t[e]=o[e];for(var r=0;r<Ba.length;r++)e=Ba[r],Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}}function lt(e){return lt[" "](e),e}function pt(e,t){var n=Ua;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function ct(){var e=ao.document;return e?e.documentMode:void 0}function ut(t){return pt(t,function(){for(var n=0,o=ra(Pa+"").split("."),r=ra(t+"").split("."),s=i(o.length,r.length),e=0;0==n&&e<s;e++){var d=o[e]||"",l=r[e]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==d[0].length&&0==l[0].length)break;n=at(0==d[1].length?0:parseInt(d[1],10),0==l[1].length?0:parseInt(l[1],10))||at(0==d[2].length,0==l[2].length)||at(d[2],l[2]),d=d[3],l=l[3]}while(0==n)}return 0<=n})}function mt(e,t){this.type=e,this.a=this.target=t,this.Ra=!0}function A(t,n){if(mt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var o=this.type=t.type,r=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=n,!(n=t.relatedTarget))"mouseover"==o?n=t.fromElement:"mouseout"==o&&(n=t.toElement);else if(Na){a:{try{lt(n.nodeName);var i=!0;break a}catch(e){}i=!1}i||(n=null)}this.relatedTarget=n,null===r?(this.clientX=void 0===t.clientX?t.pageX:t.clientX,this.clientY=void 0===t.clientY?t.pageY:t.clientY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0===r.clientX?r.pageX:r.clientX,this.clientY=void 0===r.clientY?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:so[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}function ht(t,n,o,r,i){this.listener=t,this.proxy=null,this.src=n,this.type=o,this.capture=!!r,this.ga=i,this.key=++po,this.Z=this.ba=!1}function ft(e){e.Z=!0,e.listener=null,e.proxy=null,e.src=null,e.ga=null}function gt(e){this.src=e,this.a={},this.b=0}function yt(t,n){var o=n.type;if(o in t.a){var r=t.a[o],i=pa(r,n),e;(e=0<=i)&&Array.prototype.splice.call(r,i,1),e&&(ft(n),0==t.a[o].length&&(delete t.a[o],t.b--))}}function bt(t,n,o,r){for(var i=0,e;i<t.length;++i)if(e=t[i],!e.Z&&e.listener==n&&e.capture==!!o&&e.ga==r)return i;return-1}function _t(t,n,o,r,i){if(r&&r.once)return Ct(t,n,o,r,i);if(_(n)){for(var e=0;e<n.length;e++)_t(t,n[e],o,r,i);return null}return o=Rt(o),t&&t[lo]?t.Ia(n,o,v(r)?!!r.capture:!!r,i):vt(t,n,o,!1,r,i)}function vt(t,n,o,r,i,s){if(!n)throw Error("Invalid event type");var d=v(i)?!!i.capture:!!i,l=wt(t);if(l||(t[co]=l=new gt(t)),o=l.add(n,o,r,d,s),o.proxy)return o;if(r=Et(),o.proxy=r,r.src=t,r.listener=o,t.addEventListener)$a||(i=d),void 0===i&&(i=!1),t.addEventListener(n.toString(),r,i);else if(t.attachEvent)t.attachEvent(St(n.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return mo++,o}function Et(){var e=Nt,t=Ya?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function Ct(t,n,o,r,i){if(_(n)){for(var e=0;e<n.length;e++)Ct(t,n[e],o,r,i);return null}return o=Rt(o),t&&t[lo]?t.Ja(n,o,v(r)?!!r.capture:!!r,i):vt(t,n,o,!0,r,i)}function Tt(t,n,o,r,i){if(_(n))for(var e=0;e<n.length;e++)Tt(t,n[e],o,r,i);else(r=v(r)?!!r.capture:!!r,o=Rt(o),t&&t[lo])?(t=t.f,n=(n+"").toString(),n in t.a&&(e=t.a[n],o=bt(e,o,r,i),-1<o&&(ft(e[o]),Array.prototype.splice.call(e,o,1),0==e.length&&(delete t.a[n],t.b--)))):t&&(t=wt(t))&&(n=t.a[n.toString()],t=-1,n&&(t=bt(n,o,r,i)),(o=-1<t?n[t]:null)&&It(o))}function It(e){if("number"!=typeof e&&e&&!e.Z){var t=e.src;if(t&&t[lo])yt(t.f,e);else{var n=e.type,o=e.proxy;t.removeEventListener?t.removeEventListener(n,o,e.capture):t.detachEvent?t.detachEvent(St(n),o):t.addListener&&t.removeListener&&t.removeListener(o),mo--,(n=wt(t))?(yt(n,e),0==n.b&&(n.src=null,t[co]=null)):ft(e)}}}function St(e){return e in uo?uo[e]:uo[e]="on"+e}function kt(t,n,o,r){var i=!0;if((t=wt(t))&&(n=t.a[n.toString()]))for(n=n.concat(),t=0;t<n.length;t++){var e=n[t];e&&e.capture==o&&!e.Z&&(e=xt(e,r),i=i&&!1!==e)}return i}function xt(e,t){var n=e.listener,o=e.ga||e.src;return e.ba&&It(e),n.call(o,t)}function Nt(t,n){if(t.Z)return!0;if(!Ya){var o=n||l("window.event");n=new A(o,this);var r=!0;if(!(0>o.keyCode||void 0!=o.returnValue)){a:{var i=!1;if(0==o.keyCode)try{o.keyCode=-1;break a}catch(e){i=!0}(i||void 0==o.returnValue)&&(o.returnValue=!0)}for(o=[],i=n.a;i;i=i.parentNode)o.push(i);for(t=t.type,i=o.length-1;0<=i;i--){n.a=o[i];var e=kt(o[i],t,!0,n);r=r&&e}for(i=0;i<o.length;i++)n.a=o[i],e=kt(o[i],t,!1,n),r=r&&e}return r}return xt(t,new A(n,this))}function wt(e){return e=e[co],e instanceof gt?e:null}function Rt(e){return m(e)?e:(e[ho]||(e[ho]=function(t){return e.handleEvent(t)}),e[ho])}function Pt(){$.call(this),this.f=new gt(this),this.N=this,this.J=null}function B(t,n,o,r){if(n=t.f.a[n+""],!n)return!0;n=n.concat();for(var i=!0,e=0,s;e<n.length;++e)if(s=n[e],s&&!s.Z&&s.capture==o){var d=s.listener,l=s.ga||s.src;s.ba&&yt(t.f,s),i=!1!==d.call(l,r)&&i}return i&&0!=r.Ra}function At(e){return!/^\s*$/.test(e)&&/^[\],:{}\s\u2028\u2029]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Dt(e){if(e+="",At(e))try{return eval("("+e+")")}catch(e){}throw Error("Invalid JSON string: "+e)}function Ot(e){var t=[];return Lt(new Mt,e,t),t.join("")}function Mt(){}function Lt(t,n,o){if(null==n)o.push("null");else{if("object"==typeof n){if(_(n)){var r=n;n=r.length,o.push("[");for(var i="",e=0;e<n;e++)o.push(i),Lt(t,r[e],o),i=",";return void o.push("]")}if(n instanceof String||n instanceof Number||n instanceof Boolean)n=n.valueOf();else{for(r in o.push("{"),i="",n)Object.prototype.hasOwnProperty.call(n,r)&&(e=n[r],"function"!=typeof e&&(o.push(i),Ft(r,o),o.push(":"),Lt(t,e,o),i=","));return void o.push("}")}}switch(typeof n){case"string":Ft(n,o);break;case"number":o.push(isFinite(n)&&!isNaN(n)?n+"":"null");break;case"boolean":o.push(n+"");break;case"function":o.push("null");break;default:throw Error("Unknown type: "+typeof n);}}}function Ft(e,t){t.push("\"",e.replace(go,function(e){var t=fo[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),fo[e]=t),t}),"\"")}function Ut(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function jt(){this.b=this.a=null}function Bt(){var e=vo,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Vt(){this.next=this.b=this.a=null}function qt(e){ao.setTimeout(function(){throw e},0)}function Wt(){var e=ao.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ot("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;e=t.document,e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),o="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=j(function(e){("*"==o||e.origin==o)&&e.data==n&&this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,o)}}}),"undefined"!=typeof e&&!ot("Trident")&&!ot("MSIE")){var t=new e,n={},o=n;return t.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var e=n.za;n.za=null,e()}},function(e){o.next={za:e},o=o.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){ao.setTimeout(e,0)}}function zt(){if(-1!=(ao.Promise+"").indexOf("[native code]")){var e=ao.Promise.resolve(void 0);Eo=function(){e.then(Ht)}}else Eo=function(){var e=Ht;!m(ao.setImmediate)||ao.Window&&ao.Window.prototype&&!ot("Edge")&&ao.Window.prototype.setImmediate==ao.setImmediate?(bo||(bo=Wt()),bo(e)):ao.setImmediate(e)}}function Ht(){for(var e;e=Bt();){try{e.a.call(e.b)}catch(e){qt(e)}var t=yo;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}_o=!1}function Kt(e,t){Pt.call(this),this.b=e||1,this.a=t||ao,this.c=j(this.qb,this),this.g=fa()}function Gt(e){e.ea=!1,e.O&&(e.a.clearTimeout(e.O),e.O=null)}function Qt(e,t,n){if(m(e))n&&(e=j(e,n));else if(e&&"function"==typeof e.handleEvent)e=j(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<+t?-1:ao.setTimeout(e,t||0)}function Yt(e,t,n){$.call(this),this.f=null==n?e:j(e,n),this.c=t,this.b=j(this.kb,this),this.a=[]}function Xt(e){e.Y=Qt(e.b,e.c),e.f.apply(null,e.a)}function $t(e){$.call(this),this.b=e,this.a={}}function Jt(t,n,o,r){_(o)||(o&&(Co[0]=o.toString()),o=Co);for(var i=0,e;i<o.length&&(e=_t(n,o[i],r||t.handleEvent,!1,t.b||t),!!e);i++)t.a[e.key]=e}function Zt(e){y(e.a,function(e,t){this.a.hasOwnProperty(t)&&It(e)},e),e.a={}}function en(e,t,n){this.reset(e,t,n,void 0,void 0)}function tn(e){this.f=e,this.b=this.c=this.a=null}function nn(e,t){this.name=e,this.value=t}function C(e){return e.c?e.c:e.a?C(e.a):(X("Root logger has no level set."),null)}function an(e){Ro||(Ro=new tn(""),wo[""]=Ro,Ro.c=xo);var t;if(!(t=wo[e])){t=new tn(e);var n=e.lastIndexOf("."),o=e.substr(n+1);n=an(e.substr(0,n)),n.b||(n.b={}),n.b[o]=t,t.a=n,wo[e]=t}return t}function on(e,t){e&&e.log(So,t,void 0)}function D(e,t){e&&e.log(ko,t,void 0)}function rn(e,t){e&&e.log(No,t,void 0)}function E(){this.a=an("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function sn(t,n,o,r,i,e){cn(t,function(){if(!t.b)s=e;else if(e){for(var s="",d=e.split("&"),l=0,p;l<d.length;l++)if(p=d[l].split("="),1<p.length){var c=p[0];p=p[1];var u=c.split("_");s=2<=u.length&&"type"==u[1]?s+(c+"="+p+"&"):s+(c+"=redacted&")}}else s=null;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+n+"\n"+o+"\n"+s})}function dn(t,n,o,r,i,e,s){cn(t,function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+n+"\n"+o+"\n"+e+" "+s})}function ln(e,t,n,o){cn(e,function(){return"XMLHTTP TEXT ("+t+"): "+J(e,n)+(o?" "+o:"")})}function G(e,t){cn(e,function(){return"TIMEOUT: "+t})}function pn(e,t){rn(e.a,t)}function H(e,t,n){(e=e.a)&&e.log(Io,n||"Exception",t)}function cn(e,t){D(e.a,t)}function F(e,t){(e=e.a)&&e.log(Io,t,void 0)}function J(t,n){if(!t.b)return n;if(!n)return null;try{var o=JSON.parse(n);if(o)for(var r=0;r<o.length;r++)if(_(o[r])){var i=o[r];if(!(2>i.length)){var e=i[1];if(_(e)&&!(1>e.length)){var s=e[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var d=1;d<e.length;d++)e[d]=""}}}return Ot(o)}catch(e){return pn(t,"Exception parsing expected JS array - probably was not JS"),n}}function un(e){mt.call(this,"serverreachability",e)}function mn(e){Po.dispatchEvent(new un(Po,e))}function hn(e){mt.call(this,"statevent",e)}function fn(e){Po.dispatchEvent(new hn(Po,e))}function K(e){mt.call(this,"timingevent",e)}function gn(e,t,n){Po.dispatchEvent(new K(Po,e,t,n))}function yn(e,t){if(!m(e))throw Error("Fn must not be null and must be a function");return ao.setTimeout(function(){e()},t)}function bn(){}function _n(e){var t;return(t=e.a)||(t={},Sn(e)&&(t[0]=!0,t[1]=!0),t=e.a=t),t}function vn(){}function En(){mt.call(this,"d")}function Cn(){mt.call(this,"c")}function Tn(){}function In(e){return(e=Sn(e))?new ActiveXObject(e):new XMLHttpRequest}function Sn(e){if(!e.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0,o;n<t.length;n++){o=t[n];try{return new ActiveXObject(o),e.b=o}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.b}function kn(e,t,n,o){this.i=e,this.b=t,this.c=n,this.T=o||1,this.L=new $t(this),this.R=Lo,e=Ma?125:void 0,this.S=new Kt(e),this.j=null,this.f=!1,this.l=this.g=this.h=this.J=this.D=this.U=this.s=null,this.u=[],this.a=null,this.G=0,this.m=this.o=null,this.C=-1,this.B=!1,this.N=0,this.I=null,this.v=this.X=this.K=!1}function L(e,t){return 0===e?"Non-200 return code ("+t+")":1===e?"XMLHTTP failure (no data)":2===e?"HttpConnection timeout":"Unknown error"}function xn(e,t,n){e.J=1,e.h=Jn(Q(t)),e.l=n,e.K=!0,wn(e,null)}function Nn(e,t,n,o){e.J=1,e.h=Jn(Q(t)),e.l=null,e.K=n,wn(e,o)}function wn(e,t){e.D=fa(),Mn(e),e.g=Q(e.h),R(e.g,"t",e.T),e.G=0,e.a=e.i.ca(e.i.ia()?t:null),0<e.N&&(e.I=new Yt(j(e.Sa,e,e.a),e.N)),Jt(e.L,e.a,"readystatechange",e.nb),t=e.j?st(e.j):{},e.l?(e.o||(e.o="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.o,e.l,t)):(e.o="GET",e.a.fa(e.g,e.o,null,t)),mn(1),sn(e.b,e.o,e.g,e.c,e.T,e.l)}function Rn(t){var n=re(t.a),o=t.a.Ga(),r=t.a.W();if(!(3>n)&&(3!=n||Ma||t.a.V())){t.B||4!=n||7==o||(8==o||0>=r?mn(3):mn(2)),Fn(t);var i=t.a.W();t.C=i,(o=t.a.V())||pn(t.b,function(){return"No response text for uri "+t.g+" status "+i}),t.f=200==i,dn(t.b,t.o,t.g,t.c,t.T,n,i),t.f?((r=Pn(t))&&(ln(t.b,t.c,r,"Initial handshake response via X-HTTP-Initial-Response"),t.v=!0,Bn(t,r)),t.K?(An(t,n,o),Ma&&t.f&&3==n&&Dn(t)):(ln(t.b,t.c,o,null),Bn(t,o)),4==n&&jn(t),t.f&&!t.B&&(4==n?t.i.ta(t):(t.f=!1,Mn(t)))):(400==i&&0<o.indexOf("Unknown SID")?(t.m=3,fn(12),on(t.b.a,"XMLHTTP Unknown SID ("+t.c+")")):(t.m=0,fn(13),on(t.b.a,"XMLHTTP Bad status "+i+" ("+t.c+")")),jn(t),Un(t))}}function Pn(e){return!e.X||e.v?null:e.a&&(e=N(e.a,"X-HTTP-Initial-Response"))&&!nt(e)?e:null}function An(t,n,o){for(var r=!0,i;!t.B&&t.G<o.length;)if(i=On(t,o),i==Uo){4==n&&(t.m=4,fn(14),r=!1),ln(t.b,t.c,null,"[Incomplete Response]");break}else if(i==Fo){t.m=4,fn(15),ln(t.b,t.c,o,"[Invalid Chunk]"),r=!1;break}else ln(t.b,t.c,i,null),Bn(t,i);4==n&&0==o.length&&(t.m=1,fn(16),r=!1),t.f=t.f&&r,r||(ln(t.b,t.c,o,"[Invalid Chunked Response]"),jn(t),Un(t))}function Dn(e){Jt(e.L,e.S,"tick",e.mb),e.S.start()}function On(e,t){var n=e.G,o=t.indexOf("\n",n);return-1==o?Uo:(n=+t.substring(n,o),isNaN(n))?Fo:(o+=1,o+n>t.length)?Uo:(t=t.substr(o,n),e.G=o+n,t)}function Mn(e){e.U=fa()+e.R,Ln(e,e.R)}function Ln(e,t){if(null!=e.s)throw Error("WatchDog timer not null");e.s=yn(j(e.lb,e),t)}function Fn(e){e.s&&(ao.clearTimeout(e.s),e.s=null)}function Un(e){e.i.La()||e.B||e.i.ta(e)}function jn(e){Fn(e);var t=e.I;t&&"function"==typeof t.$&&t.$(),e.I=null,Gt(e.S),Zt(e.L),e.a&&(t=e.a,e.a=null,t.abort(),t.$())}function Bn(e,t){try{e.i.Oa(e,t),mn(4)}catch(t){H(e.b,t,"Error in httprequest callback")}}function Vn(e){if(e.A&&"function"==typeof e.A)return e.A();if(s(e))return e.split("");if(p(e)){for(var t=[],n=e.length,o=0;o<n;o++)t.push(e[o]);return t}return rt(e)}function qn(t,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(n,void 0);else if(p(t)||s(t))qa(t,n,void 0);else{if(t.M&&"function"==typeof t.M)var o=t.M();else if(t.A&&"function"==typeof t.A)o=void 0;else if(p(t)||s(t)){o=[];for(var r=t.length,i=0;i<r;i++)o.push(i)}else o=it(t);r=Vn(t),i=r.length;for(var e=0;e<i;e++)n.call(void 0,r[e],o&&o[e],t)}}function Wn(e){this.b={},this.a=[],this.c=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var n=0;n<t;n+=2)this.set(arguments[n],arguments[n+1])}else if(e)if(e instanceof Wn)for(t=e.M(),n=0;n<t.length;n++)this.set(t[n],e.get(t[n]));else for(n in e)this.set(n,e[n])}function O(e){e.b={},e.a.length=0,e.c=0}function zn(e,t){return!!Kn(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Hn(e),!0)}function Hn(t){if(t.c!=t.a.length){for(var n=0,o=0,r;n<t.a.length;)r=t.a[n],Kn(t.b,r)&&(t.a[o++]=r),n++;t.a.length=o}if(t.c!=t.a.length){var i={};for(o=n=0;n<t.a.length;)r=t.a[n],Kn(i,r)||(t.a[o++]=r,i[r]=1),n++;t.a.length=o}}function Kn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function P(t,n){if(t){t=t.split("&");for(var o=0;o<t.length;o++){var r=t[o].indexOf("="),i=null;if(0<=r){var e=t[o].substring(0,r);i=t[o].substring(r+1)}else e=t[o];n(e,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Gn(e,t){this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1;var n;e instanceof Gn?(this.h=void 0===t?e.h:t,M(this,e.f),this.j=e.j,Qn(this,e.b),Yn(this,e.i),this.a=e.a,Xn(this,ua(e.c)),this.g=e.g):e&&(n=(e+"").match(jo))?(this.h=!!t,M(this,n[1]||"",!0),this.j=aa(n[2]||""),Qn(this,n[3]||"",!0),Yn(this,n[4]),this.a=aa(n[5]||"",!0),Xn(this,n[6]||"",!0),this.g=aa(n[7]||"")):(this.h=!!t,this.c=new sa(null,this.h))}function Q(e){return new Gn(e)}function M(e,t,n){e.f=n?aa(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Qn(e,t,n){e.b=n?aa(t,!0):t}function Yn(e,t){if(t){if(t=+t,isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function Xn(e,t,n){t instanceof sa?(e.c=t,ha(e.c,e.h)):(n||(t=oa(t,Wo)),e.c=new sa(t,e.h))}function $n(e,t,n){e.c.set(t,n)}function R(e,t,n){_(n)||(n=[n+""]),ca(e.c,t,n)}function Jn(e){return $n(e,"zx",r(2147483648*Math.random()).toString(36)+Math.abs(r(2147483648*Math.random())^fa()).toString(36)),e}function Zn(e){return e instanceof Gn?Q(e):new Gn(e,void 0)}function ea(t,n,o,r){var i=new Gn(null,void 0);return t&&M(i,t),n&&Qn(i,n),o&&Yn(i,o),r&&(i.a=r),i}function aa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function oa(e,t,n){return s(e)?(e=encodeURI(e).replace(t,ia),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ia(e){return e=e.charCodeAt(0),"%"+(15&e>>4).toString(16)+(15&e).toString(16)}function sa(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function da(e){e.a||(e.a=new Wn,e.b=0,e.c&&P(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function S(e,t){da(e),t=ma(e,t),Kn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,zn(e.a,t))}function la(e,t){return da(e),t=ma(e,t),Kn(e.a.b,t)}function ca(e,t,n){S(e,t),0<n.length&&(e.c=null,e.a.set(ma(e,t),tt(n)),e.b+=n.length)}function ua(e){var t=new sa;return t.c=e.c,e.a&&(t.a=new Wn(e.a),t.b=e.b),t}function ma(e,t){return t+="",e.f&&(t=t.toLowerCase()),t}function ha(e,t){t&&!e.f&&(da(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(S(this,t),ca(this,n,e))},e)),e.f=t}function ga(){this.a=fa()}function ba(){Ho||(Ho=new ga)}function _a(){Ho||(Ho=new ga)}function va(e,t){this.a=e,this.b=t,this.c=this.i=null,this.h=!1,this.m=null,this.f=-1,this.l=this.g=null}function Ea(t){pn(t.b,"TestConnection: starting stage 2");var n=t.a.I.a;if(null!=n)pn(t.b,function(){return"TestConnection: skipping stage 2, precomputed result is "+n?"Buffered":"Unbuffered"}),fn(4),n?(fn(10),Le(t.a,t,!1)):(fn(11),Le(t.a,t,!0));else{t.c=new kn(t,t.b,void 0,void 0),t.c.j=t.i;var o=Me(t.a,t.g,t.m);fn(4),R(o,"TYPE","xmlhttp");var r=t.a.j,i=t.a.K;r&&i&&$n(o,r,i),Nn(t.c,o,!1,t.g)}}function Ca(){this.a=this.b=null}function Ia(){this.a=new Wn}function ka(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[k]||(e[k]=++q)):t.charAt(0)+e}function xa(e,t){this.a=e,this.b=t}function wa(e){this.g=e||Ko,ao.PerformanceNavigationTiming?(e=ao.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(ao.oa&&ao.oa.Ma&&ao.oa.Ma()&&ao.oa.Ma().Jb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Ia),this.b=null,this.c=[]}function Da(e,t){e.a||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(e.f=e.g,e.a=new Ia,e.b&&(ee(e,e.b),e.b=null))}function be(e){return!!e.b||!!e.a&&e.a.a.c>=e.f}function de(e,t){return e.b?e=e.b==t:e.a?(t=ka(t),e=Kn(e.a.a.b,t)):e=!1,e}function ee(e,t){e.a?e.a.add(t):e.b=t}function ce(e,t){if(e.b&&e.b==t)e.b=null;else{var n;(n=e.a)&&(n=ka(t),n=Kn(e.a.a.b,n)),n&&zn(e.a.a,ka(t))}}function fe(e){if(null!=e.b)return e.c.concat(e.b.u);if(null!=e.a&&0!=e.a.a.c){var t=e.c;return qa(e.a.A(),function(e){t=t.concat(e.u)}),t}return tt(e.c)}function ge(e,t){e.c=e.c.concat(t)}function he(){}function ie(){this.a=new he}function je(e,t,n){var o=n||"";try{qn(e,function(n,r){var i=n;v(n)&&(i=Ot(n)),t.push(o+r+"="+encodeURIComponent(i))})}catch(n){throw t.push(o+"type="+encodeURIComponent("_badmap")),n}}function ke(e,t){var n=new E;pn(n,"TestLoadImage: loading "+e);var o=new Image;o.onload=f(le,n,o,"TestLoadImage: loaded",!0,t),o.onerror=f(le,n,o,"TestLoadImage: error",!1,t),o.onabort=f(le,n,o,"TestLoadImage: abort",!1,t),o.ontimeout=f(le,n,o,"TestLoadImage: timeout",!1,t),ao.setTimeout(function(){o.ontimeout&&o.ontimeout()},1E4),o.src=e}function le(t,n,o,r,i){try{pn(t,o),n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,i(r)}catch(e){H(t,e)}}function me(e){Pt.call(this),this.headers=new Wn,this.s=e||null,this.c=!1,this.D=this.a=null,this.K=this.B="",this.j=0,this.g="",this.h=this.I=this.u=this.G=!1,this.l=0,this.C=null,this.L=ae,this.v=this.o=!1}function T(e){return La&&ut(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function se(e){return"content-type"==e.toLowerCase()}function ta(e,t){e.c=!1,e.a&&(e.h=!0,e.a.abort(),e.h=!1),e.g=t,e.j=5,qe(e),ve(e)}function qe(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function te(t){if(t.c&&"undefined"!=typeof no)if(t.D[1]&&4==re(t)&&2==t.W())rn(t.b,Fa(t,"Local request error detected and ignored"));else if(t.u&&4==re(t))Qt(t.Na,0,t);else if(t.dispatchEvent("readystatechange"),4==re(t)){rn(t.b,Fa(t,"Request complete")),t.c=!1;try{var n=t.W();a:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break a;default:o=!1;}var r;if(!(r=o)){var i;if(i=0===n){var e=(t.B+"").match(jo)[1]||null;if(!e&&ao.self&&ao.self.location){var s=ao.self.location.protocol;e=s.substr(0,s.length-1)}i=!ne.test(e?e.toLowerCase():"")}r=i}r?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.W()+"]",qe(t))}finally{ve(t)}}}function ve(t,n){if(t.a){ue(t);var o=t.a,r=t.D[0]?e:null;t.a=null,t.D=null,n||t.dispatchEvent("ready");try{o.onreadystatechange=r}catch(n){(t=t.b)&&t.log(Io,"Problem encountered resetting onreadystatechange: "+n.message,void 0)}}}function ue(e){e.a&&e.v&&(e.a.ontimeout=null),e.C&&(ao.clearTimeout(e.C),e.C=null)}function re(e){return e.a?e.a.readyState:0}function N(e,t){return e.a?e.a.getResponseHeader(t):null}function Fa(e,t){return t+" ["+e.K+" "+e.B+" "+e.W()+"]"}function U(e){var t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function we(t,n,o){a:{for(r in o){var r=!1;break a}r=!0}if(r)return t;if(o=U(o),s(t)){if(n=encodeURIComponent(n+""),o=null==o?"":"="+encodeURIComponent(o+""),n+=o){if(o=t.indexOf("#"),0>o&&(o=t.length),r=t.indexOf("?"),0>r||r>o){r=o;var i=""}else i=t.substring(r+1,o);t=[t.substr(0,r),i,t.substr(o)],o=t[1],t[1]=n?o?o+"&"+n:n:o,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return $n(t,n,o),t}function xe(e){this.ya=0,this.g=[],this.a=new E,this.I=new Ca,this.X=this.ua=this.D=this.ja=this.b=this.K=this.j=this.U=this.h=this.L=this.i=null,this.Za=this.R=0,this.Xa=!!l("internalChannelParams.failFast",e),this.ka=this.C=this.s=this.l=this.m=this.f=null,this.u=this.xa=this.N=-1,this.T=this.B=this.v=0,this.Wa=l("internalChannelParams.baseRetryDelayMs",e)||5E3,this.$a=l("internalChannelParams.retryDelaySeedMs",e)||1E4,this.Ya=l("internalChannelParams.forwardChannelMaxRetries",e)||2,this.wa=l("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2E4,this.Ta=e&&e.Kb||void 0,this.G=void 0,this.S=e&&e.supportsCrossDomainXhr||!1,this.J="",this.c=new wa(e&&e.concurrentRequestLimit),this.la=new ie,this.o=e&&void 0!==e.backgroundChannelTest?e.backgroundChannelTest:!0,(this.va=e&&e.fastHandshake||!1)&&!this.o&&(on(this.a.a,"Force backgroundChannelTest when fastHandshake is enabled."),this.o=!0),e&&e.Fa&&this.a.Fa()}function ye(e){if(pn(e.a,"disconnect()"),ze(e),3==e.F){var t=e.R++,n=Q(e.D);$n(n,"SID",e.J),$n(n,"RID",t),$n(n,"TYPE","terminate"),Je(e,n),t=new kn(e,e.a,t,void 0),t.J=2,t.h=Jn(Q(n)),n=!1,ao.navigator&&ao.navigator.sendBeacon&&(n=ao.navigator.sendBeacon(t.h.toString(),"")),!n&&ao.Image&&(new Image().src=t.h,n=!0),n||(t.a=t.i.ca(null),t.a.fa(t.h)),t.D=fa(),Mn(t)}V(e)}function ze(e){e.C&&(e.C.abort(),e.C=null),e.b&&(e.b.cancel(),e.b=null),e.l&&(ao.clearTimeout(e.l),e.l=null),Va(e),e.c.cancel(),e.m&&(ao.clearTimeout(e.m),e.m=null)}function Ae(e,t){1E3==e.g.length&&F(e.a,function(){return"Already have 1000 queued maps upon queueing "+Ot(t)}),e.g.push(new xa(e.Za++,t)),3==e.F&&Ee(e)}function Ee(e){be(e.c)||e.m||(e.m=yn(j(e.Qa,e),0),e.v=0)}function Fe(e,t){var n=e.c;return(n.b?1:n.a?n.a.a.c:0)>=e.c.f-(e.m?1:0)?(F(e.a,"Unexpected retry request is scheduled."),!1):e.m?(pn(e.a,"Use the retry request that is already scheduled."),e.g=t.u.concat(e.g),!0):1==e.F||2==e.F||e.v>=(e.Xa?0:e.Ya)?!1:(pn(e.a,"Going to retry POST"),e.m=yn(j(e.Qa,e,t),De(e,e.v)),e.v++,!0)}function Ge(e,t){var o=t?t.c:e.R++;var r=Q(e.D);$n(r,"SID",e.J),$n(r,"RID",o),$n(r,"AID",e.N),Je(e,r),e.h&&e.i&&we(r,e.h,e.i),o=new kn(e,e.a,o,e.v+1),null===e.h&&(o.j=e.i),t&&(e.g=t.u.concat(e.g)),t=Be(e,o),o.setTimeout(n(.5*e.wa)+n(.5*e.wa*Math.random())),ee(e.c,o),xn(o,r,t)}function Je(e,t){e.f&&qn({},function(e,n){$n(t,n,e)})}function Be(t,n){var o=Math.min(t.g.length,1E3),r=t.f?j(t.f.ab,t.f,t):null;a:for(var s=t.g,e=-1,d;;){d=["count="+o],-1==e?0<o?(e=s[0].a,d.push("ofs="+e)):e=0:d.push("ofs="+e);for(var l=!0,p=0;p<o;p++){var c=s[p].a,u=s[p].b;if(c-=e,0>c)e=i(0,s[p].a-100),l=!1;else try{je(u,d,"req"+c+"_")}catch(e){r&&r(u)}}if(l){r=d.join("&");break a}}return t=t.g.splice(0,o),n.u=t,r}function Ie(e){if(!e.b&&!e.l){e.T=1;var t=e.Pa;Eo||zt(),_o||(Eo(),_o=!0),vo.add(t,e),e.B=0}}function Ke(e){return e.b||e.l?(F(e.a,"Request already in progress"),!1):!(3<=e.B)&&(pn(e.a,"Going to retry GET"),e.T++,e.l=yn(j(e.Pa,e),De(e,e.B)),e.B++,!0)}function Le(e,t,n){pn(e.a,"Test Connection Finished");var o=t.l;o&&Da(e.c,o),e.ka=n,e.u=t.f,pn(e.a,"connectChannel_()"),e.D=Ce(e,e.ja),Ee(e)}function ja(e,t){pn(e.a,"Test Connection Failed"),e.u=t.f,He(e,2)}function Va(e){null!=e.s&&(ao.clearTimeout(e.s),e.s=null)}function De(e,t){var n=e.Wa+r(Math.random()*e.$a);return e.qa()||(pn(e.a,"Inactive channel"),n*=2),n*t}function He(e,t){if(cn(e.a,"Error code "+t),2==t){var n=null;e.f&&(n=null);var o=j(e.pb,e);n||(n=new Gn("//www.google.com/images/cleardot.gif"),ao.location&&"http"==ao.location.protocol||M(n,"https"),Jn(n)),ke(n.toString(),o)}else fn(2);pn(e.a,"HttpChannel: error - "+t),e.F=0,e.f&&e.f.Ba(t),V(e),ze(e)}function V(e){if(e.F=0,e.u=-1,e.f){var t=fe(e.c);(0!=t.length||0!=e.g.length)&&(pn(e.a,function(){return"Number of undelivered maps, pending: "+t.length+", outgoing: "+e.g.length}),e.c.c.length=0,tt(e.g),e.g.length=0),e.f.Aa()}}function Ce(e,t){return t=za(e,null,t),pn(e.a,"GetForwardChannelUri: "+t),t}function Me(e,t,n){return t=za(e,e.ia()?t:null,n),pn(e.a,"GetBackChannelUri: "+t),t}function za(t,n,o){var r=Zn(o);if(""!=r.b)n&&Qn(r,n+"."+r.b),Yn(r,r.i);else{var i=ao.location,e;e=n?n+"."+i.hostname:i.hostname,r=ea(i.protocol,e,i.port,o)}return t.U&&y(t.U,function(e,t){$n(r,t,e)}),n=t.j,o=t.K,n&&o&&$n(r,n,o),$n(r,"VER",t.na),Je(t,r),r}function Ne(){}function Oe(){for(var t=arguments[0],n=1,o;n<arguments.length;n++)if(o=arguments[n],0==o.lastIndexOf("/",0))t=o;else{var r;(r=""==t)||(r=t.length-1,r=0<=r&&t.indexOf("/",r)==r),t+=r?o:"/"+o}return t}function Pe(){if(La&&!(10<=+Xa))throw Error("Environmental error: no available transport.")}function Qe(e,t){Pt.call(this),this.a=new xe(t),this.b=e,this.o=t&&t.testUrl?t.testUrl:Oe(this.b,"test"),this.c=an("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.i=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ea&&(e?e["X-WebChannel-Client-Profile"]=t.Ea:e={"X-WebChannel-Client-Profile":t.Ea}),this.a.L=e,(e=t&&t.httpHeadersOverwriteParam)&&!nt(e)&&(this.a.h=e),this.l=t&&t.supportsCrossDomainXhr||!1,this.j=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nt(t)&&(this.a.j=t,e=this.g,null!==e&&t in e&&(e=this.g,t in e&&delete e[t],on(this.c,"Ignore httpSessionIdParam also specified with messageUrlParams: "+t))),this.h=new Te(this)}function W(e){En.call(this);var t=e.__sm__;if(t){a:{for(var n in t){e=n;break a}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function Se(){Cn.call(this),this.status=1}function Te(e){this.a=e}function Re(){this.b=[],this.a=[]}function Ve(e){return 0==e.b.length&&(e.b=e.a,e.b.reverse(),e.a=[]),e.b.pop()}function We(e){return e.b.length+e.a.length}function Xe(e,t){if($.call(this),this.h=e||0,this.c=t||10,this.h>this.c)throw Error(Go);this.a=new Re,this.b=new Ia,this.g=null,this.aa()}function Ye(e){if("function"==typeof e.$)e.$();else for(var t in e)e[t]=null}function Ha(e){return We(e.a)+e.b.a.c}function $e(e,t){this.a=e,this.b=t}function Qa(e){if(this.a=[],e)a:{if(e instanceof Qa){var t=e.M();if(e=e.A(),0>=this.a.length){for(var n=this.a,o=0;o<t.length;o++)n.push(new $e(t[o],e[o]));break a}}else t=it(e),e=rt(e);for(o=0;o<t.length;o++)Ja(this,t[o],e[o])}}function Ja(e,t,n){var o=e.a;for(o.push(new $e(t,n)),t=o.length-1,e=e.a,n=e[t];0<t&&(o=t-1>>1,e[o].a>n.a);)e[t]=e[o],t=o;e[t]=n}function eo(){Qa.call(this)}function to(e,t){this.f=new eo,Xe.call(this,e,t)}function Y(e,t,n,o){this.l=e,this.j=!!o,to.call(this,t,n)}var no=no||{},ao=this,k="closure_uid_"+(1E9*Math.random()>>>0),q=0,fa=Date.now||function(){return+new Date},t;b(u,Error),u.prototype.name="CustomError",b(I,u),I.prototype.name="AssertionError";var g=0,na={};$.prototype.i=!1,$.prototype.$=function(){},$.prototype.w=function(){if(this.m)for(;this.m.length;)this.m.shift()()};var pa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(s(e))return s(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},qa=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(t,n,o){for(var r=t.length,i=s(t)?t.split(""):t,e=0;e<r;e++)e in i&&n.call(o,i[e],e,t)};var ra=String.prototype.trim?function(e){return e.trim()}:function(e){return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};var ya;a:{var x=ao.navigator;if(x){var Aa=x.userAgent;if(Aa){ya=Aa;break a}}ya=""}var Ba=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];lt[" "]=e;var Ga=ot("Opera"),La=ot("Trident")||ot("MSIE"),oo=ot("Edge"),Ma=oo||La,Na=ot("Gecko")&&(-1==ya.toLowerCase().indexOf("webkit")||ot("Edge"))&&!(ot("Trident")||ot("MSIE"))&&!ot("Edge"),Oa=-1!=ya.toLowerCase().indexOf("webkit")&&!ot("Edge"),Pa;a:{var Ra="",Sa=function(){var e=ya;return Na?/rv:([^\);]+)(\)|;)/.exec(e):oo?/Edge\/([\d\.]+)/.exec(e):La?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Oa?/WebKit\/(\S+)/.exec(e):Ga?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Sa&&(Ra=Sa?Sa[1]:""),La){var Ta=ct();if(null!=Ta&&Ta>parseFloat(Ra)){Pa=Ta+"";break a}}Pa=Ra}var Ua={},Ka=ao.document,Xa;Xa=Ka&&La?ct()||("CSS1Compat"==Ka.compatMode?parseInt(Pa,10):5):void 0;var ro=Object.freeze||function(e){return e},Ya=!La||9<=+Xa,io=La&&!ut("9"),$a=function(){if(!ao.addEventListener||!Object.defineProperty)return!1;var t=!1,n=Object.defineProperty({},"passive",{get:function(){t=!0}});return ao.addEventListener("test",e,n),ao.removeEventListener("test",e,n),t}();mt.prototype.b=function(){this.Ra=!1},b(A,mt);var so=ro({2:"touch",3:"pen",4:"mouse"});A.prototype.b=function(){A.H.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,io)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var lo="closure_listenable_"+(0|1E6*Math.random()),po=0;gt.prototype.add=function(t,n,o,r,i){var e=t.toString();t=this.a[e],t||(t=this.a[e]=[],this.b++);var s=bt(t,n,r,i);return-1<s?(n=t[s],o||(n.ba=!1)):(n=new ht(n,this.src,e,!!r,i),n.ba=o,t.push(n)),n};var co="closure_lm_"+(0|1E6*Math.random()),uo={},mo=0,ho="__closure_events_fn_"+(1E9*Math.random()>>>0);b(Pt,$),Pt.prototype[lo]=!0,t=Pt.prototype,t.addEventListener=function(e,t,n,o){_t(this,e,t,n,o)},t.removeEventListener=function(e,t,n,o){Tt(this,e,t,n,o)},t.dispatchEvent=function(t){var n=this.J,o;if(n)for(o=[];n;n=n.J)o.push(n);n=this.N;var r=t.type||t;if(s(t))t=new mt(t,n);else if(t instanceof mt)t.target=t.target||n;else{var i=t;t=new mt(r,n),dt(t,i)}if(i=!0,o)for(var e=o.length-1,d;0<=e;e--)d=t.a=o[e],i=B(d,r,!0,t)&&i;if(d=t.a=n,i=B(d,r,!0,t)&&i,i=B(d,r,!1,t)&&i,o)for(e=0;e<o.length;e++)d=t.a=o[e],i=B(d,r,!1,t)&&i;return i},t.w=function(){if(Pt.H.w.call(this),this.f){var t=this.f,n=0,o;for(o in t.a){for(var r=t.a[o],i=0;i<r.length;i++)++n,ft(r[i]);delete t.a[o],t.b--}}this.J=null},t.Ia=function(e,t,n,o){return this.f.add(e+"",t,!1,n,o)},t.Ja=function(e,t,n,o){return this.f.add(e+"",t,!0,n,o)};var fo={'"':"\\\"","\\":"\\\\","/":"\\/","":"\\b","":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},go=/\uffff/.test("\uFFFF")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;Ut.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var yo=new Ut(function(){return new Vt},function(e){e.reset()});jt.prototype.add=function(e,t){var n=yo.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Vt.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Vt.prototype.reset=function(){this.next=this.b=this.a=null};var bo;var _o=!1,vo=new jt,Eo;b(Kt,Pt),t=Kt.prototype,t.ea=!1,t.O=null,t.qb=function(){if(this.ea){var e=fa()-this.g;0<e&&e<.8*this.b?this.O=this.a.setTimeout(this.c,this.b-e):(this.O&&(this.a.clearTimeout(this.O),this.O=null),this.dispatchEvent("tick"),this.ea&&(this.O=this.a.setTimeout(this.c,this.b),this.g=fa()))}},t.start=function(){this.ea=!0,this.O||(this.O=this.a.setTimeout(this.c,this.b),this.g=fa())},t.w=function(){Kt.H.w.call(this),Gt(this),delete this.a};b(Yt,$),t=Yt.prototype,t.ha=!1,t.Y=null,t.cb=function(){this.a=arguments,this.Y?this.ha=!0:Xt(this)},t.w=function(){Yt.H.w.call(this),this.Y&&(ao.clearTimeout(this.Y),this.Y=null,this.ha=!1,this.a=[])},t.kb=function(){this.Y=null,this.ha&&(this.ha=!1,Xt(this))};b($t,$);var Co=[];$t.prototype.w=function(){$t.H.w.call(this),Zt(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},en.prototype.a=null;var To=0;en.prototype.reset=function(t,n,o,r,i){"number"==typeof i||To++,r||fa(),delete this.a},nn.prototype.toString=function(){return this.name};var Io=new nn("SEVERE",1E3),So=new nn("WARNING",900),ko=new nn("INFO",800),xo=new nn("CONFIG",700),No=new nn("FINE",500);tn.prototype.log=function(e,t,n){if(e.value>=C(this).value)for(m(t)&&(t=t()),e=new en(e,t+"",this.f),n&&(e.a=n),n=this;n;)n=n.a};var wo={},Ro=null;E.prototype.Fa=function(){this.b=!1};var Po=new Pt;b(un,mt),b(hn,mt),b(K,mt);var Ao={NO_ERROR:0,rb:1,yb:2,xb:3,ub:4,wb:5,zb:6,Ua:7,TIMEOUT:8,Cb:9},Do={tb:"complete",Gb:"success",Va:"error",Ua:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",vb:"downloadprogress",Hb:"uploadprogress"};bn.prototype.a=null;var Oo={OPEN:"a",sb:"b",Va:"c",Bb:"d"};b(En,mt),b(Cn,mt);var Mo;b(Tn,bn),Mo=new Tn;var Lo=45E3,Fo={},Uo={};t=kn.prototype,t.setTimeout=function(e){this.R=e},t.nb=function(e){e=e.target;var t=this.I;t&&3==re(e)?(pn(this.b,"Throttling readystatechange."),t.cb()):this.Sa(e)},t.Sa=function(e){try{e==this.a?Rn(this):on(this.b.a,"Called back with an unexpected xmlhttp")}catch(e){if(pn(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var t=this;H(this.b,e,function(){return"ResponseText: "+t.a.V()})}else H(this.b,e,"No response text")}finally{}},t.mb=function(){if(this.a){var e=re(this.a),t=this.a.V();this.G<t.length&&(Fn(this),An(this,e,t),this.f&&4!=e&&Mn(this))}},t.cancel=function(){this.B=!0,jn(this)},t.lb=function(){this.s=null;var e=fa();0<=e-this.U?(this.f&&F(this.b,"Received watchdog timeout even though request loaded successfully"),G(this.b,this.g),2!=this.J&&(mn(3),fn(17)),jn(this),this.m=2,Un(this)):(on(this.b.a,"WatchDog timer called too early"),Ln(this,this.U-e))};t=Wn.prototype,t.A=function(){Hn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},t.M=function(){return Hn(this),this.a.concat()},t.get=function(e,t){return Kn(this.b,e)?this.b[e]:t},t.set=function(e,t){Kn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},t.forEach=function(t,n){for(var o=this.M(),r=0;r<o.length;r++){var i=o[r],e=this.get(i);t.call(n,e,i,this)}};var jo=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Gn.prototype.toString=function(){var e=[],t=this.f;t&&e.push(oa(t,Bo,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(oa(t,Bo,!0),"@"),e.push(encodeURIComponent(n+"").replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.i,null!=n&&e.push(":",n+"")),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(oa(n,"/"==n.charAt(0)?qo:Vo,!0))),(n=this.c.toString())&&e.push("?",n),(n=this.g)&&e.push("#",oa(n,zo)),e.join("")},Gn.prototype.resolve=function(t){var n=Q(this),o=!!t.f;o?M(n,t.f):o=!!t.j,o?n.j=t.j:o=!!t.b,o?Qn(n,t.b):o=null!=t.i;var r=t.a;if(o)Yn(n,t.i);else if(o=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=n.a.lastIndexOf("/");-1!=i&&(r=n.a.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var e=[],s=0,d;s<i.length;)d=i[s++],"."==d?r&&s==i.length&&e.push(""):".."==d?((1<e.length||1==e.length&&""!=e[0])&&e.pop(),r&&s==i.length&&e.push("")):(e.push(d),r=!0);r=e.join("/")}else r=i}return o?n.a=r:o=""!==t.c.toString(),o?Xn(n,ua(t.c)):o=!!t.g,o&&(n.g=t.g),n};var Bo=/[#\/\?@]/g,Vo=/[#\?:]/g,qo=/[#\?]/g,Wo=/[#\?@]/g,zo=/#/g;t=sa.prototype,t.add=function(e,t){da(this),this.c=null,e=ma(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},t.forEach=function(e,t){da(this),this.a.forEach(function(n,o){qa(n,function(n){e.call(t,n,o,this)},this)},this)},t.M=function(){da(this);for(var t=this.a.A(),n=this.a.M(),o=[],r=0;r<n.length;r++)for(var i=t[r],e=0;e<i.length;e++)o.push(n[r]);return o},t.A=function(e){da(this);var t=[];if(s(e))la(this,e)&&(t=et(t,this.a.get(ma(this,e))));else{e=this.a.A();for(var n=0;n<e.length;n++)t=et(t,e[n])}return t},t.set=function(e,t){return da(this),this.c=null,e=ma(this,e),la(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},t.get=function(e,t){return e=e?this.A(e):[],0<e.length?e[0]+"":t},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],n=this.a.M(),o=0;o<n.length;o++){var r=n[o],i=encodeURIComponent(r+"");r=this.A(r);for(var e=0,s;e<r.length;e++)s=i,""!==r[e]&&(s+="="+encodeURIComponent(r[e]+"")),t.push(s)}return this.c=t.join("&")};var Ho=null;ga.prototype.set=function(e){this.a=e},ga.prototype.reset=function(){this.set(fa())},ga.prototype.get=function(){return this.a},b(_a,ba),t=va.prototype,t.P=null,t.ca=function(e){return this.a.ca(e)},t.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},t.La=function(){return!1},t.Oa=function(e,t){if(this.f=e.C,0==this.P){if(pn(this.b,"TestConnection: Got data for stage 1"),!this.a.o&&(e=e.a)){var n=N(e,"X-Client-Wire-Protocol");this.l=n?n:null,this.a.j&&((e=N(e,"X-HTTP-Session-Id"))?this.a.K=e:on(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(t){try{var o=this.a.la.a.parse(t)}catch(t){return H(this.b,t),void ja(this.a,this)}this.g=o[0]}else pn(this.b,"TestConnection: Null responseText"),ja(this.a,this)}else 1==this.P&&(this.h?fn(6):"11111"==t?(fn(5),this.h=!0,!La||10<=+Xa)&&(this.f=200,this.c.cancel(),pn(this.b,"Test connection succeeded; using streaming connection"),fn(11),Le(this.a,this,!0)):(fn(7),this.h=!1))},t.ta=function(){this.f=this.c.C,this.c.f?0==this.P?(this.P=1,pn(this.b,"TestConnection: request complete for initial check"),Ea(this)):1==this.P&&(pn(this.b,"TestConnection: request complete for stage 2"),this.h?(pn(this.b,"Test connection succeeded; using streaming connection"),fn(11),Le(this.a,this,!0)):(pn(this.b,"Test connection failed; not using streaming"),fn(10),Le(this.a,this,!1))):(pn(this.b,"TestConnection: request failed, in state "+this.P),0==this.P?fn(8):1==this.P&&fn(9),ja(this.a,this))},t.ia=function(){return this.a.ia()},t.qa=function(){return this.a.qa()};Ia.prototype.add=function(e){this.a.set(ka(e),e)},Ia.prototype.A=function(){return this.a.A()};var Ko=10;wa.prototype.cancel=function(){this.c=fe(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(qa(this.a.A(),function(e){e.cancel()}),O(this.a.a))};he.prototype.stringify=function(e){return ao.JSON.stringify(e,void 0)},he.prototype.parse=function(e){return ao.JSON.parse(e,void 0)};b(me,Pt);var ae="";me.prototype.b=an("goog.net.XhrIo");var ne=/^https?$/i,oe=["POST","PUT"];t=me.prototype,t.fa=function(t,n,o,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);n=n?n.toUpperCase():"GET",this.B=t,this.g="",this.j=0,this.K=n,this.G=!1,this.c=!0,this.a=this.s?In(this.s):In(Mo),this.D=this.s?_n(this.s):_n(Mo),this.a.onreadystatechange=j(this.Na,this);try{rn(this.b,Fa(this,"Opening Xhr")),this.I=!0,this.a.open(n,t+"",!0),this.I=!1}catch(e){return rn(this.b,Fa(this,"Error opening Xhr: "+e.message)),void ta(this,e)}t=o||"";var i=new Wn(this.headers);r&&qn(r,function(e,t){i.set(t,e)}),r=w(i.M()),o=ao.FormData&&t instanceof ao.FormData,!(0<=pa(oe,n))||r||o||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.a.setRequestHeader(t,e)},this),this.L&&(this.a.responseType=this.L),"withCredentials"in this.a&&this.a.withCredentials!==this.o&&(this.a.withCredentials=this.o);try{ue(this),0<this.l&&(this.v=T(this.a),rn(this.b,Fa(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.v)),this.v?(this.a.timeout=this.l,this.a.ontimeout=j(this.Ka,this)):this.C=Qt(this.Ka,this.l,this)),rn(this.b,Fa(this,"Sending request")),this.u=!0,this.a.send(t),this.u=!1}catch(e){rn(this.b,Fa(this,"Send error: "+e.message)),ta(this,e)}},t.Ka=function(){"undefined"!=typeof no&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,rn(this.b,Fa(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(e){this.a&&this.c&&(rn(this.b,Fa(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ve(this))},t.w=function(){this.a&&(this.c&&(this.c=!1,this.h=!0,this.a.abort(),this.h=!1),ve(this,!0)),me.H.w.call(this)},t.Na=function(){this.i||(this.I||this.u||this.h?te(this):this.jb())},t.jb=function(){te(this)},t.W=function(){try{return 2<re(this)?this.a.status:-1}catch(e){return-1}},t.Ha=function(){try{return 2<re(this)?this.a.statusText:""}catch(e){return rn(this.b,"Can not get status: "+e.message),""}},t.V=function(){try{return this.a?this.a.responseText:""}catch(e){return rn(this.b,"Can not get responseText: "+e.message),""}},t.eb=function(e){if(this.a){var t=this.a.responseText;e&&0==t.indexOf(e)&&(t=t.substring(e.length));a:{if(e=t,ao.JSON)try{var n=ao.JSON.parse(e);break a}catch(e){}n=Dt(e)}return n}},t.Ga=function(){return this.j},t.hb=function(){return s(this.g)?this.g:this.g+""};t=xe.prototype,t.na=8,t.F=1,t.La=function(){return 0==this.F},t.Qa=function(t){if(this.m=null,pn(this.a,"startForwardChannel_"),1!=this.F)3==this.F&&(t?Ge(this,t):0==this.g.length?pn(this.a,"startForwardChannel_ returned: nothing to send"):be(this.c)?F(this.a,"startForwardChannel_ returned: connection already in progress"):(Ge(this),pn(this.a,"startForwardChannel_ finished, sent request")));else if(t)F(this.a,"Not supposed to retry the open");else{pn(this.a,"open_()"),this.R=r(1E5*Math.random()),t=this.R++;var n=new kn(this,this.a,t,void 0),o=this.i;this.L&&(o?(o=st(o),dt(o,this.L)):o=this.L),null===this.h&&(n.j=o);var i=Be(this,n),s=Q(this.D);$n(s,"RID",t),$n(s,"CVER",22),this.o&&this.j&&$n(s,"X-HTTP-Session-Id",this.j),Je(this,s),this.h&&o&&we(s,this.h,o),ee(this.c,n),this.va?($n(s,"$req",i),$n(s,"SID","null"),n.X=!0,xn(n,s,null)):xn(n,s,i),this.F=2}},t.Pa=function(){this.l=null,pn(this.a,"Creating new HttpRequest"),this.b=new kn(this,this.a,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.N=0;var e=Q(this.ua);$n(e,"RID","rpc"),$n(e,"SID",this.J),$n(e,"CI",this.ka?"0":"1"),$n(e,"AID",this.N),Je(this,e),$n(e,"TYPE","xmlhttp"),this.h&&this.i&&we(e,this.h,this.i),this.G&&this.b.setTimeout(this.G),Nn(this.b,e,!0,this.X),pn(this.a,"New Request created")},t.Oa=function(t,n){if(0!=this.F&&(this.b==t||de(this.c,t)))if(this.u=t.C,!t.v&&de(this.c,t)&&3==this.F){try{var o=this.la.a.parse(n)}catch(e){o=null}if(!(_(o)&&3==o.length))pn(this.a,"Bad POST response data returned"),He(this,11);else if(n=o,0==n[0]){a:if(pn(this.a,"Server claims our backchannel is missing."),this.l)pn(this.a,"But we are currently starting the request.");else{if(!this.b)on(this.a.a,"We do not have a BackChannel established");else if(this.b.D+3E3<t.D)Va(this),this.b.cancel(),this.b=null;else break a;Ke(this),fn(18)}}else this.xa=n[1],t=this.xa-this.N,0<t&&(n=n[2],pn(this.a,n+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>n&&this.ka&&0==this.B&&!this.s&&(this.s=yn(j(this.ib,this),6E3)))}else if((t.v||this.b==t)&&Va(this),!nt(n))for(n=o=this.la.a.parse(n),o=0;o<n.length;o++){var r=n[o];if(this.N=r[0],r=r[1],2!=this.F)3==this.F&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?He(this,7):ye(this):"noop"!=r[0]&&this.f&&this.f.Ca(r),this.B=0);else if("c"==r[0]){this.J=r[1],this.X=r[2];var i=r[3];null!=i&&(this.na=i,cn(this.a,"VER="+this.na)),i=r[4],null!=i&&(this.ya=i,cn(this.a,"SVER="+this.ya)),r=r[5],null!=r&&"number"==typeof r&&0<r&&(this.G=r*=1.5,cn(this.a,"backChannelRequestTimeoutMs_="+r)),this.o&&(r=t.a)&&((i=N(r,"X-Client-Wire-Protocol"))&&Da(this.c,i),this.j&&((r=N(r,"X-HTTP-Session-Id"))?(this.K=r,$n(this.D,this.j,r)):on(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.F=3,this.f&&this.f.Da(),r=t,this.ua=Me(this,this.X,this.ja),r.v?(pn(this.a,"Upgrade the handshake request to a backchannel."),ce(this.c,r),(i=this.G)&&r.setTimeout(i),r.s&&(Fn(r),Mn(r)),this.b=r):Ie(this)}else"stop"!=r[0]&&"close"!=r[0]||He(this,7)}},t.ib=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,Ke(this),fn(19))},t.ta=function(t){pn(this.a,"Request complete");var n=null;if(this.b==t){Va(this),this.b=null;var o=2}else if(de(this.c,t))n=t.u,ce(this.c,t),o=1;else return;if(this.u=t.C,0!=this.F)if(t.f)1==o?(gn(t.l?t.l.length:0,fa()-t.D,this.v),Ee(this)):Ie(this);else{var r=t.m;if(3==r||0==r&&0<this.u)pn(this.a,"Not retrying due to error type");else{var i=this;if(pn(this.a,function(){return"Maybe retrying, last error: "+L(r,i.u)}),1==o&&Fe(this,t)||2==o&&Ke(this))return;pn(this.a,"Exceeded max number of retries")}n&&0<n.length&&ge(this.c,n),pn(this.a,"Error: HTTP request failed"),1===r?He(this,5):4===r?He(this,10):3===r?He(this,6):He(this,2)}},t.pb=function(e){e?(cn(this.a,"Successfully pinged google.com"),fn(2)):(cn(this.a,"Failed to ping google.com"),fn(1))},t.ca=function(e){if(e&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return e=new me(this.Ta),e.o=this.S,e},t.qa=function(){return!!this.f&&!0},t.ia=function(){return this.S},new _a,t=Ne.prototype,t.Da=function(){},t.Ca=function(){},t.Ba=function(){},t.Aa=function(){},t.ab=function(){};Pe.prototype.a=function(e,t){return new Qe(e,t)},b(Qe,Pt),t=Qe.prototype,t.addEventListener=function(e,t,n,o){Qe.H.addEventListener.call(this,e,t,n,o)},t.removeEventListener=function(e,t,n,o){Qe.H.removeEventListener.call(this,e,t,n,o)},t.fb=function(){this.a.f=this.h,this.l&&(this.a.S=!0);var e=this.a,t=this.o,n=this.b,o=this.g||void 0;pn(e.a,"connect()"),fn(0),e.ja=n,e.U=o||{},e.o&&(pn(e.a,"connect() bypassed channel-test."),e.I.b=[],e.I.a=!1),pn(e.a,"connectTest_()"),e.C=new va(e,e.a),null===e.h&&(e.C.i=e.i),n=t,e.h&&e.i&&(n=we(t,e.h,e.i)),e=e.C,e.m=n,t=Ce(e.a,e.m),fn(3),n=e.a.I.b,null==n?(R(t,"MODE","init"),!e.a.o&&e.a.j&&R(t,"X-HTTP-Session-Id",e.a.j),e.c=new kn(e,e.b,void 0,void 0),e.c.j=e.i,Nn(e.c,t,!1,null),e.P=0):(e.g=n[0],e.P=1,Ea(e))},t.close=function(){ye(this.a)},t.gb=function(e){if(s(e)){var t={};t.__data__=e,Ae(this.a,t)}else this.j?(t={},t.__data__=Ot(e),Ae(this.a,t)):Ae(this.a,e)},t.w=function(){this.a.f=null,delete this.h,ye(this.a),delete this.a,Qe.H.w.call(this)},b(W,En),b(Se,Cn),b(Te,Ne),Te.prototype.Da=function(){D(this.a.c,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Te.prototype.Ca=function(e){this.a.dispatchEvent(new W(e))},Te.prototype.Ba=function(e){D(this.a.c,"WebChannel aborted on "+this.a.b+" due to channel error: "+e),this.a.dispatchEvent(new Se(e))},Te.prototype.Aa=function(){D(this.a.c,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var pe=f(function(e){function t(){}t.prototype=e.prototype;var n=new t;return e.apply(n,Array.prototype.slice.call(arguments,1)),n},Pe);Re.prototype.A=function(){for(var e=[],t=this.b.length-1;0<=t;--t)e.push(this.b[t]);var n=this.a.length;for(t=0;t<n;++t)e.push(this.a[t]);return e},b(Xe,$);var Go="[goog.structs.Pool] Min can not be greater than max";t=Xe.prototype,t.da=function(){var e=fa();if(!(null!=this.g&&0>e-this.g)){for(var t;0<We(this.a)&&(t=Ve(this.a),!this.sa(t));)this.aa();return!t&&Ha(this)<this.c&&(t=this.pa()),t&&(this.g=e,this.b.add(t)),t}},t.ob=function(e){return!!zn(this.b.a,ka(e))&&(this.ma(e),!0)},t.ma=function(e){zn(this.b.a,ka(e)),this.sa(e)&&Ha(this)<this.c?this.a.a.push(e):Ye(e)},t.aa=function(){for(var e=this.a,t;Ha(this)<this.h;)t=this.pa(),e.a.push(t);for(;Ha(this)>this.c&&0<We(this.a);)Ye(Ve(e))},t.pa=function(){return{}},t.sa=function(e){return"function"!=typeof e.bb||e.bb()},t.w=function(){if(Xe.H.w.call(this),0<this.b.a.c)throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var e=this.a;0!=e.b.length||0!=e.a.length;)Ye(Ve(e));delete this.a};Qa.prototype.A=function(){for(var e=this.a,t=[],n=e.length,o=0;o<n;o++)t.push(e[o].b);return t},Qa.prototype.M=function(){for(var e=this.a,t=[],n=e.length,o=0;o<n;o++)t.push(e[o].a);return t},b(eo,Qa),b(to,Xe),t=to.prototype,t.da=function(e,t){return e?void(Ja(this.f,void 0===t?100:t,e),this.ra()):to.H.da.call(this)},t.ra=function(){for(var t=this.f,n;0<t.a.length&&(n=this.da(),n);){var o=t,r=o.a,i=r.length,e=r[0];if(0>=i)e=void 0;else{if(1==i)_e(r);else{r[0]=r.pop(),r=0,o=o.a,i=o.length;for(var s=o[r];r<i>>1;){var d=2*r+1,l=2*r+2;if(d=l<i&&o[l].a<o[d].a?l:d,o[d].a>s.a)break;o[r]=o[d],r=d}o[r]=s}e=e.b}e.apply(this,[n])}},t.ma=function(e){to.H.ma.call(this,e),this.ra()},t.aa=function(){to.H.aa.call(this),this.ra()},t.w=function(){to.H.w.call(this),ao.clearTimeout(void 0),_e(this.f.a),this.f=null},b(Y,to),Y.prototype.pa=function(){var e=new me,t=this.l;return t&&t.forEach(function(t,n){e.headers.set(n,t)}),this.j&&(e.o=!0),e},Y.prototype.sa=function(e){return!e.i&&!e.a},Pe.prototype.createWebChannel=Pe.prototype.a,Qe.prototype.send=Qe.prototype.gb,Qe.prototype.open=Qe.prototype.fb,Qe.prototype.close=Qe.prototype.close,Ao.NO_ERROR=0,Ao.TIMEOUT=8,Ao.HTTP_ERROR=6,Do.COMPLETE="complete",vn.EventType=Oo,Oo.OPEN="a",Oo.CLOSE="b",Oo.ERROR="c",Oo.MESSAGE="d",Pt.prototype.listen=Pt.prototype.Ia,Y.prototype.getObject=Y.prototype.da,Y.prototype.releaseObject=Y.prototype.ob,me.prototype.listenOnce=me.prototype.Ja,me.prototype.getLastError=me.prototype.hb,me.prototype.getLastErrorCode=me.prototype.Ga,me.prototype.getStatus=me.prototype.W,me.prototype.getStatusText=me.prototype.Ha,me.prototype.getResponseJson=me.prototype.eb,me.prototype.getResponseText=me.prototype.V,me.prototype.getResponseText=me.prototype.V,me.prototype.send=me.prototype.fa,o.exports={createWebChannelTransport:pe,ErrorCode:Ao,EventType:Do,WebChannel:vn,XhrIoPool:Y}}).call("undefined"==typeof e?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:e)}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],9:[function(e,t){var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=n},{}],10:[function(e,t){(function(){"use strict";function e(){for(var t=[],o=0,r;o<arguments.length;o++)if(r=arguments[o],r){var i=typeof r;if("string"==i||"number"==i)t.push(r);else if(Array.isArray(r)&&r.length){var s=e.apply(null,r);s&&t.push(s)}else if("object"==i)for(var d in r)n.call(r,d)&&r[d]&&t.push(d)}return t.join(" ")}var n={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?(e.default=e,t.exports=e):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],function(){return e}):window.classNames=e})()},{}],11:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){return e}var o=e("object-assign"),r=e("fbjs/lib/emptyObject"),i=e("fbjs/lib/invariant");var s="mixins",d;d={},t.exports=function(e,t,d){function l(e,t){var n=b.hasOwnProperty(t)?b[t]:null;T.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function p(e,n){if(!n){return}i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var o=e.prototype,r=o.__reactAutoBindPairs;for(var d in n.hasOwnProperty(s)&&v.mixins(e,n.mixins),n)if(n.hasOwnProperty(d)&&d!=s){var p=n[d],c=o.hasOwnProperty(d);if(l(c,d),v.hasOwnProperty(d))v[d](e,p);else{var u=b.hasOwnProperty(d),f="function"==typeof p&&!u&&!c&&!1!==n.autobind;if(f)r.push(d,p),o[d]=p;else if(c){var g=b[d];i(u&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,d),"DEFINE_MANY_MERGED"===g?o[d]=m(o[d],p):"DEFINE_MANY"===g&&(o[d]=h(o[d],p))}else o[d]=p,!1}}}function c(e,t){if(t)for(var n in t){var o=t[n];if(t.hasOwnProperty(n)){i(!(n in v),"ReactClass: You are attempting to define a reserved property, `%s`, that shouldn't be on the \"statics\" key. Define it as an instance property instead; it will still be accessible on the constructor.",n);if(n in e){var r=_.hasOwnProperty(n)?_[n]:null;return i("DEFINE_MANY_MERGED"===r,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=m(e[n],o))}e[n]=o}}}function u(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function m(e,t){return function(){var n=e.apply(this,arguments),o=t.apply(this,arguments);if(null==n)return o;if(null==o)return n;var r={};return u(r,n),u(r,o),r}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function f(e,t){var n=t.bind(e);return n}function g(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var o=t[n],r=t[n+1];e[o]=f(e,r)}}var y=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},_={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},v={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)p(e,t[n])},childContextTypes:function(e,t){!1,e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){!1,e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps=e.getDefaultProps?m(e.getDefaultProps,t):t},propTypes:function(e,t){!1,e.propTypes=o({},e.propTypes,t)},statics:function(e,t){c(e,t)},autobind:function(){}},E={componentDidMount:function(){this.__isMounted=!0}},C={componentWillUnmount:function(){this.__isMounted=!1}},T={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!1,!!this.__isMounted}},I=function(){};return o(I.prototype,e.prototype,T),function(e){var t=n(function(e,n,o){!1,this.__reactAutoBindPairs.length&&g(this),this.props=e,this.context=n,this.refs=r,this.updater=o||d,this.state=null;var s=this.getInitialState?this.getInitialState():null;!1,i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s});for(var o in t.prototype=new I,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],y.forEach(p.bind(null,t)),p(t,E),p(t,e),p(t,C),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),!1,i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),!1,b)t.prototype[o]||(t.prototype[o]=null);return t}}},{"fbjs/lib/emptyObject":22,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"object-assign":190}],12:[function(e,t){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&o.rotl(e,8)|4278255360&o.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=o.endian(e[t]);return e},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,o=0;n<e.length;n++,o+=8)t[o>>>5]|=e[n]<<24-o%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(255&e[n>>>5]>>>24-n%32);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(t){for(var n=[],o=0,r;o<t.length;o+=3){r=t[o]<<16|t[o+1]<<8|t[o+2];for(var i=0;4>i;i++)8*o+6*i<=8*t.length?n.push(e.charAt(63&r>>>6*(3-i))):n.push("=")}return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],o=0,r=0;o<t.length;r=++o%4)0!=r&&n.push((e.indexOf(t.charAt(o-1))&Math.pow(2,-2*r+8)-1)<<2*r|e.indexOf(t.charAt(o))>>>6-2*r);return n}};t.exports=o})()},{}],13:[function(e,t){var n=Math.abs;(function(){"use strict";/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */function e(t,n){function o(e,t){return function(){return e.apply(t,arguments)}}var s;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=t,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!e.notNeeded(t)){for(var d=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],p=this,c=0,i=d.length;c<i;c++)p[d[c]]=o(p[d[c]],p);r&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,o){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,o):r.call(t,e,n,o)},t.addEventListener=function(e,n,o){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),o):r.call(t,e,n,o)}),"function"==typeof t.onclick&&(s=t.onclick,t.addEventListener("click",function(e){s(e)},!1),t.onclick=null)}}var o=0<=navigator.userAgent.indexOf("Windows Phone"),r=0<navigator.userAgent.indexOf("Android")&&!o,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,s=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),d=i&&/OS [6-7]_\d/.test(navigator.userAgent),l=0<navigator.userAgent.indexOf("BB10");e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0;}return /\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!r;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1;}return!e.disabled&&!e.readOnly;default:return /\bneedsfocus\b/.test(e.className);}},e.prototype.sendClick=function(e,t){var n,o;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),o=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return r&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,o;if(1<e.targetTouches.length)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!s){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],o=this.touchBoundary;return n(t.pageX-this.touchStartX)>o||n(t.pageY-this.touchStartY)>o},e.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(e){return void 0===e.control?e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea"):e.control},e.prototype.onTouchEnd=function(e){var t=this.targetElement,n,o,l,p,c;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,d&&(c=e.changedTouches[0],t=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||t,t.fastClickScrollParent=this.targetElement.fastClickScrollParent),l=t.tagName.toLowerCase(),"label"===l){if(n=this.findControl(t),n){if(this.focus(t),r)return!1;t=n}}else if(this.needsFocus(t))return 100<e.timeStamp-o||i&&window.top!==window&&"input"===l?(this.targetElement=null,!1):(this.focus(t),this.sendClick(t,e),i&&"select"===l||(this.targetElement=null,e.preventDefault()),!1);return i&&!s&&(p=t.fastClickScrollParent,p&&p.fastClickLastScrollTop!==p.scrollTop)||(this.needsClick(t)||(e.preventDefault(),this.sendClick(t,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return!this.targetElement||!!e.forwardedTouchEvent||!e.cancelable||(!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0)},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;r&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,n,o,i;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],n){if(!r)return!0;if(t=document.querySelector("meta[name=viewport]"),t){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(31<n&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(l&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),10<=o[1]&&3<=o[2]&&(t=document.querySelector("meta[name=viewport]"),t))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(i=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],27<=i&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===e.style.touchAction||"manipulation"===e.style.touchAction)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof t&&t.exports?(t.exports=e.attach,t.exports.FastClick=e):window.FastClick=e})()},{}],14:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=e("./emptyFunction");t.exports={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,o){return e.addEventListener?(e.addEventListener(t,o,!0),{remove:function(){e.removeEventListener(t,o,!0)}}):(!1,{remove:n})},registerDefault:function(){}}},{"./emptyFunction":21}],15:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=!!("undefined"!=typeof window&&window.document&&window.document.createElement),o={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!!(window.addEventListener||window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=o},{}],16:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=/-(.)/g;t.exports=function(e){return e.replace(n,function(e,t){return t.toUpperCase()})}},{}],17:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */"use strict";var n=e("./camelize"),o=/^-ms-/;t.exports=function(e){return n(e.replace(o,"ms-"))}},{"./camelize":16}],18:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */function n(e,t){return e&&t&&(e===t||!o(e)&&(o(t)?n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=e("./isTextNode");t.exports=n},{"./isTextNode":31}],19:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */function n(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?r(!1):void 0,"number"==typeof t?void 0:r(!1),0===t||t-1 in e?void 0:r(!1),"function"==typeof e.callee?r(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(t){}// so will not preserve sparsely populated inputs.
for(var n=Array(t),o=0;o<t;o++)n[o]=e[o];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}var r=e("./invariant");t.exports=function(e){return o(e)?Array.isArray(e)?e.slice():n(e):[e]}},{"./invariant":29}],20:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */function n(e){var t=e.match(l);return t&&t[1].toLowerCase()}var o=e("./ExecutionEnvironment"),r=e("./createArrayFromMixed"),i=e("./getMarkupWrap"),s=e("./invariant"),d=o.canUseDOM?document.createElement("div"):null,l=/^\s*<(\w+)/;t.exports=function(e,t){var o=d;!!d?void 0:s(!1);var l=n(e),p=l&&i(l);if(p){o.innerHTML=p[1]+e+p[2];for(var c=p[0];c--;)o=o.lastChild}else o.innerHTML=e;var u=o.getElementsByTagName("script");u.length&&(t?void 0:s(!1),r(u).forEach(t));for(var m=Array.from(o.childNodes);o.lastChild;)o.removeChild(o.lastChild);return m}},{"./ExecutionEnvironment":15,"./createArrayFromMixed":19,"./getMarkupWrap":25,"./invariant":29}],21:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],22:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";!1,t.exports={}},{}],23:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports=function(e){try{e.focus()}catch(t){}}},{}],24:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */t.exports=function(e){if(e=e||("undefined"==typeof document?void 0:document),"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}},{}],25:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */var n=e("./ExecutionEnvironment"),o=e("./invariant"),r=n.canUseDOM?document.createElement("div"):null,i={},s=[1,"<select multiple=\"true\">","</select>"],d=[1,"<table>","</table>"],l=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,"<svg xmlns=\"http://www.w3.org/2000/svg\">","</svg>"],c={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:l,th:l};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){c[e]=p,i[e]=!0}),t.exports=function(e){return r?void 0:o(!1),c.hasOwnProperty(e)||(e="*"),i.hasOwnProperty(e)||(r.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",i[e]=!r.firstChild),i[e]?c[e]:null}},{"./ExecutionEnvironment":15,"./invariant":29}],26:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */"use strict";t.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},{}],27:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=/([A-Z])/g;t.exports=function(e){return e.replace(n,"-$1").toLowerCase()}},{}],28:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */"use strict";var n=e("./hyphenate"),o=/^ms-/;t.exports=function(e){return n(e).replace(o,"-ms-")}},{"./hyphenate":27}],29:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=function(){};!1,t.exports=function(t,o,r,i,s,l,d,e){if(n(o),!t){var p;if(void 0===o)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,s,l,d,e],u=0;p=new Error(o.replace(/%s/g,function(){return c[u++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}}},{}],30:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */t.exports=function(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!!(e&&("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},{}],31:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=e("./isNode");t.exports=function(e){return n(e)&&3==e.nodeType}},{"./isNode":30}],32:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 * @typechecks static-only
 */"use strict";t.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},{}],33:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */"use strict";var n=e("./ExecutionEnvironment"),o;n.canUseDOM&&(o=window.performance||window.msPerformance||window.webkitPerformance),t.exports=o||{}},{"./ExecutionEnvironment":15}],34:[function(e,t){"use strict";/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=e("./performance"),o;o=n.now?function(){return n.now()}:function(){return Date.now()},t.exports=o},{"./performance":33}],35:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}var o=Object.prototype.hasOwnProperty;t.exports=function(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(var d=0;d<r.length;d++)if(!o.call(t,r[d])||!n(e[r[d]],t[r[d]]))return!1;return!0}},{}],36:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./emptyFunction");t.exports=n},{"./emptyFunction":21}],37:[function(e,t){e("@firebase/polyfill"),t.exports=e("@firebase/app").default},{"@firebase/app":1,"@firebase/polyfill":6}],38:[function(e){e("@firebase/auth")},{"@firebase/auth":2}],39:[function(e,t){t.exports=e("@firebase/database")},{"@firebase/database":3}],40:[function(e){e("@firebase/firestore")},{"@firebase/firestore":4}],41:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"use strict";t.exports=function(t,n,o,r,i,s,d,e){if(!t){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[o,r,i,s,d,e],c=0;l=new Error(n.replace(/%s/g,function(){return p[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}},{}],42:[function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function o(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}t.exports=function(e){return null!=e&&(n(e)||o(e)||!!e._isBuffer)}},{}],43:[function(e,t){var n=e("./_getNative"),o=e("./_root"),r=n(o,"DataView");t.exports=r},{"./_getNative":107,"./_root":145}],44:[function(e,t){function n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var o=e("./_hashClear"),r=e("./_hashDelete"),i=e("./_hashGet"),s=e("./_hashHas"),d=e("./_hashSet");n.prototype.clear=o,n.prototype["delete"]=r,n.prototype.get=i,n.prototype.has=s,n.prototype.set=d,t.exports=n},{"./_hashClear":113,"./_hashDelete":114,"./_hashGet":115,"./_hashHas":116,"./_hashSet":117}],45:[function(e,t){function n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var o=e("./_listCacheClear"),r=e("./_listCacheDelete"),i=e("./_listCacheGet"),s=e("./_listCacheHas"),d=e("./_listCacheSet");n.prototype.clear=o,n.prototype["delete"]=r,n.prototype.get=i,n.prototype.has=s,n.prototype.set=d,t.exports=n},{"./_listCacheClear":126,"./_listCacheDelete":127,"./_listCacheGet":128,"./_listCacheHas":129,"./_listCacheSet":130}],46:[function(e,t){var n=e("./_getNative"),o=e("./_root"),r=n(o,"Map");t.exports=r},{"./_getNative":107,"./_root":145}],47:[function(e,t){function n(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var o=e("./_mapCacheClear"),r=e("./_mapCacheDelete"),i=e("./_mapCacheGet"),s=e("./_mapCacheHas"),d=e("./_mapCacheSet");n.prototype.clear=o,n.prototype["delete"]=r,n.prototype.get=i,n.prototype.has=s,n.prototype.set=d,t.exports=n},{"./_mapCacheClear":131,"./_mapCacheDelete":132,"./_mapCacheGet":133,"./_mapCacheHas":134,"./_mapCacheSet":135}],48:[function(e,t){var n=e("./_getNative"),o=e("./_root"),r=n(o,"Promise");t.exports=r},{"./_getNative":107,"./_root":145}],49:[function(e,t){var n=e("./_getNative"),o=e("./_root"),r=n(o,"Set");t.exports=r},{"./_getNative":107,"./_root":145}],50:[function(e,t){function n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new o;++t<n;)this.add(e[t])}var o=e("./_MapCache"),r=e("./_setCacheAdd"),i=e("./_setCacheHas");n.prototype.add=n.prototype.push=r,n.prototype.has=i,t.exports=n},{"./_MapCache":47,"./_setCacheAdd":146,"./_setCacheHas":147}],51:[function(e,t){function n(e){var t=this.__data__=new o(e);this.size=t.size}var o=e("./_ListCache"),r=e("./_stackClear"),i=e("./_stackDelete"),s=e("./_stackGet"),d=e("./_stackHas"),l=e("./_stackSet");n.prototype.clear=r,n.prototype["delete"]=i,n.prototype.get=s,n.prototype.has=d,n.prototype.set=l,t.exports=n},{"./_ListCache":45,"./_stackClear":151,"./_stackDelete":152,"./_stackGet":153,"./_stackHas":154,"./_stackSet":155}],52:[function(e,t){var n=e("./_root"),o=n.Symbol;t.exports=o},{"./_root":145}],53:[function(e,t){var n=e("./_root"),o=n.Uint8Array;t.exports=o},{"./_root":145}],54:[function(e,t){var n=e("./_getNative"),o=e("./_root"),r=n(o,"WeakMap");t.exports=r},{"./_getNative":107,"./_root":145}],55:[function(e,t){t.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);}return e.apply(t,n)}},{}],56:[function(e,t){t.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var s=e[n];t(s,n,e)&&(i[r++]=s)}return i}},{}],57:[function(e,t){var n=e("./_baseTimes"),o=e("./isArguments"),r=e("./isArray"),i=e("./isBuffer"),s=e("./_isIndex"),d=e("./isTypedArray"),l=Object.prototype,p=l.hasOwnProperty;t.exports=function(e,t){var l=r(e),c=!l&&o(e),u=!l&&!c&&i(e),m=!l&&!c&&!u&&d(e),h=l||c||u||m,f=h?n(e.length,String):[],g=f.length;for(var y in e)(t||p.call(e,y))&&!(h&&("length"==y||u&&("offset"==y||"parent"==y)||m&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,g)))&&f.push(y);return f}},{"./_baseTimes":88,"./_isIndex":119,"./isArguments":166,"./isArray":167,"./isBuffer":169,"./isTypedArray":175}],58:[function(e,t){t.exports=function(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}},{}],59:[function(e,t){t.exports=function(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}},{}],60:[function(e,t){t.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}},{}],61:[function(e,t){var n=e("./eq");t.exports=function(e,t){for(var o=e.length;o--;)if(n(e[o][0],t))return o;return-1}},{"./eq":160}],62:[function(e,t){var n=e("./_baseForOwn"),o=e("./_createBaseEach"),r=o(n);t.exports=r},{"./_baseForOwn":66,"./_createBaseEach":96}],63:[function(e,t){t.exports=function(e,t,n,o){for(var r=e.length,i=n+(o?1:-1);o?i--:++i<r;)if(t(e[i],i,e))return i;return-1}},{}],64:[function(e,t){function n(e,t,i,s,d){var l=-1,p=e.length;for(i||(i=r),d||(d=[]);++l<p;){var c=e[l];0<t&&i(c)?1<t?n(c,t-1,i,s,d):o(d,c):!s&&(d[d.length]=c)}return d}var o=e("./_arrayPush"),r=e("./_isFlattenable");t.exports=n},{"./_arrayPush":59,"./_isFlattenable":118}],65:[function(e,t){var n=e("./_createBaseFor"),o=n();t.exports=o},{"./_createBaseFor":97}],66:[function(e,t){var n=e("./_baseFor"),o=e("./keys");t.exports=function(e,t){return e&&n(e,t,o)}},{"./_baseFor":65,"./keys":176}],67:[function(e,t){var n=e("./_castPath"),o=e("./_toKey");t.exports=function(e,t){t=n(t,e);for(var r=0,i=t.length;null!=e&&r<i;)e=e[o(t[r++])];return r&&r==i?e:void 0}},{"./_castPath":92,"./_toKey":157}],68:[function(e,t){var n=e("./_arrayPush"),o=e("./isArray");t.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},{"./_arrayPush":59,"./isArray":167}],69:[function(e,t){var n=e("./_Symbol"),o=e("./_getRawTag"),r=e("./_objectToString"),i=n?n.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):r(e)}},{"./_Symbol":52,"./_getRawTag":108,"./_objectToString":142}],70:[function(e,t){t.exports=function(e,t){return null!=e&&t in Object(e)}},{}],71:[function(e,t){var n=e("./_baseGetTag"),o=e("./isObjectLike");t.exports=function(e){return o(e)&&n(e)=="[object Arguments]"}},{"./_baseGetTag":69,"./isObjectLike":173}],72:[function(e,t){function n(e,t,i,s,d){return!(e!==t)||(null!=e&&null!=t&&(r(e)||r(t))?o(e,t,i,s,n,d):e!==e&&t!==t)}var o=e("./_baseIsEqualDeep"),r=e("./isObjectLike");t.exports=n},{"./_baseIsEqualDeep":73,"./isObjectLike":173}],73:[function(e,t){var n=e("./_Stack"),o=e("./_equalArrays"),r=e("./_equalByTag"),i=e("./_equalObjects"),s=e("./_getTag"),d=e("./isArray"),l=e("./isBuffer"),p=e("./isTypedArray"),c="[object Arguments]",u="[object Array]",m="[object Object]",h=Object.prototype,f=h.hasOwnProperty;t.exports=function(e,t,h,g,y,b){var _=d(e),v=d(t),E=_?u:s(e),C=v?u:s(t);E=E==c?m:E,C=C==c?m:C;var T=E==m,I=C==m,S=E==C;if(S&&l(e)){if(!l(t))return!1;_=!0,T=!1}if(S&&!T)return b||(b=new n),_||p(e)?o(e,t,h,g,y,b):r(e,t,E,h,g,y,b);if(!(h&1)){var k=T&&f.call(e,"__wrapped__"),x=I&&f.call(t,"__wrapped__");if(k||x){var N=k?e.value():e,w=x?t.value():t;return b||(b=new n),y(N,w,h,g,b)}}return!!S&&(b||(b=new n),i(e,t,h,g,y,b))}},{"./_Stack":51,"./_equalArrays":100,"./_equalByTag":101,"./_equalObjects":102,"./_getTag":110,"./isArray":167,"./isBuffer":169,"./isTypedArray":175}],74:[function(e,t){var n=e("./_Stack"),o=e("./_baseIsEqual");t.exports=function(e,t,r,i){var s=r.length,d=s,l=!i;if(null==e)return!d;for(e=Object(e);s--;){var p=r[s];if(l&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++s<d;){p=r[s];var c=p[0],u=e[c],m=p[1];if(!(l&&p[2])){var h=new n;if(i)var f=i(u,m,c,e,t,h);if(void 0===f?!o(m,u,1|2,i,h):!f)return!1}else if(void 0===u&&!(c in e))return!1}return!0}},{"./_Stack":51,"./_baseIsEqual":72}],75:[function(e,t){var n=e("./isFunction"),o=e("./_isMasked"),r=e("./isObject"),i=e("./_toSource"),s=/[\\^$.*+?()[\]{}|]/g,d=/^\[object .+?Constructor\]$/,l=Function.prototype,p=Object.prototype,c=l.toString,u=p.hasOwnProperty,m=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){if(!r(e)||o(e))return!1;var t=n(e)?m:d;return t.test(i(e))}},{"./_isMasked":123,"./_toSource":158,"./isFunction":170,"./isObject":172}],76:[function(e,t){var n=e("./_baseGetTag"),o=e("./isLength"),r=e("./isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(e){return r(e)&&o(e.length)&&!!i[n(e)]}},{"./_baseGetTag":69,"./isLength":171,"./isObjectLike":173}],77:[function(e,t){var n=e("./_baseMatches"),o=e("./_baseMatchesProperty"),r=e("./identity"),i=e("./isArray"),s=e("./property");t.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?i(e)?o(e[0],e[1]):n(e):s(e)}},{"./_baseMatches":80,"./_baseMatchesProperty":81,"./identity":165,"./isArray":167,"./property":179}],78:[function(e,t){var n=e("./_isPrototype"),o=e("./_nativeKeys"),r=Object.prototype,i=r.hasOwnProperty;t.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},{"./_isPrototype":124,"./_nativeKeys":140}],79:[function(e,t){var n=e("./_baseEach"),o=e("./isArrayLike");t.exports=function(e,t){var r=-1,i=o(e)?Array(e.length):[];return n(e,function(e,n,o){i[++r]=t(e,n,o)}),i}},{"./_baseEach":62,"./isArrayLike":168}],80:[function(e,t){var n=e("./_baseIsMatch"),o=e("./_getMatchData"),r=e("./_matchesStrictComparable");t.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(o){return o===e||n(o,e,t)}}},{"./_baseIsMatch":74,"./_getMatchData":106,"./_matchesStrictComparable":137}],81:[function(e,t){var n=e("./_baseIsEqual"),o=e("./get"),r=e("./hasIn"),i=e("./_isKey"),s=e("./_isStrictComparable"),d=e("./_matchesStrictComparable"),l=e("./_toKey");t.exports=function(e,t){return i(e)&&s(t)?d(l(e),t):function(i){var s=o(i,e);return s===void 0&&s===t?r(i,e):n(t,s,1|2)}}},{"./_baseIsEqual":72,"./_isKey":121,"./_isStrictComparable":125,"./_matchesStrictComparable":137,"./_toKey":157,"./get":163,"./hasIn":164}],82:[function(e,t){var n=e("./_arrayMap"),o=e("./_baseIteratee"),r=e("./_baseMap"),i=e("./_baseSortBy"),s=e("./_baseUnary"),d=e("./_compareMultiple"),l=e("./identity");t.exports=function(e,t,p){var c=-1;t=n(t.length?t:[l],s(o));var u=r(e,function(e){var o=n(t,function(t){return t(e)});return{criteria:o,index:++c,value:e}});return i(u,function(e,t){return d(e,t,p)})}},{"./_arrayMap":58,"./_baseIteratee":77,"./_baseMap":79,"./_baseSortBy":87,"./_baseUnary":90,"./_compareMultiple":94,"./identity":165}],83:[function(e,t){t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},{}],84:[function(e,t){var n=e("./_baseGet");t.exports=function(e){return function(t){return n(t,e)}}},{"./_baseGet":67}],85:[function(e,t){var n=e("./identity"),o=e("./_overRest"),r=e("./_setToString");t.exports=function(e,t){return r(o(e,t,n),e+"")}},{"./_overRest":144,"./_setToString":149,"./identity":165}],86:[function(e,t){var n=e("./constant"),o=e("./_defineProperty"),r=e("./identity"),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:r;t.exports=i},{"./_defineProperty":99,"./constant":159,"./identity":165}],87:[function(e,t){t.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},{}],88:[function(e,t){t.exports=function(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}},{}],89:[function(e,t){function n(e){if("string"==typeof e)return e;if(i(e))return r(e,n)+"";if(s(e))return p?p.call(e):"";var t=e+"";return"0"==t&&1/e==-d?"-0":t}var o=e("./_Symbol"),r=e("./_arrayMap"),i=e("./isArray"),s=e("./isSymbol"),d=1/0,l=o?o.prototype:void 0,p=l?l.toString:void 0;t.exports=n},{"./_Symbol":52,"./_arrayMap":58,"./isArray":167,"./isSymbol":174}],90:[function(e,t){t.exports=function(e){return function(t){return e(t)}}},{}],91:[function(e,t){t.exports=function(e,t){return e.has(t)}},{}],92:[function(e,t){var n=e("./isArray"),o=e("./_isKey"),r=e("./_stringToPath"),i=e("./toString");t.exports=function(e,t){return n(e)?e:o(e,t)?[e]:r(i(e))}},{"./_isKey":121,"./_stringToPath":156,"./isArray":167,"./toString":186}],93:[function(e,t){var n=e("./isSymbol");t.exports=function(e,t){if(e!==t){var o=e!==void 0,r=null===e,i=e===e,s=n(e),d=t!==void 0,l=null===t,p=t===t,c=n(t);if(!l&&!c&&!s&&e>t||s&&d&&p&&!l&&!c||r&&d&&p||!o&&p||!i)return 1;if(!r&&!s&&!c&&e<t||c&&o&&i&&!r&&!s||l&&o&&i||!d&&i||!p)return-1}return 0}},{"./isSymbol":174}],94:[function(e,t){var n=e("./_compareAscending");t.exports=function(e,t,o){for(var r=-1,i=e.criteria,s=t.criteria,d=i.length,l=o.length;++r<d;){var p=n(i[r],s[r]);if(p){if(r>=l)return p;var c=o[r];return p*("desc"==c?-1:1)}}return e.index-t.index}},{"./_compareAscending":93}],95:[function(e,t){var n=e("./_root"),o=n["__core-js_shared__"];t.exports=o},{"./_root":145}],96:[function(e,t){var n=e("./isArrayLike");t.exports=function(e,t){return function(o,r){if(null==o)return o;if(!n(o))return e(o,r);for(var i=o.length,s=t?i:-1,d=Object(o);(t?s--:++s<i)&&!(!1===r(d[s],s,d)););return o}}},{"./isArrayLike":168}],97:[function(e,t){t.exports=function(e){return function(t,n,o){for(var r=-1,i=Object(t),s=o(t),d=s.length;d--;){var l=s[e?d:++r];if(!1===n(i[l],l,i))break}return t}}},{}],98:[function(e,t){var n=e("./_baseIteratee"),o=e("./isArrayLike"),r=e("./keys");t.exports=function(e){return function(t,i,s){var d=Object(t);if(!o(t)){var l=n(i,3);t=r(t),i=function(e){return l(d[e],e,d)}}var p=e(t,i,s);return-1<p?d[l?t[p]:p]:void 0}}},{"./_baseIteratee":77,"./isArrayLike":168,"./keys":176}],99:[function(e,t){var n=e("./_getNative"),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();t.exports=o},{"./_getNative":107}],100:[function(e,t){var n=e("./_SetCache"),o=e("./_arraySome"),r=e("./_cacheHas");t.exports=function(e,t,i,s,d,l){var p=i&1,c=e.length,u=t.length;if(c!=u&&!(p&&u>c))return!1;var m=l.get(e);if(m&&l.get(t))return m==t;var h=-1,f=!0,g=i&2?new n:void 0;for(l.set(e,t),l.set(t,e);++h<c;){var y=e[h],b=t[h];if(s)var _=p?s(b,y,h,t,e,l):s(y,b,h,e,t,l);if(void 0!==_){if(_)continue;f=!1;break}if(g){if(!o(t,function(e,t){if(!r(g,t)&&(y===e||d(y,e,i,s,l)))return g.push(t)})){f=!1;break}}else if(!(y===b||d(y,b,i,s,l))){f=!1;break}}return l["delete"](e),l["delete"](t),f}},{"./_SetCache":50,"./_arraySome":60,"./_cacheHas":91}],101:[function(e,t){var n=e("./_Symbol"),o=e("./_Uint8Array"),r=e("./eq"),i=e("./_equalArrays"),s=e("./_mapToArray"),d=e("./_setToArray"),l=n?n.prototype:void 0,p=l?l.valueOf:void 0;t.exports=function(e,t,n,l,c,u,m){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return e.byteLength==t.byteLength&&u(new o(e),new o(t));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=l&1;if(h||(h=d),e.size!=t.size&&!f)return!1;var g=m.get(e);if(g)return g==t;l|=2,m.set(e,t);var y=i(h(e),h(t),l,c,u,m);return m["delete"](e),y;case"[object Symbol]":if(p)return p.call(e)==p.call(t);}return!1}},{"./_Symbol":52,"./_Uint8Array":53,"./_equalArrays":100,"./_mapToArray":136,"./_setToArray":148,"./eq":160}],102:[function(e,t){var n=e("./_getAllKeys"),o=Object.prototype,r=o.hasOwnProperty;t.exports=function(e,t,o,i,s,d){var l=o&1,p=n(e),c=p.length,u=n(t),m=u.length;if(c!=m&&!l)return!1;for(var h=c,f;h--;)if(f=p[h],l?!(f in t):!r.call(t,f))return!1;var g=d.get(e);if(g&&d.get(t))return g==t;var y=!0;d.set(e,t),d.set(t,e);for(var b=l;++h<c;){f=p[h];var _=e[f],v=t[f];if(i)var E=l?i(v,_,f,t,e,d):i(_,v,f,e,t,d);if(void 0===E?!(_===v||s(_,v,o,i,d)):!E){y=!1;break}b||(b="constructor"==f)}if(y&&!b){var C=e.constructor,T=t.constructor;C!=T&&"constructor"in e&&"constructor"in t&&!("function"==typeof C&&C instanceof C&&"function"==typeof T&&T instanceof T)&&(y=!1)}return d["delete"](e),d["delete"](t),y}},{"./_getAllKeys":104}],103:[function(e,t){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],104:[function(e,t){var n=e("./_baseGetAllKeys"),o=e("./_getSymbols"),r=e("./keys");t.exports=function(e){return n(e,r,o)}},{"./_baseGetAllKeys":68,"./_getSymbols":109,"./keys":176}],105:[function(e,t){var n=e("./_isKeyable");t.exports=function(e,t){var o=e.__data__;return n(t)?o["string"==typeof t?"string":"hash"]:o.map}},{"./_isKeyable":122}],106:[function(e,t){var n=e("./_isStrictComparable"),o=e("./keys");t.exports=function(e){for(var t=o(e),r=t.length;r--;){var i=t[r],s=e[i];t[r]=[i,s,n(s)]}return t}},{"./_isStrictComparable":125,"./keys":176}],107:[function(e,t){var n=e("./_baseIsNative"),o=e("./_getValue");t.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},{"./_baseIsNative":75,"./_getValue":111}],108:[function(e,t){var n=e("./_Symbol"),o=Object.prototype,r=o.hasOwnProperty,i=o.toString,s=n?n.toStringTag:void 0;t.exports=function(e){var t=r.call(e,s),n=e[s];try{e[s]=void 0}catch(t){}var o=i.call(e);return t?e[s]=n:delete e[s],o}},{"./_Symbol":52}],109:[function(e,t){var n=e("./_arrayFilter"),o=e("./stubArray"),r=Object.prototype,i=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,d=s?function(e){return null==e?[]:(e=Object(e),n(s(e),function(t){return i.call(e,t)}))}:o;t.exports=d},{"./_arrayFilter":56,"./stubArray":181}],110:[function(e,t){var n=e("./_DataView"),o=e("./_Map"),r=e("./_Promise"),i=e("./_Set"),s=e("./_WeakMap"),d=e("./_baseGetTag"),l=e("./_toSource"),p="[object Map]",c="[object Promise]",u="[object Set]",m="[object WeakMap]",h="[object DataView]",f=l(n),g=l(o),y=l(r),b=l(i),_=l(s),v=d;(n&&v(new n(new ArrayBuffer(1)))!=h||o&&v(new o)!=p||r&&v(r.resolve())!=c||i&&v(new i)!=u||s&&v(new s)!=m)&&(v=function(e){var t=d(e),n=t=="[object Object]"?e.constructor:void 0,o=n?l(n):"";if(o)switch(o){case f:return h;case g:return p;case y:return c;case b:return u;case _:return m;}return t}),t.exports=v},{"./_DataView":43,"./_Map":46,"./_Promise":48,"./_Set":49,"./_WeakMap":54,"./_baseGetTag":69,"./_toSource":158}],111:[function(e,t){t.exports=function(e,t){return null==e?void 0:e[t]}},{}],112:[function(e,t){var n=e("./_castPath"),o=e("./isArguments"),r=e("./isArray"),i=e("./_isIndex"),s=e("./isLength"),d=e("./_toKey");t.exports=function(e,t,l){t=n(t,e);for(var p=-1,c=t.length,u=!1,m;++p<c&&(m=d(t[p]),!!(u=null!=e&&l(e,m)));)e=e[m];return u||++p!=c?u:(c=null==e?0:e.length,!!c&&s(c)&&i(m,c)&&(r(e)||o(e)))}},{"./_castPath":92,"./_isIndex":119,"./_toKey":157,"./isArguments":166,"./isArray":167,"./isLength":171}],113:[function(e,t){var n=e("./_nativeCreate");t.exports=function(){this.__data__=n?n(null):{},this.size=0}},{"./_nativeCreate":139}],114:[function(e,t){t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},{}],115:[function(e,t){var n=e("./_nativeCreate"),o=Object.prototype,r=o.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(n){var o=t[e];return o==="__lodash_hash_undefined__"?void 0:o}return r.call(t,e)?t[e]:void 0}},{"./_nativeCreate":139}],116:[function(e,t){var n=e("./_nativeCreate"),o=Object.prototype,r=o.hasOwnProperty;t.exports=function(e){var t=this.__data__;return n?t[e]!==void 0:r.call(t,e)}},{"./_nativeCreate":139}],117:[function(e,t){var n=e("./_nativeCreate");t.exports=function(e,t){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},{"./_nativeCreate":139}],118:[function(e,t){var n=e("./_Symbol"),o=e("./isArguments"),r=e("./isArray"),i=n?n.isConcatSpreadable:void 0;t.exports=function(e){return r(e)||o(e)||!!(i&&e&&e[i])}},{"./_Symbol":52,"./isArguments":166,"./isArray":167}],119:[function(e,t){var n=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var o=typeof e;return t=null==t?9007199254740991:t,!!t&&("number"==o||"symbol"!=o&&n.test(e))&&-1<e&&0==e%1&&e<t}},{}],120:[function(e,t){var n=e("./eq"),o=e("./isArrayLike"),r=e("./_isIndex"),i=e("./isObject");t.exports=function(e,t,s){if(!i(s))return!1;var d=typeof t;return!("number"==d?!(o(s)&&r(t,s.length)):!("string"==d&&t in s))&&n(s[t],e)}},{"./_isIndex":119,"./eq":160,"./isArrayLike":168,"./isObject":172}],121:[function(e,t){var n=e("./isArray"),o=e("./isSymbol"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;t.exports=function(e,t){if(n(e))return!1;var s=typeof e;return"number"==s||"symbol"==s||"boolean"==s||null==e||o(e)||i.test(e)||!r.test(e)||null!=t&&e in Object(t)}},{"./isArray":167,"./isSymbol":174}],122:[function(e,t){t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],123:[function(e,t){var n=e("./_coreJsData"),o=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();t.exports=function(e){return!!o&&o in e}},{"./_coreJsData":95}],124:[function(e,t){var n=Object.prototype;t.exports=function(e){var t=e&&e.constructor,o="function"==typeof t&&t.prototype||n;return e===o}},{}],125:[function(e,t){var n=e("./isObject");t.exports=function(e){return e===e&&!n(e)}},{"./isObject":172}],126:[function(e,t){t.exports=function(){this.__data__=[],this.size=0}},{}],127:[function(e,t){var n=e("./_assocIndexOf"),o=Array.prototype,r=o.splice;t.exports=function(e){var t=this.__data__,o=n(t,e);if(0>o)return!1;var i=t.length-1;return o==i?t.pop():r.call(t,o,1),--this.size,!0}},{"./_assocIndexOf":61}],128:[function(e,t){var n=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__,o=n(t,e);return 0>o?void 0:t[o][1]}},{"./_assocIndexOf":61}],129:[function(e,t){var n=e("./_assocIndexOf");t.exports=function(e){return-1<n(this.__data__,e)}},{"./_assocIndexOf":61}],130:[function(e,t){var n=e("./_assocIndexOf");t.exports=function(e,t){var o=this.__data__,r=n(o,e);return 0>r?(++this.size,o.push([e,t])):o[r][1]=t,this}},{"./_assocIndexOf":61}],131:[function(e,t){var n=e("./_Hash"),o=e("./_ListCache"),r=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||o),string:new n}}},{"./_Hash":44,"./_ListCache":45,"./_Map":46}],132:[function(e,t){var n=e("./_getMapData");t.exports=function(e){var t=n(this,e)["delete"](e);return this.size-=t?1:0,t}},{"./_getMapData":105}],133:[function(e,t){var n=e("./_getMapData");t.exports=function(e){return n(this,e).get(e)}},{"./_getMapData":105}],134:[function(e,t){var n=e("./_getMapData");t.exports=function(e){return n(this,e).has(e)}},{"./_getMapData":105}],135:[function(e,t){var n=e("./_getMapData");t.exports=function(e,t){var o=n(this,e),r=o.size;return o.set(e,t),this.size+=o.size==r?0:1,this}},{"./_getMapData":105}],136:[function(e,t){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}},{}],137:[function(e,t){t.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(t!==void 0||e in Object(n))}}},{}],138:[function(e,t){var n=e("./memoize");t.exports=function(e){var t=n(e,function(e){return o.size===500&&o.clear(),e}),o=t.cache;return t}},{"./memoize":178}],139:[function(e,t){var n=e("./_getNative"),o=n(Object,"create");t.exports=o},{"./_getNative":107}],140:[function(e,t){var n=e("./_overArg"),o=n(Object.keys,Object);t.exports=o},{"./_overArg":143}],141:[function(e,t,n){var o=e("./_freeGlobal"),r="object"==typeof n&&n&&!n.nodeType&&n,i=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===r,d=s&&o.process,l=function(){try{var e=i&&i.require&&i.require("util").types;return e?e:d&&d.binding&&d.binding("util")}catch(t){}}();t.exports=l},{"./_freeGlobal":103}],142:[function(e,t){var n=Object.prototype,o=n.toString;t.exports=function(e){return o.call(e)}},{}],143:[function(e,t){t.exports=function(e,t){return function(n){return e(t(n))}}},{}],144:[function(e,t){var n=e("./_apply"),o=Math.max;t.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,d=o(i.length-t,0),l=Array(d);++s<d;)l[s]=i[t+s];s=-1;for(var p=Array(t+1);++s<t;)p[s]=i[s];return p[t]=r(l),n(e,this,p)}}},{"./_apply":55}],145:[function(e,t){var n=e("./_freeGlobal"),o="object"==typeof self&&self&&self.Object===Object&&self,r=n||o||Function("return this")();t.exports=r},{"./_freeGlobal":103}],146:[function(e,t){t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},{}],147:[function(e,t){t.exports=function(e){return this.__data__.has(e)}},{}],148:[function(e,t){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},{}],149:[function(e,t){var n=e("./_baseSetToString"),o=e("./_shortOut"),r=o(n);t.exports=r},{"./_baseSetToString":86,"./_shortOut":150}],150:[function(e,t){var n=Date.now;t.exports=function(e){var t=0,o=0;return function(){var r=n(),i=16-(r-o);if(o=r,!(0<i))t=0;else if(++t>=800)return arguments[0];return e.apply(void 0,arguments)}}},{}],151:[function(e,t){var n=e("./_ListCache");t.exports=function(){this.__data__=new n,this.size=0}},{"./_ListCache":45}],152:[function(e,t){t.exports=function(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}},{}],153:[function(e,t){t.exports=function(e){return this.__data__.get(e)}},{}],154:[function(e,t){t.exports=function(e){return this.__data__.has(e)}},{}],155:[function(e,t){var n=e("./_ListCache"),o=e("./_Map"),r=e("./_MapCache");t.exports=function(e,t){var i=this.__data__;if(i instanceof n){var s=i.__data__;if(!o||s.length<200-1)return s.push([e,t]),this.size=++i.size,this;i=this.__data__=new r(s)}return i.set(e,t),this.size=i.size,this}},{"./_ListCache":45,"./_Map":46,"./_MapCache":47}],156:[function(e,t){var n=e("./_memoizeCapped"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,i=n(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,o,i){t.push(o?i.replace(r,"$1"):n||e)}),t});t.exports=i},{"./_memoizeCapped":138}],157:[function(e,t){var n=e("./isSymbol");t.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-(1/0)?"-0":t}},{"./isSymbol":174}],158:[function(e,t){var n=Function.prototype,o=n.toString;t.exports=function(e){if(null!=e){try{return o.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},{}],159:[function(e,t){t.exports=function(e){return function(){return e}}},{}],160:[function(e,t){t.exports=function(e,t){return e===t||e!==e&&t!==t}},{}],161:[function(e,t){var n=e("./_createFind"),o=e("./findIndex"),r=n(o);t.exports=r},{"./_createFind":98,"./findIndex":162}],162:[function(e,t){var n=e("./_baseFindIndex"),o=e("./_baseIteratee"),r=e("./toInteger"),i=Math.max;t.exports=function(e,t,s){var d=null==e?0:e.length;if(!d)return-1;var l=null==s?0:r(s);return 0>l&&(l=i(d+l,0)),n(e,o(t,3),l)}},{"./_baseFindIndex":63,"./_baseIteratee":77,"./toInteger":184}],163:[function(e,t){var n=e("./_baseGet");t.exports=function(e,t,o){var r=null==e?void 0:n(e,t);return r===void 0?o:r}},{"./_baseGet":67}],164:[function(e,t){var n=e("./_baseHasIn"),o=e("./_hasPath");t.exports=function(e,t){return null!=e&&o(e,t,n)}},{"./_baseHasIn":70,"./_hasPath":112}],165:[function(e,t){t.exports=function(e){return e}},{}],166:[function(e,t){var n=e("./_baseIsArguments"),o=e("./isObjectLike"),r=Object.prototype,i=r.hasOwnProperty,s=r.propertyIsEnumerable,d=n(function(){return arguments}())?n:function(e){return o(e)&&i.call(e,"callee")&&!s.call(e,"callee")};t.exports=d},{"./_baseIsArguments":71,"./isObjectLike":173}],167:[function(e,t){var n=Array.isArray;t.exports=n},{}],168:[function(e,t){var n=e("./isFunction"),o=e("./isLength");t.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},{"./isFunction":170,"./isLength":171}],169:[function(e,t,n){var o=e("./_root"),r=e("./stubFalse"),i="object"==typeof n&&n&&!n.nodeType&&n,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,d=s&&s.exports===i,l=d?o.Buffer:void 0,p=l?l.isBuffer:void 0;t.exports=p||r},{"./_root":145,"./stubFalse":182}],170:[function(e,t){var n=e("./_baseGetTag"),o=e("./isObject");t.exports=function(e){if(!o(e))return!1;var t=n(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"}},{"./_baseGetTag":69,"./isObject":172}],171:[function(e,t){t.exports=function(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}},{}],172:[function(e,t){t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},{}],173:[function(e,t){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],174:[function(e,t){var n=e("./_baseGetTag"),o=e("./isObjectLike");t.exports=function(e){return"symbol"==typeof e||o(e)&&n(e)=="[object Symbol]"}},{"./_baseGetTag":69,"./isObjectLike":173}],175:[function(e,t){var n=e("./_baseIsTypedArray"),o=e("./_baseUnary"),r=e("./_nodeUtil"),i=r&&r.isTypedArray,s=i?o(i):n;t.exports=s},{"./_baseIsTypedArray":76,"./_baseUnary":90,"./_nodeUtil":141}],176:[function(e,t){var n=e("./_arrayLikeKeys"),o=e("./_baseKeys"),r=e("./isArrayLike");t.exports=function(e){return r(e)?n(e):o(e)}},{"./_arrayLikeKeys":57,"./_baseKeys":78,"./isArrayLike":168}],177:[function(e,t,n){(function(e){(function(){function o(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);}return e.apply(t,n)}function r(e,t,n,o){for(var r=-1,i=null==e?0:e.length;++r<i;){var s=e[r];t(o,s,n(s),e)}return o}function i(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!(!1===t(e[n],n,e)););return e}function s(e,t){for(var n=null==e?0:e.length;n--&&!(!1===t(e[n],n,e)););return e}function d(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(!t(e[n],n,e))return!1;return!0}function l(e,t){for(var n=-1,o=null==e?0:e.length,r=0,i=[];++n<o;){var s=e[n];t(s,n,e)&&(i[r++]=s)}return i}function p(e,t){var n=null==e?0:e.length;return!!n&&-1<C(e,t,0)}function c(e,t,n){for(var o=-1,r=null==e?0:e.length;++o<r;)if(n(t,e[o]))return!0;return!1}function u(e,t){for(var n=-1,o=null==e?0:e.length,r=Array(o);++n<o;)r[n]=t(e[n],n,e);return r}function m(e,t){for(var n=-1,o=t.length,r=e.length;++n<o;)e[r+n]=t[n];return e}function h(e,t,n,o){var r=-1,i=null==e?0:e.length;for(o&&i&&(n=e[++r]);++r<i;)n=t(n,e[r],r,e);return n}function f(e,t,n,o){var r=null==e?0:e.length;for(o&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function g(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}function y(e){return e.split("")}function b(e){return e.match(Ct)||[]}function v(e,t,n){var o;return n(e,function(e,n,r){if(t(e,n,r))return o=n,!1}),o}function E(e,t,n,o){for(var r=e.length,i=n+(o?1:-1);o?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function C(e,t,n){return t===t?X(e,t,n):E(e,I,n)}function T(e,t,n,o){for(var r=n-1,i=e.length;++r<i;)if(o(e[r],t))return r;return-1}function I(e){return e!==e}function S(e,t){var n=null==e?0:e.length;return n?R(e,t)/n:Se}function k(e){return function(t){return null==t?void 0:t[e]}}function x(e){return function(t){return null==e?void 0:e[t]}}function N(e,t,n,o,r){return r(e,function(e,r,i){n=o?(o=!1,e):t(n,e,r,i)}),n}function w(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function R(e,t){for(var n=-1,o=e.length,r;++n<o;){var i=t(e[n]);i!==void 0&&(r=r==void 0?i:r+i)}return r}function P(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function A(e,t){return u(t,function(t){return[t,e[t]]})}function D(e){return function(t){return e(t)}}function O(e,t){return u(t,function(t){return e[t]})}function M(e,t){return e.has(t)}function L(e,t){for(var n=-1,o=e.length;++n<o&&-1<C(t,e[n],0););return n}function F(e,t){for(var n=e.length;n--&&-1<C(t,e[n],0););return n}function U(e,t){for(var n=e.length,o=0;n--;)e[n]===t&&++o;return o}function j(e){return"\\"+gn[e]}function B(e,t){return null==e?void 0:e[t]}function V(e){return pn.test(e)}function q(e){return cn.test(e)}function W(e){for(var t=[],n;!(n=e.next()).done;)t.push(n.value);return t}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e,o){n[++t]=[o,e]}),n}function H(e,t){return function(n){return e(t(n))}}function K(e,t){for(var n=-1,o=e.length,r=0,i=[];++n<o;){var s=e[n];(s===t||s===ie)&&(e[n]=ie,i[r++]=n)}return i}function G(e,t){return"__proto__"==t?void 0:e[t]}function Q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Y(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function X(e,t,n){for(var o=n-1,r=e.length;++o<r;)if(e[o]===t)return o;return-1}function $(e,t,n){for(var o=n+1;o--;)if(e[o]===t)return o;return o}function J(e){return V(e)?ee(e):Dn(e)}function Z(e){return V(e)?te(e):y(e)}function ee(e){for(var t=dn.lastIndex=0;dn.test(e);)++t;return t}function te(e){return e.match(dn)||[]}function ne(e){return e.match(ln)||[]}var ae=200,oe="Expected a function",re="__lodash_hash_undefined__",ie="__lodash_placeholder__",se=1,de=2,le=4,pe=1,ce=2,ue=1,me=2,he=4,fe=8,ge=16,ye=32,be=64,_e=128,ve=256,Ee=512,Ce=1,Te=1/0,Ie=9007199254740991,Se=0/0,ke=4294967295,xe=[["ary",_e],["bind",ue],["bindKey",me],["curry",fe],["curryRight",ge],["flip",Ee],["partial",ye],["partialRight",be],["rearg",ve]],Ne="[object Arguments]",we="[object Array]",Re="[object Boolean]",Pe="[object Date]",Ae="[object Error]",De="[object Function]",Oe="[object GeneratorFunction]",Me="[object Map]",Le="[object Number]",Fe="[object Object]",Ue="[object Promise]",je="[object RegExp]",Be="[object Set]",Ve="[object String]",qe="[object Symbol]",We="[object WeakMap]",ze="[object ArrayBuffer]",He="[object DataView]",Ke="[object Float32Array]",Ge="[object Float64Array]",Qe="[object Int8Array]",Ye="[object Int16Array]",Xe="[object Int32Array]",$e="[object Uint8Array]",Je="[object Uint8ClampedArray]",Ze="[object Uint16Array]",et="[object Uint32Array]",tt=/\b__p \+= '';/g,nt=/\b(__p \+=) '' \+/g,at=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ot=/&(?:amp|lt|gt|quot|#39);/g,rt=/[&<>"']/g,it=RegExp(ot.source),st=RegExp(rt.source),dt=/<%-([\s\S]+?)%>/g,pt=/<%([\s\S]+?)%>/g,ct=/<%=([\s\S]+?)%>/g,lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ut=/^\w*$/,mt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ht=/[\\^$.*+?()[\]{}|]/g,ft=RegExp(ht.source),gt=/^\s+|\s+$/g,yt=/^\s+/,bt=/\s+$/,_t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vt=/\{\n\/\* \[wrapped with (.+)\] \*/,Et=/,? & /,Ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tt=/\\(\\)?/g,It=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,St=/\w*$/,kt=/^[-+]0x[0-9a-f]+$/i,xt=/^0b[01]+$/i,Nt=/^\[object .+?Constructor\]$/,wt=/^0o[0-7]+$/i,Rt=/^(?:0|[1-9]\d*)$/,Pt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,At=/($^)/,Dt=/['\n\r\u2028\u2029\\]/g,Ot="\\ud800-\\udfff",Mt="\\u2700-\\u27bf",Lt="a-z\\xdf-\\xf6\\xf8-\\xff",Ft="A-Z\\xc0-\\xd6\\xd8-\\xde",Ut="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2000-\\u206f"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jt="['\u2019]",Bt="["+Ut+"]",Vt="["+("\\u0300-\\u036f"+"\\ufe20-\\ufe2f"+"\\u20d0-\\u20ff")+"]",qt="\\d+",Wt="["+Lt+"]",zt="[^"+Ot+Ut+qt+Mt+Lt+Ft+"]",Ht="\\ud83c[\\udffb-\\udfff]",Kt="[^"+Ot+"]",Gt="(?:\\ud83c[\\udde6-\\uddff]){2}",Qt="[\\ud800-\\udbff][\\udc00-\\udfff]",Yt="["+Ft+"]",Xt="(?:"+Wt+"|"+zt+")",$t="(?:"+jt+"(?:d|ll|m|re|s|t|ve))?",Jt="(?:"+jt+"(?:D|LL|M|RE|S|T|VE))?",Zt="(?:"+Vt+"|"+Ht+")"+"?",en="["+"\\ufe0e\\ufe0f"+"]?",tn="(?:"+"\\u200d"+"(?:"+[Kt,Gt,Qt].join("|")+")"+en+Zt+")*",nn=en+Zt+tn,an="(?:"+["["+Mt+"]",Gt,Qt].join("|")+")"+nn,on="(?:"+[Kt+Vt+"?",Vt,Gt,Qt,"["+Ot+"]"].join("|")+")",rn=/['’]/g,sn=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,dn=RegExp(Ht+"(?="+Ht+")|"+on+nn,"g"),ln=RegExp([Yt+"?"+Wt+"+"+$t+"(?="+[Bt,Yt,"$"].join("|")+")","(?:"+Yt+"|"+zt+")"+"+"+Jt+"(?="+[Bt,Yt+Xt,"$"].join("|")+")",Yt+"?"+Xt+"+"+$t,Yt+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",qt,an].join("|"),"g"),pn=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,cn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,un=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mn=-1,hn={};hn[Ke]=hn[Ge]=hn[Qe]=hn[Ye]=hn[Xe]=hn[$e]=hn[Je]=hn[Ze]=hn[et]=!0,hn[Ne]=hn[we]=hn[ze]=hn[Re]=hn[He]=hn[Pe]=hn[Ae]=hn[De]=hn[Me]=hn[Le]=hn[Fe]=hn[je]=hn[Be]=hn[Ve]=hn[We]=!1;var fn={};fn[Ne]=fn[we]=fn[ze]=fn[He]=fn[Re]=fn[Pe]=fn[Ke]=fn[Ge]=fn[Qe]=fn[Ye]=fn[Xe]=fn[Me]=fn[Le]=fn[Fe]=fn[je]=fn[Be]=fn[Ve]=fn[qe]=fn[$e]=fn[Je]=fn[Ze]=fn[et]=!0,fn[Ae]=fn[De]=fn[We]=!1;var gn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},yn=parseFloat,bn=parseInt,_n="object"==typeof e&&e&&e.Object===Object&&e,vn="object"==typeof self&&self&&self.Object===Object&&self,En=_n||vn||Function("return this")(),Cn="object"==typeof n&&n&&!n.nodeType&&n,Tn=Cn&&"object"==typeof t&&t&&!t.nodeType&&t,In=Tn&&Tn.exports===Cn,Sn=In&&_n.process,kn=function(){try{var e=Tn&&Tn.require&&Tn.require("util").types;return e?e:Sn&&Sn.binding&&Sn.binding("util")}catch(t){}}(),xn=kn&&kn.isArrayBuffer,Nn=kn&&kn.isDate,wn=kn&&kn.isMap,Rn=kn&&kn.isRegExp,Pn=kn&&kn.isSet,An=kn&&kn.isTypedArray,Dn=k("length"),On=x({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Mn=x({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Ln=x({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":"\"","&#39;":"'"}),Fn=function e(t){function n(e){if(Lr(e)&&!Sd(e)&&!(e instanceof x)){if(e instanceof _)return e;if(ki.call(e,"__wrapped__"))return ir(e)}return new _(e)}function y(){}function _(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function x(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Ct(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new te;++t<n;)this.add(e[t])}function Ot(e){var t=this.__data__=new ee(e);this.size=t.size}function Mt(e,t){var n=Sd(e),o=!n&&Id(e),r=!n&&!o&&xd(e),i=!n&&!o&&!r&&Ad(e),s=n||o||r||i,d=s?P(e.length,_i):[],l=d.length;for(var p in e)(t||ki.call(e,p))&&!(s&&("length"==p||r&&("offset"==p||"parent"==p)||i&&("buffer"==p||"byteLength"==p||"byteOffset"==p)||jo(p,l)))&&d.push(p);return d}function Lt(e){var t=e.length;return t?e[ra(0,t-1)]:void 0}function Ft(e,t){return nr(Va(e),Gt(t,0,e.length))}function Ut(e){return nr(Va(e))}function jt(e,t,n){(void 0===n||Nr(e[t],n))&&(void 0!==n||t in e)||Ht(e,t,n)}function Bt(e,t,n){var o=e[t];ki.call(e,t)&&Nr(o,n)&&(void 0!==n||t in e)||Ht(e,t,n)}function Vt(e,t){for(var n=e.length;n--;)if(Nr(e[n][0],t))return n;return-1}function qt(e,t,n,o){return Is(e,function(e,r,i){t(o,e,n(e),i)}),o}function Wt(e,t){return e&&qa(t,Xr(t),e)}function zt(e,t){return e&&qa(t,$r(t),e)}function Ht(e,t,n){"__proto__"==t&&zi?zi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Kt(e,t){for(var n=-1,o=t.length,r=ui(o);++n<o;)r[n]=null==e?void 0:Qr(e,t[n]);return r}function Gt(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Qt(e,t,n,o,r,s){var d=t&se,l=t&de,p;if(n&&(p=r?n(e,o,r,s):n(e)),void 0!==p)return p;if(!Mr(e))return e;var c=Sd(e);if(!c){var u=Ms(e),m=u==De||u==Oe;if(xd(e))return Pa(e,d);if(u!=Fe&&u!=Ne&&(!m||r)){if(!fn[u])return r?e:{};p=Lo(e,u,d)}else if(p=l||m?{}:Mo(e),!d)return l?za(e,zt(p,e)):Wa(e,Wt(p,e))}else if(p=Oo(e),!d)return Va(e,p);s||(s=new Ot);var h=s.get(e);if(h)return h;if(s.set(e,p),Pd(e))return e.forEach(function(o){p.add(Qt(o,t,n,o,e,s))}),p;if(wd(e))return e.forEach(function(o,r){p.set(r,Qt(o,t,n,r,e,s))}),p;var f=t&le?l?To:Co:l?$r:Xr,g=c?void 0:f(e);return i(g||e,function(o,r){g&&(r=o,o=e[r]),Bt(p,r,Qt(o,t,n,r,e,s))}),p}function Yt(e){var t=Xr(e);return function(n){return Xt(n,e,t)}}function Xt(e,t,n){var o=n.length;if(null==e)return!o;for(e=yi(e);o--;){var r=n[o],i=t[r],s=e[r];if(void 0===s&&!(r in e)||!i(s))return!1}return!0}function $t(e,t,n){if("function"!=typeof e)throw new vi(oe);return Us(function(){e.apply(void 0,n)},t)}function Jt(e,t,n,o){var r=-1,i=p,s=!0,d=e.length,l=[],m=t.length;if(!d)return l;n&&(t=u(t,D(n))),o?(i=c,s=!1):t.length>=ae&&(i=M,s=!1,t=new Ct(t));outer:for(;++r<d;){var h=e[r],f=null==n?h:n(h);if(h=o||0!==h?h:0,s&&f===f){for(var g=m;g--;)if(t[g]===f)continue outer;l.push(h)}else i(t,f,o)||l.push(h)}return l}function Zt(e,t){var n=!0;return Is(e,function(e,o,r){return n=!!t(e,o,r),n}),n}function en(e,t,n){for(var o=-1,r=e.length;++o<r;){var i=e[o],s=t(i);if(null!=s&&(void 0===d?s===s&&!Br(s):n(s,d)))var d=s,l=i}return l}function tn(e,t,n,o){var r=e.length;for(n=Wr(n),0>n&&(n=-n>r?0:r+n),o=void 0===o||o>r?r:Wr(o),0>o&&(o+=r),o=n>o?0:zr(o);n<o;)e[n++]=t;return e}function nn(e,t){var n=[];return Is(e,function(e,o,r){t(e,o,r)&&n.push(e)}),n}function an(e,t,n,o,r){var i=-1,s=e.length;for(n||(n=Uo),r||(r=[]);++i<s;){var d=e[i];0<t&&n(d)?1<t?an(d,t-1,n,o,r):m(r,d):!o&&(r[r.length]=d)}return r}function on(e,t){return e&&ks(e,t,Xr)}function dn(e,t){return e&&xs(e,t,Xr)}function ln(e,t){return l(t,function(t){return Ar(e[t])})}function pn(e,t){t=wa(t,e);for(var n=0,o=t.length;null!=e&&n<o;)e=e[ar(t[n++])];return n&&n==o?e:void 0}function cn(e,t,n){var o=t(e);return Sd(e)?o:m(o,n(e))}function gn(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Wi&&Wi in yi(e)?Ro(e):Xo(e)}function _n(e,t){return e>t}function vn(e,t){return null!=e&&ki.call(e,t)}function Cn(e,t){return null!=e&&t in yi(e)}function Tn(e,t,n){return e>=ns(t,n)&&e<ts(t,n)}function Sn(e,t,n){for(var o=n?c:p,r=e[0].length,i=e.length,s=i,d=ui(i),l=Infinity,m=[],h;s--;)h=e[s],s&&t&&(h=u(h,D(t))),l=ns(h.length,l),d[s]=!n&&(t||120<=r&&120<=h.length)?new Ct(s&&h):void 0;h=e[0];var f=-1,g=d[0];outer:for(;++f<r&&m.length<l;){var y=h[f],b=t?t(y):y;if(y=n||0!==y?y:0,g?!M(g,b):!o(m,b,n)){for(s=i;--s;){var _=d[s];if(_?!M(_,b):!o(e[s],b,n))continue outer}g&&g.push(b),m.push(y)}}return m}function kn(e,t,n,o){return on(e,function(e,r,i){t(o,n(e),r,i)}),o}function Dn(e,t,n){t=wa(t,e),e=Jo(e,t);var r=null==e?e:e[ar(cr(t))];return null==r?void 0:o(r,e,n)}function Un(e){return Lr(e)&&gn(e)==Ne}function jn(e,t,n,o,r){return e===t||(null!=e&&null!=t&&(Lr(e)||Lr(t))?Bn(e,t,n,o,jn,r):e!==e&&t!==t)}function Bn(e,t,n,o,r,i){var s=Sd(e),d=Sd(t),l=s?we:Ms(e),p=d?we:Ms(t);l=l==Ne?Fe:l,p=p==Ne?Fe:p;var c=l==Fe,u=p==Fe,m=l==p;if(m&&xd(e)){if(!xd(t))return!1;s=!0,c=!1}if(m&&!c)return i||(i=new Ot),s||Ad(e)?bo(e,t,n,o,r,i):_o(e,t,l,n,o,r,i);if(!(n&pe)){var h=c&&ki.call(e,"__wrapped__"),f=u&&ki.call(t,"__wrapped__");if(h||f){var g=h?e.value():e,y=f?t.value():t;return i||(i=new Ot),r(g,y,n,o,i)}}return!!m&&(i||(i=new Ot),vo(e,t,n,o,r,i))}function Vn(e,t,n,o){var r=n.length,i=r,s=!o;if(null==e)return!i;for(e=yi(e);r--;){var d=n[r];if(s&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++r<i;){d=n[r];var l=d[0],p=e[l],c=d[1];if(!(s&&d[2])){var u=new Ot;if(o)var m=o(p,c,l,e,t,u);if(void 0===m?!jn(c,p,pe|ce,o,u):!m)return!1}else if(void 0===p&&!(l in e))return!1}return!0}function qn(e){if(!Mr(e)||zo(e))return!1;var t=Ar(e)?Ai:Nt;return t.test(or(e))}function Wn(e){return"function"==typeof e?e:null==e?ri:"object"==typeof e?Sd(e)?Yn(e[0],e[1]):Qn(e):li(e)}function zn(e){if(!Ho(e))return es(e);var t=[];for(var n in yi(e))ki.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Hn(e){if(!Mr(e))return Yo(e);var t=Ho(e),n=[];for(var o in e)("constructor"!=o||!t&&ki.call(e,o))&&n.push(o);return n}function Kn(e,t){return e<t}function Gn(e,t){var n=-1,o=wr(e)?ui(e.length):[];return Is(e,function(e,r,i){o[++n]=t(e,r,i)}),o}function Qn(e){var t=No(e);return 1==t.length&&t[0][2]?Go(t[0][0],t[0][1]):function(n){return n===e||Vn(n,e,t)}}function Yn(e,t){return Vo(e)&&Ko(t)?Go(ar(e),t):function(n){var o=Qr(n,e);return void 0===o&&o===t?Yr(n,e):jn(t,o,pe|ce)}}function Xn(e,t,n,o,r){e===t||ks(t,function(i,s){if(Mr(i))r||(r=new Ot),$n(e,t,s,n,Xn,o,r);else{var d=o?o(G(e,s),i,s+"",e,t,r):void 0;void 0===d&&(d=i),jt(e,s,d)}},$r)}function $n(e,t,n,o,r,i,s){var d=G(e,n),l=G(t,n),p=s.get(l);if(p)return void jt(e,n,p);var c=i?i(d,l,n+"",e,t,s):void 0,u=void 0===c;if(u){var m=Sd(l),h=!m&&xd(l),f=!m&&!h&&Ad(l);c=l,m||h||f?Sd(d)?c=d:Rr(d)?c=Va(d):h?(u=!1,c=Pa(l,!0)):f?(u=!1,c=La(l,!0)):c=[]:Ur(l)||Id(l)?(c=d,Id(d)?c=Kr(d):(!Mr(d)||o&&Ar(d))&&(c=Mo(l))):u=!1}u&&(s.set(l,c),r(c,l,o,i,s),s["delete"](l)),jt(e,n,c)}function Jn(e,t){var n=e.length;if(n)return t+=0>t?n:0,jo(t,n)?e[t]:void 0}function Zn(e,t,n){var o=-1;t=u(t.length?t:[ri],D(ko()));var r=Gn(e,function(e){var n=u(t,function(t){return t(e)});return{criteria:n,index:++o,value:e}});return w(r,function(e,t){return Ua(e,t,n)})}function ea(e,t){return ta(e,t,function(t,n){return Yr(e,n)})}function ta(e,t,n){for(var o=-1,r=t.length,i={};++o<r;){var s=t[o],d=pn(e,s);n(d,s)&&ca(i,wa(s,e),d)}return i}function na(e){return function(t){return pn(t,e)}}function aa(e,t,n,o){var r=o?T:C,i=-1,s=t.length,d=e;for(e===t&&(t=Va(t)),n&&(d=u(e,D(n)));++i<s;)for(var l=0,p=t[i],c=n?n(p):p;-1<(l=r(d,c,l,o));)d!==e&&Bi.call(d,l,1),Bi.call(e,l,1);return e}function oa(e,t){for(var n=e?t.length:0,o=n-1,r;n--;)if(r=t[n],n==o||r!==i){var i=r;jo(r)?Bi.call(e,r,1):Ea(e,r)}return e}function ra(e,t){return e+Yi(rs()*(t-e+1))}function ia(e,t,n,o){for(var r=-1,i=ts(Qi((t-e)/(n||1)),0),s=ui(i);i--;)s[o?i:++r]=e,e+=n;return s}function sa(e,t){var n="";if(!e||1>t||t>Ie)return n;do t%2&&(n+=e),t=Yi(t/2),t&&(e+=e);while(t);return n}function da(e,t){return js($o(e,t,ri),e+"")}function la(e){return Lt(ei(e))}function pa(e,t){var n=ei(e);return nr(n,Gt(t,0,n.length))}function ca(e,t,n,o){if(!Mr(e))return e;t=wa(t,e);for(var r=-1,i=t.length,s=e;null!=s&&++r<i;){var d=ar(t[r]),l=n;if(r!=i-1){var p=s[d];l=o?o(p,d,s):void 0,void 0===l&&(l=Mr(p)?p:jo(t[r+1])?[]:{})}Bt(s,d,l),s=s[d]}return e}function ua(e){return nr(ei(e))}function ma(e,t,n){var o=-1,r=e.length;0>t&&(t=-t>r?0:r+t),n=n>r?r:n,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=ui(r);++o<r;)i[o]=e[o+t];return i}function ha(e,t){var n;return Is(e,function(e,o,r){return n=t(e,o,r),!n}),!!n}function fa(e,t,n){var o=0,r=null==e?o:e.length;if("number"==typeof t&&t===t&&r<=ke>>>1){for(;o<r;){var i=o+r>>>1,s=e[i];null!==s&&!Br(s)&&(n?s<=t:s<t)?o=i+1:r=i}return r}return ga(e,t,ri,n)}function ga(e,t,n,o){t=n(t);for(var r=0,i=null==e?0:e.length,s=t!==t,d=null===t,l=Br(t),p=void 0===t;r<i;){var c=Yi((r+i)/2),u=n(e[c]),m=void 0!==u,h=null===u,f=u===u,g=Br(u);if(s)var y=o||f;else y=p?f&&(o||m):d?f&&m&&(o||!h):l?f&&m&&!h&&(o||!g):h||g?!1:o?u<=t:u<t;y?r=c+1:i=c}return ns(i,ke-1)}function ya(e,t){for(var n=-1,o=e.length,r=0,i=[];++n<o;){var s=e[n],d=t?t(s):s;if(!n||!Nr(d,l)){var l=d;i[r++]=0===s?0:s}}return i}function ba(e){return"number"==typeof e?e:Br(e)?Se:+e}function _a(e){if("string"==typeof e)return e;if(Sd(e))return u(e,_a)+"";if(Br(e))return Cs?Cs.call(e):"";var t=e+"";return"0"==t&&1/e==-Te?"-0":t}function va(e,t,n){var o=-1,r=p,i=e.length,s=!0,d=[],l=d;if(n)s=!1,r=c;else if(i>=ae){var u=t?null:Ps(e);if(u)return Q(u);s=!1,r=M,l=new Ct}else l=t?[]:d;outer:for(;++o<i;){var m=e[o],h=t?t(m):m;if(m=n||0!==m?m:0,s&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue outer;t&&l.push(h),d.push(m)}else r(l,h,n)||(l!==d&&l.push(h),d.push(m))}return d}function Ea(e,t){return t=wa(t,e),e=Jo(e,t),null==e||delete e[ar(cr(t))]}function Ca(e,t,n,o){return ca(e,t,n(pn(e,t)),o)}function Ta(e,t,n,o){for(var r=e.length,i=o?r:-1;(o?i--:++i<r)&&t(e[i],i,e););return n?ma(e,o?0:i,o?i+1:r):ma(e,o?i+1:0,o?r:i)}function Ia(e,t){var n=e;return n instanceof x&&(n=n.value()),h(t,function(e,t){return t.func.apply(t.thisArg,m([e],t.args))},n)}function Sa(e,t,n){var o=e.length;if(2>o)return o?va(e[0]):[];for(var r=-1,i=ui(o);++r<o;)for(var s=e[r],d=-1;++d<o;)d!=r&&(i[r]=Jt(i[r]||s,e[d],t,n));return va(an(i,1),t,n)}function ka(e,t,n){for(var o=-1,r=e.length,i=t.length,s={},d;++o<r;)d=o<i?t[o]:void 0,n(s,e[o],d);return s}function xa(e){return Rr(e)?e:[]}function Na(e){return"function"==typeof e?e:ri}function wa(e,t){return Sd(e)?e:Vo(e,t)?[e]:Bs(Gr(e))}function Ra(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:ma(e,t,n)}function Pa(e,t){if(t)return e.slice();var n=e.length,o=Li?Li(n):new e.constructor(n);return e.copy(o),o}function Aa(e){var t=new e.constructor(e.byteLength);return new Mi(t).set(new Mi(e)),t}function Da(e,t){var n=t?Aa(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Oa(e){var t=new e.constructor(e.source,St.exec(e));return t.lastIndex=e.lastIndex,t}function Ma(e){return Es?yi(Es.call(e)):{}}function La(e,t){var n=t?Aa(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Fa(e,t){if(e!==t){var n=void 0!==e,o=null===e,r=e===e,i=Br(e),s=void 0!==t,d=null===t,l=t===t,p=Br(t);if(!d&&!p&&!i&&e>t||i&&s&&l&&!d&&!p||o&&s&&l||!n&&l||!r)return 1;if(!o&&!i&&!p&&e<t||p&&n&&r&&!o&&!i||d&&n&&r||!s&&r||!l)return-1}return 0}function Ua(e,t,n){for(var o=-1,r=e.criteria,i=t.criteria,s=r.length,d=n.length,l;++o<s;)if(l=Fa(r[o],i[o]),l){if(o>=d)return l;var p=n[o];return l*("desc"==p?-1:1)}return e.index-t.index}function ja(e,t,n,o){for(var r=-1,i=e.length,s=n.length,d=-1,l=t.length,p=ts(i-s,0),c=ui(l+p),u=!o;++d<l;)c[d]=t[d];for(;++r<s;)(u||r<i)&&(c[n[r]]=e[r]);for(;p--;)c[d++]=e[r++];return c}function Ba(e,t,n,o){for(var r=-1,i=e.length,s=-1,d=n.length,l=-1,p=t.length,c=ts(i-d,0),u=ui(c+p),m=!o;++r<c;)u[r]=e[r];for(var h=r;++l<p;)u[h+l]=t[l];for(;++s<d;)(m||r<i)&&(u[h+n[s]]=e[r++]);return u}function Va(e,t){var n=-1,o=e.length;for(t||(t=ui(o));++n<o;)t[n]=e[n];return t}function qa(e,t,n,o){var r=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var d=t[i],l=o?o(n[d],e[d],d,n,e):void 0;void 0===l&&(l=e[d]),r?Ht(n,d,l):Bt(n,d,l)}return n}function Wa(e,t){return qa(e,Ds(e),t)}function za(e,t){return qa(e,Os(e),t)}function Ha(e,t){return function(n,o){var i=Sd(n)?r:qt,s=t?t():{};return i(n,e,ko(o,2),s)}}function Ka(e){return da(function(t,n){var o=-1,r=n.length,i=1<r?n[r-1]:void 0,s=2<r?n[2]:void 0;for(i=3<e.length&&"function"==typeof i?(r--,i):void 0,s&&Bo(n[0],n[1],s)&&(i=3>r?void 0:i,r=1),t=yi(t);++o<r;){var d=n[o];d&&e(t,d,o,i)}return t})}function Ga(e,t){return function(n,o){if(null==n)return n;if(!wr(n))return e(n,o);for(var r=n.length,i=t?r:-1,s=yi(n);(t?i--:++i<r)&&!1!==o(s[i],i,s););return n}}function Qa(e){return function(t,n,o){for(var r=-1,i=yi(t),s=o(t),d=s.length,l;d--&&(l=s[e?d:++r],!1!==n(i[l],l,i)););return t}}function Ya(e,t,n){function o(){var t=this&&this!==En&&this instanceof o?i:e;return t.apply(r?n:this,arguments)}var r=t&ue,i=Ja(e);return o}function Xa(e){return function(t){t=Gr(t);var n=V(t)?Z(t):void 0,o=n?n[0]:t.charAt(0),r=n?Ra(n,1).join(""):t.slice(1);return o[e]()+r}}function $a(e){return function(t){return h(ai(ni(t).replace(rn,"")),e,"")}}function Ja(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6]);}var n=Ts(e.prototype),o=e.apply(n,t);return Mr(o)?o:n}}function Za(e,t,n){function r(){for(var s=arguments.length,d=ui(s),l=s,p=So(r);l--;)d[l]=arguments[l];var c=3>s&&d[0]!==p&&d[s-1]!==p?[]:K(d,p);if(s-=c.length,s<n)return co(e,t,no,r.placeholder,void 0,d,c,void 0,void 0,n-s);var u=this&&this!==En&&this instanceof r?i:e;return o(u,this,d)}var i=Ja(e);return r}function eo(e){return function(t,n,o){var r=yi(t);if(!wr(t)){var i=ko(n,3);t=Xr(t),n=function(e){return i(r[e],e,r)}}var s=e(t,n,o);return-1<s?r[i?t[s]:s]:void 0}}function to(e){return Eo(function(t){var n=t.length,o=n,r=_.prototype.thru;for(e&&t.reverse();o--;){var i=t[o];if("function"!=typeof i)throw new vi(oe);if(r&&!s&&"wrapper"==Io(i))var s=new _([],!0)}for(o=s?o:n;++o<n;){i=t[o];var d=Io(i),l="wrapper"==d?As(i):void 0;s=l&&Wo(l[0])&&l[1]==(_e|fe|ye|ve)&&!l[4].length&&1==l[9]?s[Io(l[0])].apply(s,l[3]):1==i.length&&Wo(i)?s[d]():s.thru(i)}return function(){var e=arguments,o=e[0];if(s&&1==e.length&&Sd(o))return s.plant(o).value();for(var r=0,i=n?t[r].apply(this,e):o;++r<n;)i=t[r].call(this,i);return i}})}function no(e,t,n,o,r,i,s,d,l,p){function c(){for(var b=arguments.length,_=ui(b),v=b;v--;)_[v]=arguments[v];if(f)var E=So(c),C=U(_,E);if(o&&(_=ja(_,o,r,f)),i&&(_=Ba(_,i,s,f)),b-=C,f&&b<p){var T=K(_,E);return co(e,t,no,c.placeholder,n,_,T,d,l,p-b)}var I=m?n:this,S=h?I[e]:e;return b=_.length,d?_=Zo(_,d):g&&1<b&&_.reverse(),u&&l<b&&(_.length=l),this&&this!==En&&this instanceof c&&(S=y||Ja(S)),S.apply(I,_)}var u=t&_e,m=t&ue,h=t&me,f=t&(fe|ge),g=t&Ee,y=h?void 0:Ja(e);return c}function ao(e,t){return function(n,o){return kn(n,e,t(o),{})}}function oo(e,t){return function(n,o){var r;if(void 0===n&&void 0===o)return t;if(void 0!==n&&(r=n),void 0!==o){if(void 0===r)return o;"string"==typeof n||"string"==typeof o?(n=_a(n),o=_a(o)):(n=ba(n),o=ba(o)),r=e(n,o)}return r}}function ro(e){return Eo(function(t){return t=u(t,D(ko())),da(function(n){var r=this;return e(t,function(e){return o(e,r,n)})})})}function io(e,t){t=void 0===t?" ":_a(t);var n=t.length;if(2>n)return n?sa(t,e):t;var o=sa(t,Qi(e/J(t)));return V(t)?Ra(Z(o),0,e).join(""):o.slice(0,e)}function so(e,t,n,r){function i(){for(var t=-1,l=arguments.length,p=-1,c=r.length,u=ui(c+l),m=this&&this!==En&&this instanceof i?d:e;++p<c;)u[p]=r[p];for(;l--;)u[p++]=arguments[++t];return o(m,s?n:this,u)}var s=t&ue,d=Ja(e);return i}function lo(e){return function(t,n,o){return o&&"number"!=typeof o&&Bo(t,n,o)&&(n=o=void 0),t=qr(t),void 0===n?(n=t,t=0):n=qr(n),o=void 0===o?t<n?1:-1:qr(o),ia(t,n,o,e)}}function po(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Hr(t),n=Hr(n)),e(t,n)}}function co(e,t,n,o,r,i,s,d,l,p){var c=t&fe,u=c?s:void 0,m=c?void 0:s,h=c?i:void 0,f=c?void 0:i;t|=c?ye:be,t&=~(c?be:ye),t&he||(t&=~(ue|me));var g=[e,t,r,h,u,f,m,d,l,p],y=n.apply(void 0,g);return Wo(e)&&Fs(y,g),y.placeholder=o,er(y,e,t)}function uo(e){var t=gi[e];return function(e,n){if(e=Hr(e),n=null==n?0:ns(Wr(n),292),n){var o=(Gr(e)+"e").split("e"),r=t(o[0]+"e"+(+o[1]+n));return o=(Gr(r)+"e").split("e"),+(o[0]+"e"+(+o[1]-n))}return t(e)}}function mo(e){return function(t){var n=Ms(t);return n==Me?z(t):n==Be?Y(t):A(t,e(t))}}function ho(e,t,n,o,r,i,s,d){var l=t&me;if(!l&&"function"!=typeof e)throw new vi(oe);var p=o?o.length:0;if(p||(t&=~(ye|be),o=r=void 0),s=void 0===s?s:ts(Wr(s),0),d=void 0===d?d:Wr(d),p-=r?r.length:0,t&be){var c=o,u=r;o=r=void 0}var m=l?void 0:As(e),h=[e,t,n,o,r,c,u,i,s,d];if(m&&Qo(h,m),e=h[0],t=h[1],n=h[2],o=h[3],r=h[4],d=h[9]=void 0===h[9]?l?0:e.length:ts(h[9]-p,0),!d&&t&(fe|ge)&&(t&=~(fe|ge)),!t||t==ue)var f=Ya(e,t,n);else f=t==fe||t==ge?Za(e,t,d):t!=ye&&t!=(ue|ye)||r.length?no.apply(void 0,h):so(e,t,n,o);var g=m?Ns:Fs;return er(g(f,h),e,t)}function fo(e,t,n,o){return void 0===e||Nr(e,Ti[n])&&!ki.call(o,n)?t:e}function go(e,t,n,o,r,i){return Mr(e)&&Mr(t)&&(i.set(t,e),Xn(e,t,void 0,go,i),i["delete"](t)),e}function yo(e){return Ur(e)?void 0:e}function bo(e,t,n,o,r,i){var s=n&pe,d=e.length,l=t.length;if(d!=l&&!(s&&l>d))return!1;var p=i.get(e);if(p&&i.get(t))return p==t;var c=-1,u=!0,m=n&ce?new Ct:void 0;for(i.set(e,t),i.set(t,e);++c<d;){var h=e[c],f=t[c];if(o)var y=s?o(f,h,c,t,e,i):o(h,f,c,e,t,i);if(void 0!==y){if(y)continue;u=!1;break}if(m){if(!g(t,function(e,t){if(!M(m,t)&&(h===e||r(h,e,n,o,i)))return m.push(t)})){u=!1;break}}else if(!(h===f||r(h,f,n,o,i))){u=!1;break}}return i["delete"](e),i["delete"](t),u}function _o(e,t,n,o,r,i,s){switch(n){case He:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ze:return e.byteLength==t.byteLength&&i(new Mi(e),new Mi(t));case Re:case Pe:case Le:return Nr(+e,+t);case Ae:return e.name==t.name&&e.message==t.message;case je:case Ve:return e==t+"";case Me:var d=z;case Be:var l=o&pe;if(d||(d=Q),e.size!=t.size&&!l)return!1;var p=s.get(e);if(p)return p==t;o|=ce,s.set(e,t);var c=bo(d(e),d(t),o,r,i,s);return s["delete"](e),c;case qe:if(Es)return Es.call(e)==Es.call(t);}return!1}function vo(e,t,n,o,r,i){var s=n&pe,d=Co(e),l=d.length,p=Co(t),c=p.length;if(l!=c&&!s)return!1;for(var u=l,m;u--;)if(m=d[u],s?!(m in t):!ki.call(t,m))return!1;var h=i.get(e);if(h&&i.get(t))return h==t;var f=!0;i.set(e,t),i.set(t,e);for(var g=s;++u<l;){m=d[u];var y=e[m],b=t[m];if(o)var _=s?o(b,y,m,t,e,i):o(y,b,m,e,t,i);if(void 0===_?!(y===b||r(y,b,n,o,i)):!_){f=!1;break}g||(g="constructor"==m)}if(f&&!g){var v=e.constructor,E=t.constructor;v!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof E&&E instanceof E)&&(f=!1)}return i["delete"](e),i["delete"](t),f}function Eo(e){return js($o(e,void 0,lr),e+"")}function Co(e){return cn(e,Xr,Ds)}function To(e){return cn(e,$r,Os)}function Io(e){for(var t=e.name+"",n=hs[t],o=ki.call(hs,t)?n.length:0;o--;){var r=n[o],i=r.func;if(null==i||i==e)return r.name}return t}function So(e){var t=ki.call(n,"placeholder")?n:e;return t.placeholder}function ko(){var e=n.iteratee||ii;return e=e===ii?Wn:e,arguments.length?e(arguments[0],arguments[1]):e}function xo(e,t){var n=e.__data__;return qo(t)?n["string"==typeof t?"string":"hash"]:n.map}function No(e){for(var t=Xr(e),n=t.length;n--;){var o=t[n],r=e[o];t[n]=[o,r,Ko(r)]}return t}function wo(e,t){var n=B(e,t);return qn(n)?n:void 0}function Ro(e){var t=ki.call(e,Wi),n=e[Wi];try{e[Wi]=void 0}catch(t){}var o=wi.call(e);return t?e[Wi]=n:delete e[Wi],o}function Po(e,t,n){for(var o=-1,r=n.length;++o<r;){var i=n[o],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=ns(t,e+s);break;case"takeRight":e=ts(e,t-s);}}return{start:e,end:t}}function Ao(e){var t=e.match(vt);return t?t[1].split(Et):[]}function Do(e,t,n){t=wa(t,e);for(var o=-1,r=t.length,i=!1,s;++o<r&&(s=ar(t[o]),!!(i=null!=e&&n(e,s)));)e=e[s];return i||++o!=r?i:(r=null==e?0:e.length,!!r&&Or(r)&&jo(s,r)&&(Sd(e)||Id(e)))}function Oo(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ki.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Mo(e){return"function"!=typeof e.constructor||Ho(e)?{}:Ts(Fi(e))}function Lo(e,t,n){var o=e.constructor;return t===ze?Aa(e):t===Re||t===Pe?new o(+e):t===He?Da(e,n):t===Ke||t===Ge||t===Qe||t===Ye||t===Xe||t===$e||t===Je||t===Ze||t===et?La(e,n):t===Me?new o:t===Le||t===Ve?new o(e):t===je?Oa(e):t===Be?new o:t===qe?Ma(e):void 0}function Fo(e,t){var n=t.length;if(!n)return e;var o=n-1;return t[o]=(1<n?"& ":"")+t[o],t=t.join(2<n?", ":" "),e.replace(_t,"{\n/* [wrapped with "+t+"] */\n")}function Uo(e){return Sd(e)||Id(e)||!!(Vi&&e&&e[Vi])}function jo(e,t){var n=typeof e;return t=null==t?Ie:t,!!t&&("number"==n||"symbol"!=n&&Rt.test(e))&&-1<e&&0==e%1&&e<t}function Bo(e,t,n){if(!Mr(n))return!1;var o=typeof t;return("number"==o?!!(wr(n)&&jo(t,n.length)):!!("string"==o&&t in n))&&Nr(n[t],e)}function Vo(e,t){if(Sd(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||Br(e)||ut.test(e)||!lt.test(e)||null!=t&&e in yi(t)}function qo(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function Wo(e){var t=Io(e),o=n[t];if("function"!=typeof o||!(t in x.prototype))return!1;if(e===o)return!0;var r=As(o);return!!r&&e===r[0]}function zo(e){return!!Ni&&Ni in e}function Ho(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Ti;return e===n}function Ko(e){return e===e&&!Mr(e)}function Go(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in yi(n))}}function Qo(e,t){var n=e[1],o=t[1],r=n|o,i=r<(ue|me|_e),s=o==_e&&n==fe||o==_e&&n==ve&&e[7].length<=t[8]||o==(_e|ve)&&t[7].length<=t[8]&&n==fe;if(!(i||s))return e;o&ue&&(e[2]=t[2],r|=n&ue?0:he);var d=t[3];if(d){var l=e[3];e[3]=l?ja(l,d,t[4]):d,e[4]=l?K(e[3],ie):t[4]}return d=t[5],d&&(l=e[5],e[5]=l?Ba(l,d,t[6]):d,e[6]=l?K(e[5],ie):t[6]),d=t[7],d&&(e[7]=d),o&_e&&(e[8]=null==e[8]?t[8]:ns(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function Yo(e){var t=[];if(null!=e)for(var n in yi(e))t.push(n);return t}function Xo(e){return wi.call(e)}function $o(e,t,n){return t=ts(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=ts(r.length-t,0),d=ui(s);++i<s;)d[i]=r[t+i];i=-1;for(var l=ui(t+1);++i<t;)l[i]=r[i];return l[t]=n(d),o(e,this,l)}}function Jo(e,t){return 2>t.length?e:pn(e,ma(t,0,-1))}function Zo(e,t){for(var n=e.length,o=ns(t.length,n),r=Va(e),i;o--;)i=t[o],e[o]=jo(i,n)?r[i]:void 0;return e}function er(e,t,n){var o=t+"";return js(e,Fo(o,rr(Ao(o),n)))}function tr(e){var t=0,n=0;return function(){var o=as(),r=16-(o-n);if(n=o,!(0<r))t=0;else if(++t>=800)return arguments[0];return e.apply(void 0,arguments)}}function nr(e,t){var n=-1,o=e.length;for(t=void 0===t?o:t;++n<t;){var r=ra(n,o-1),i=e[r];e[r]=e[n],e[n]=i}return e.length=t,e}function ar(e){if("string"==typeof e||Br(e))return e;var t=e+"";return"0"==t&&1/e==-Te?"-0":t}function or(e){if(null!=e){try{return Si.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function rr(e,t){return i(xe,function(n){var o="_."+n[0];t&n[1]&&!p(e,o)&&e.push(o)}),e.sort()}function ir(e){if(e instanceof x)return e.clone();var t=new _(e.__wrapped__,e.__chain__);return t.__actions__=Va(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function sr(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=null==n?0:Wr(n);return 0>r&&(r=ts(o+r,0)),E(e,ko(t,3),r)}function dr(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=o-1;return void 0!==n&&(r=Wr(n),r=0>n?ts(o+r,0):ns(r,o-1)),E(e,ko(t,3),r,!0)}function lr(e){var t=null==e?0:e.length;return t?an(e,1):[]}function pr(e){return e&&e.length?e[0]:void 0}function cr(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}function ur(e,t){return e&&e.length&&t&&t.length?aa(e,t):e}function mr(e){return null==e?e:is.call(e)}function hr(e){if(!(e&&e.length))return[];var t=0;return e=l(e,function(e){if(Rr(e))return t=ts(e.length,t),!0}),P(t,function(t){return u(e,k(t))})}function fr(e,t){if(!(e&&e.length))return[];var n=hr(e);return null==t?n:u(n,function(e){return o(t,void 0,e)})}function gr(e){var t=n(e);return t.__chain__=!0,t}function yr(e,t){return t(e)}function br(e,t){var n=Sd(e)?i:Is;return n(e,ko(t,3))}function _r(e,t){var n=Sd(e)?s:Ss;return n(e,ko(t,3))}function vr(e,t){var n=Sd(e)?u:Gn;return n(e,ko(t,3))}/**
     * Creates an array of elements, sorted in ascending order by the results of
     * running each element in a collection thru each iteratee. This method
     * performs a stable sort, that is, it preserves the original sort order of
     * equal elements. The iteratees are invoked with one argument: (value).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to iterate over.
     * @param {...(Function|Function[])} [iteratees=[_.identity]]
     *  The iteratees to sort by.
     * @returns {Array} Returns the new sorted array.
     * @example
     *
     * var users = [
     *   { 'user': 'fred',   'age': 48 },
     *   { 'user': 'barney', 'age': 36 },
     *   { 'user': 'fred',   'age': 40 },
     *   { 'user': 'barney', 'age': 34 }
     * ];
     *
     * _.sortBy(users, [function(o) { return o.user; }]);
     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]
     *
     * _.sortBy(users, ['user', 'age']);
     * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]
     */function Er(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,ho(e,_e,void 0,void 0,void 0,void 0,t)}function Cr(e,t){var n;if("function"!=typeof t)throw new vi(oe);return e=Wr(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=void 0),n}}function Tr(e,t,n){t=n?void 0:t;var o=ho(e,fe,void 0,void 0,void 0,void 0,void 0,t);return o.placeholder=Tr.placeholder,o}function Ir(e,t,n){t=n?void 0:t;var o=ho(e,ge,void 0,void 0,void 0,void 0,void 0,t);return o.placeholder=Ir.placeholder,o}function Sr(e,t,n){function o(t){var n=f,o=g;return f=g=void 0,c=t,b=e.apply(o,n),b}function r(e){return c=e,_=Us(d,t),u?o(e):b}function i(e){var n=e-v,o=e-c,r=t-n;return m?ns(r,y-o):r}function s(e){var n=e-v,o=e-c;return void 0==v||n>=t||0>n||m&&o>=y}function d(){var e=md();return s(e)?l(e):void(_=Us(d,i(e)))}function l(e){return(_=void 0,h&&f)?o(e):(f=g=void 0,b)}function p(){var e=md(),n=s(e);if(f=arguments,g=this,v=e,n){if(void 0===_)return r(v);if(m)return _=Us(d,t),o(v)}return void 0===_&&(_=Us(d,t)),b}var c=0,u=!1,m=!1,h=!0,f,g,y,b,_,v;if("function"!=typeof e)throw new vi(oe);return t=Hr(t)||0,Mr(n)&&(u=!!n.leading,m="maxWait"in n,y=m?ts(Hr(n.maxWait)||0,t):y,h="trailing"in n?!!n.trailing:h),p.cancel=function(){void 0!==_&&Rs(_),c=0,f=v=g=_=void 0},p.flush=function(){return void 0===_?b:l(md())},p}function kr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new vi(oe);var n=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=n.cache;if(i.has(r))return i.get(r);var s=e.apply(this,o);return n.cache=i.set(r,s)||i,s};return n.cache=new(kr.Cache||te),n}function xr(e){if("function"!=typeof e)throw new vi(oe);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2]);}return!e.apply(this,t)}}function Nr(e,t){return e===t||e!==e&&t!==t}function wr(e){return null!=e&&Or(e.length)&&!Ar(e)}function Rr(e){return Lr(e)&&wr(e)}function Pr(e){if(!Lr(e))return!1;var t=gn(e);return t==Ae||t=="[object DOMException]"||"string"==typeof e.message&&"string"==typeof e.name&&!Ur(e)}function Ar(e){if(!Mr(e))return!1;var t=gn(e);return t==De||t==Oe||t=="[object AsyncFunction]"||t=="[object Proxy]"}function Dr(e){return"number"==typeof e&&e==Wr(e)}function Or(e){return"number"==typeof e&&-1<e&&0==e%1&&e<=Ie}function Mr(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Lr(e){return null!=e&&"object"==typeof e}function Fr(e){return"number"==typeof e||Lr(e)&&gn(e)==Le}function Ur(e){if(!Lr(e)||gn(e)!=Fe)return!1;var t=Fi(e);if(null===t)return!0;var n=ki.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Si.call(n)==Ri}function jr(e){return"string"==typeof e||!Sd(e)&&Lr(e)&&gn(e)==Ve}function Br(e){return"symbol"==typeof e||Lr(e)&&gn(e)==qe}function Vr(e){if(!e)return[];if(wr(e))return jr(e)?Z(e):Va(e);if(qi&&e[qi])return W(e[qi]());var t=Ms(e),n=t==Me?z:t==Be?Q:ei;return n(e)}function qr(e){if(!e)return 0===e?e:0;if(e=Hr(e),e===Te||e===-Te){var t=0>e?-1:1;return t*1.7976931348623157e308}return e===e?e:0}function Wr(e){var t=qr(e),n=t%1;return t===t?n?t-n:t:0}function zr(e){return e?Gt(Wr(e),0,ke):0}function Hr(e){if("number"==typeof e)return e;if(Br(e))return Se;if(Mr(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Mr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(gt,"");var n=xt.test(e);return n||wt.test(e)?bn(e.slice(2),n?2:8):kt.test(e)?Se:+e}function Kr(e){return qa(e,$r(e))}/**
     * Converts `value` to a string. An empty string is returned for `null`
     * and `undefined` values. The sign of `-0` is preserved.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.toString(null);
     * // => ''
     *
     * _.toString(-0);
     * // => '-0'
     *
     * _.toString([1, 2, 3]);
     * // => '1,2,3'
     */function Gr(e){return null==e?"":_a(e)}function Qr(e,t,n){var o=null==e?void 0:pn(e,t);return void 0===o?n:o}function Yr(e,t){return null!=e&&Do(e,t,Cn)}function Xr(e){return wr(e)?Mt(e):zn(e)}function $r(e){return wr(e)?Mt(e,!0):Hn(e)}function Jr(e,t){if(null==e)return{};var n=u(To(e),function(e){return[e]});return t=ko(t),ta(e,n,function(e,n){return t(e,n[0])})}function Zr(e,t,n){t=wa(t,e);var o=-1,r=t.length;for(r||(r=1,e=void 0);++o<r;){var i=null==e?void 0:e[ar(t[o])];void 0===i&&(o=r,i=n),e=Ar(i)?i.call(e):i}return e}function ei(e){return null==e?[]:O(e,Xr(e))}function ti(e){return ol(Gr(e).toLowerCase())}function ni(e){return e=Gr(e),e&&e.replace(Pt,On).replace(sn,"")}function ai(e,t,n){return e=Gr(e),t=n?void 0:t,void 0===t?q(e)?ne(e):b(e):e.match(t)||[]}function oi(e){return function(){return e}}function ri(e){return e}function ii(e){return Wn("function"==typeof e?e:Qt(e,se))}function si(e,t,n){var o=Xr(t),r=ln(t,o);null!=n||Mr(t)&&(r.length||!o.length)||(n=t,t=e,e=this,r=ln(t,Xr(t)));var s=!(Mr(n)&&"chain"in n)||!!n.chain,d=Ar(e);return i(r,function(n){var o=t[n];e[n]=o,d&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),r=n.__actions__=Va(this.__actions__);return r.push({func:o,args:arguments,thisArg:e}),n.__chain__=t,n}return o.apply(e,m([this.value()],arguments))})}),e}function di(){}function li(e){return Vo(e)?k(ar(e)):na(e)}function pi(){return[]}function ci(){return!1}t=null==t?En:Fn.defaults(En.Object(),t,Fn.pick(En,un));var ui=t.Array,mi=t.Date,hi=t.Error,fi=t.Function,gi=t.Math,yi=t.Object,bi=t.RegExp,_i=t.String,vi=t.TypeError,Ei=ui.prototype,Ci=fi.prototype,Ti=yi.prototype,Ii=t["__core-js_shared__"],Si=Ci.toString,ki=Ti.hasOwnProperty,xi=0,Ni=function(){var e=/[^.]+$/.exec(Ii&&Ii.keys&&Ii.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),wi=Ti.toString,Ri=Si.call(yi),Pi=En._,Ai=bi("^"+Si.call(ki).replace(ht,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Di=In?t.Buffer:void 0,Oi=t.Symbol,Mi=t.Uint8Array,Li=Di?Di.allocUnsafe:void 0,Fi=H(yi.getPrototypeOf,yi),Ui=yi.create,ji=Ti.propertyIsEnumerable,Bi=Ei.splice,Vi=Oi?Oi.isConcatSpreadable:void 0,qi=Oi?Oi.iterator:void 0,Wi=Oi?Oi.toStringTag:void 0,zi=function(){try{var e=wo(yi,"defineProperty");return e({},"",{}),e}catch(t){}}(),Hi=t.clearTimeout!==En.clearTimeout&&t.clearTimeout,Ki=mi&&mi.now!==En.Date.now&&mi.now,Gi=t.setTimeout!==En.setTimeout&&t.setTimeout,Qi=gi.ceil,Yi=gi.floor,Xi=yi.getOwnPropertySymbols,$i=Di?Di.isBuffer:void 0,Ji=t.isFinite,Zi=Ei.join,es=H(yi.keys,yi),ts=gi.max,ns=gi.min,as=mi.now,os=t.parseInt,rs=gi.random,is=Ei.reverse,ss=wo(t,"DataView"),ds=wo(t,"Map"),ls=wo(t,"Promise"),ps=wo(t,"Set"),cs=wo(t,"WeakMap"),us=wo(yi,"create"),ms=cs&&new cs,hs={},fs=or(ss),gs=or(ds),ys=or(ls),bs=or(ps),_s=or(cs),vs=Oi?Oi.prototype:void 0,Es=vs?vs.valueOf:void 0,Cs=vs?vs.toString:void 0,Ts=function(){function e(){}return function(t){if(!Mr(t))return{};if(Ui)return Ui(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();n.templateSettings={escape:dt,evaluate:pt,interpolate:ct,variable:"",imports:{_:n}},n.prototype=y.prototype,n.prototype.constructor=n,_.prototype=Ts(y.prototype),_.prototype.constructor=_,x.prototype=Ts(y.prototype),x.prototype.constructor=x,X.prototype.clear=function(){this.__data__=us?us(null):{},this.size=0},X.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},X.prototype.get=function(e){var t=this.__data__;if(us){var n=t[e];return n===re?void 0:n}return ki.call(t,e)?t[e]:void 0},X.prototype.has=function(e){var t=this.__data__;return us?void 0!==t[e]:ki.call(t,e)},X.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=us&&void 0===t?re:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype["delete"]=function(e){var t=this.__data__,n=Vt(t,e);if(0>n)return!1;var o=t.length-1;return n==o?t.pop():Bi.call(t,n,1),--this.size,!0},ee.prototype.get=function(e){var t=this.__data__,n=Vt(t,e);return 0>n?void 0:t[n][1]},ee.prototype.has=function(e){return-1<Vt(this.__data__,e)},ee.prototype.set=function(e,t){var n=this.__data__,o=Vt(n,e);return 0>o?(++this.size,n.push([e,t])):n[o][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new(ds||ee),string:new X}},te.prototype["delete"]=function(e){var t=xo(this,e)["delete"](e);return this.size-=t?1:0,t},te.prototype.get=function(e){return xo(this,e).get(e)},te.prototype.has=function(e){return xo(this,e).has(e)},te.prototype.set=function(e,t){var n=xo(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},Ct.prototype.add=Ct.prototype.push=function(e){return this.__data__.set(e,re),this},Ct.prototype.has=function(e){return this.__data__.has(e)},Ot.prototype.clear=function(){this.__data__=new ee,this.size=0},Ot.prototype["delete"]=function(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n},Ot.prototype.get=function(e){return this.__data__.get(e)},Ot.prototype.has=function(e){return this.__data__.has(e)},Ot.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ee){var o=n.__data__;if(!ds||o.length<ae-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(o)}return n.set(e,t),this.size=n.size,this};var Is=Ga(on),Ss=Ga(dn,!0),ks=Qa(),xs=Qa(!0),Ns=ms?function(e,t){return ms.set(e,t),e}:ri,ws=zi?function(e,t){return zi(e,"toString",{configurable:!0,enumerable:!1,value:oi(t),writable:!0})}:ri,Rs=Hi||function(e){return En.clearTimeout(e)},Ps=ps&&1/Q(new ps([,-0]))[1]==Te?function(e){return new ps(e)}:di,As=ms?function(e){return ms.get(e)}:di,Ds=Xi?function(e){return null==e?[]:(e=yi(e),l(Xi(e),function(t){return ji.call(e,t)}))}:pi,Os=Xi?function(e){for(var t=[];e;)m(t,Ds(e)),e=Fi(e);return t}:pi,Ms=gn;(ss&&Ms(new ss(new ArrayBuffer(1)))!=He||ds&&Ms(new ds)!=Me||ls&&Ms(ls.resolve())!=Ue||ps&&Ms(new ps)!=Be||cs&&Ms(new cs)!=We)&&(Ms=function(e){var t=gn(e),n=t==Fe?e.constructor:void 0,o=n?or(n):"";if(o)switch(o){case fs:return He;case gs:return Me;case ys:return Ue;case bs:return Be;case _s:return We;}return t});var Ls=Ii?Ar:ci,Fs=tr(Ns),Us=Gi||function(e,t){return En.setTimeout(e,t)},js=tr(ws),Bs=function(e){var t=kr(e,function(e){return n.size===500&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(mt,function(e,n,o,r){t.push(o?r.replace(Tt,"$1"):n||e)}),t}),Vs=da(function(e,t){return Rr(e)?Jt(e,an(t,1,Rr,!0)):[]}),qs=da(function(e,t){var n=cr(t);return Rr(n)&&(n=void 0),Rr(e)?Jt(e,an(t,1,Rr,!0),ko(n,2)):[]}),Ws=da(function(e,t){var n=cr(t);return Rr(n)&&(n=void 0),Rr(e)?Jt(e,an(t,1,Rr,!0),void 0,n):[]}),zs=da(function(e){var t=u(e,xa);return t.length&&t[0]===e[0]?Sn(t):[]}),Hs=da(function(e){var t=cr(e),n=u(e,xa);return t===cr(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?Sn(n,ko(t,2)):[]}),Ks=da(function(e){var t=cr(e),n=u(e,xa);return t="function"==typeof t?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?Sn(n,void 0,t):[]}),Gs=da(ur),Qs=Eo(function(e,t){var n=null==e?0:e.length,o=Kt(e,t);return oa(e,u(t,function(e){return jo(e,n)?+e:e}).sort(Fa)),o}),Ys=da(function(e){return va(an(e,1,Rr,!0))}),Xs=da(function(e){var t=cr(e);return Rr(t)&&(t=void 0),va(an(e,1,Rr,!0),ko(t,2))}),$s=da(function(e){var t=cr(e);return t="function"==typeof t?t:void 0,va(an(e,1,Rr,!0),void 0,t)}),Js=da(function(e,t){return Rr(e)?Jt(e,t):[]}),Zs=da(function(e){return Sa(l(e,Rr))}),ed=da(function(e){var t=cr(e);return Rr(t)&&(t=void 0),Sa(l(e,Rr),ko(t,2))}),td=da(function(e){var t=cr(e);return t="function"==typeof t?t:void 0,Sa(l(e,Rr),void 0,t)}),nd=da(hr),ad=da(function(e){var t=e.length,n=1<t?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,fr(e,n)}),od=Eo(function(e){var t=e.length,n=t?e[0]:0,o=this.__wrapped__,r=function(t){return Kt(t,e)};return 1<t||this.__actions__.length||!(o instanceof x)||!jo(n)?this.thru(r):(o=o.slice(n,+n+(t?1:0)),o.__actions__.push({func:yr,args:[r],thisArg:void 0}),new _(o,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e}))}),rd=Ha(function(e,t,n){ki.call(e,n)?++e[n]:Ht(e,n,1)}),id=eo(sr),sd=eo(dr),dd=Ha(function(e,t,n){ki.call(e,n)?e[n].push(t):Ht(e,n,[t])}),ld=da(function(e,t,n){var r=-1,i=wr(e)?ui(e.length):[];return Is(e,function(e){i[++r]="function"==typeof t?o(t,e,n):Dn(e,t,n)}),i}),pd=Ha(function(e,t,n){Ht(e,n,t)}),cd=Ha(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ud=da(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Bo(e,t[0],t[1])?t=[]:2<n&&Bo(t[0],t[1],t[2])&&(t=[t[0]]),Zn(e,an(t,1),[])}),md=Ki||function(){return En.Date.now()},hd=da(function(e,t,n){var o=ue;if(n.length){var r=K(n,So(hd));o|=ye}return ho(e,o,t,n,r)}),fd=da(function(e,t,n){var o=ue|me;if(n.length){var r=K(n,So(fd));o|=ye}return ho(t,o,e,n,r)}),gd=da(function(e,t){return $t(e,1,t)}),yd=da(function(e,t,n){return $t(e,Hr(t)||0,n)});kr.Cache=te;var bd=da(function(e,t){t=1==t.length&&Sd(t[0])?u(t[0],D(ko())):u(an(t,1),D(ko()));var n=t.length;return da(function(r){for(var i=-1,s=ns(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return o(e,this,r)})}),_d=da(function(e,t){var n=K(t,So(_d));return ho(e,ye,void 0,t,n)}),vd=da(function(e,t){var n=K(t,So(vd));return ho(e,be,void 0,t,n)}),Ed=Eo(function(e,t){return ho(e,ve,void 0,void 0,void 0,t)}),Cd=po(_n),Td=po(function(e,t){return e>=t}),Id=Un(function(){return arguments}())?Un:function(e){return Lr(e)&&ki.call(e,"callee")&&!ji.call(e,"callee")},Sd=ui.isArray,kd=xn?D(xn):function(e){return Lr(e)&&gn(e)==ze},xd=$i||ci,Nd=Nn?D(Nn):function(e){return Lr(e)&&gn(e)==Pe},wd=wn?D(wn):function(e){return Lr(e)&&Ms(e)==Me},Rd=Rn?D(Rn):function(e){return Lr(e)&&gn(e)==je},Pd=Pn?D(Pn):function(e){return Lr(e)&&Ms(e)==Be},Ad=An?D(An):function(e){return Lr(e)&&Or(e.length)&&!!hn[gn(e)]},Dd=po(Kn),Od=po(function(e,t){return e<=t}),Md=Ka(function(e,t){if(Ho(t)||wr(t))return void qa(t,Xr(t),e);for(var n in t)ki.call(t,n)&&Bt(e,n,t[n])}),Ld=Ka(function(e,t){qa(t,$r(t),e)}),Fd=Ka(function(e,t,n,o){qa(t,$r(t),e,o)}),Ud=Ka(function(e,t,n,o){qa(t,Xr(t),e,o)}),jd=Eo(Kt),Bd=da(function(e,t){e=yi(e);var n=-1,o=t.length,r=2<o?t[2]:void 0;for(r&&Bo(t[0],t[1],r)&&(o=1);++n<o;)for(var i=t[n],s=$r(i),d=-1,l=s.length;++d<l;){var p=s[d],c=e[p];(void 0===c||Nr(c,Ti[p])&&!ki.call(e,p))&&(e[p]=i[p])}return e}),Vd=da(function(e){return e.push(void 0,go),o(Kd,void 0,e)}),qd=ao(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=wi.call(t)),e[t]=n},oi(ri)),Wd=ao(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=wi.call(t)),ki.call(e,t)?e[t].push(n):e[t]=[n]},ko),zd=da(Dn),Hd=Ka(function(e,t,n){Xn(e,t,n)}),Kd=Ka(function(e,t,n,o){Xn(e,t,n,o)}),Gd=Eo(function(e,t){var n={};if(null==e)return n;var o=!1;t=u(t,function(t){return t=wa(t,e),o||(o=1<t.length),t}),qa(e,To(e),n),o&&(n=Qt(n,se|de|le,yo));for(var r=t.length;r--;)Ea(n,t[r]);return n}),Qd=Eo(function(e,t){return null==e?{}:ea(e,t)}),Yd=mo(Xr),Xd=mo($r),$d=$a(function(e,t,n){return t=t.toLowerCase(),e+(n?ti(t):t)}),Jd=$a(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Zd=$a(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),el=Xa("toLowerCase"),tl=$a(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),nl=$a(function(e,t,n){return e+(n?" ":"")+ol(t)}),al=$a(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),ol=Xa("toUpperCase"),rl=da(function(e,t){try{return o(e,void 0,t)}catch(t){return Pr(t)?t:new hi(t)}}),il=Eo(function(e,t){return i(t,function(t){t=ar(t),Ht(e,t,hd(e[t],e))}),e}),sl=to(),dl=to(!0),ll=da(function(e,t){return function(n){return Dn(n,e,t)}}),pl=da(function(e,t){return function(n){return Dn(e,n,t)}}),cl=ro(u),ul=ro(d),ml=ro(g),hl=lo(),fl=lo(!0),gl=oo(function(e,t){return e+t},0),yl=uo("ceil"),bl=oo(function(e,t){return e/t},1),_l=uo("floor"),vl=oo(function(e,t){return e*t},1),El=uo("round"),Cl=oo(function(e,t){return e-t},0);return n.after=function(e,t){if("function"!=typeof t)throw new vi(oe);return e=Wr(e),function(){if(1>--e)return t.apply(this,arguments)}},n.ary=Er,n.assign=Md,n.assignIn=Ld,n.assignInWith=Fd,n.assignWith=Ud,n.at=jd,n.before=Cr,n.bind=hd,n.bindAll=il,n.bindKey=fd,n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Sd(e)?e:[e]},n.chain=gr,n.chunk=function(e,t,n){t=(n?Bo(e,t,n):void 0===t)?1:ts(Wr(t),0);var o=null==e?0:e.length;if(!o||1>t)return[];for(var r=0,i=0,s=ui(Qi(o/t));r<o;)s[i++]=ma(e,r,r+=t);return s},n.compact=function(e){for(var t=-1,n=null==e?0:e.length,o=0,r=[],i;++t<n;)i=e[t],i&&(r[o++]=i);return r},n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ui(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return m(Sd(n)?Va(n):[n],an(t,1))},n.cond=function(e){var t=null==e?0:e.length,n=ko();return e=t?u(e,function(e){if("function"!=typeof e[1])throw new vi(oe);return[n(e[0]),e[1]]}):[],da(function(n){for(var r=-1,i;++r<t;)if(i=e[r],o(i[0],this,n))return o(i[1],this,n)})},n.conforms=function(e){return Yt(Qt(e,se))},n.constant=oi,n.countBy=rd,n.create=function(e,t){var n=Ts(e);return null==t?n:Wt(n,t)},n.curry=Tr,n.curryRight=Ir,n.debounce=Sr,n.defaults=Bd,n.defaultsDeep=Vd,n.defer=gd,n.delay=yd,n.difference=Vs,n.differenceBy=qs,n.differenceWith=Ws,n.drop=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:Wr(t),ma(e,0>t?0:t,o)):[]},n.dropRight=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:Wr(t),t=o-t,ma(e,0,0>t?0:t)):[]},n.dropRightWhile=function(e,t){return e&&e.length?Ta(e,ko(t,3),!0,!0):[]},n.dropWhile=function(e,t){return e&&e.length?Ta(e,ko(t,3),!0):[]},n.fill=function(e,t,n,o){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&Bo(e,t,n)&&(n=0,o=r),tn(e,t,n,o)):[]},n.filter=function(e,t){var n=Sd(e)?l:nn;return n(e,ko(t,3))},n.flatMap=function(e,t){return an(vr(e,t),1)},n.flatMapDeep=function(e,t){return an(vr(e,t),Te)},n.flatMapDepth=function(e,t,n){return n=void 0===n?1:Wr(n),an(vr(e,t),n)},n.flatten=lr,n.flattenDeep=function(e){var t=null==e?0:e.length;return t?an(e,Te):[]},n.flattenDepth=function(e,t){var n=null==e?0:e.length;return n?(t=void 0===t?1:Wr(t),an(e,t)):[]},n.flip=function(e){return ho(e,Ee)},n.flow=sl,n.flowRight=dl,n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,o={},r;++t<n;)r=e[t],o[r[0]]=r[1];return o},n.functions=function(e){return null==e?[]:ln(e,Xr(e))},n.functionsIn=function(e){return null==e?[]:ln(e,$r(e))},n.groupBy=dd,n.initial=function(e){var t=null==e?0:e.length;return t?ma(e,0,-1):[]},n.intersection=zs,n.intersectionBy=Hs,n.intersectionWith=Ks,n.invert=qd,n.invertBy=Wd,n.invokeMap=ld,n.iteratee=ii,n.keyBy=pd,n.keys=Xr,n.keysIn=$r,n.map=vr,n.mapKeys=function(e,t){var n={};return t=ko(t,3),on(e,function(e,o,r){Ht(n,t(e,o,r),e)}),n},n.mapValues=function(e,t){var n={};return t=ko(t,3),on(e,function(e,o,r){Ht(n,o,t(e,o,r))}),n},n.matches=function(e){return Qn(Qt(e,se))},n.matchesProperty=function(e,t){return Yn(e,Qt(t,se))},n.memoize=kr,n.merge=Hd,n.mergeWith=Kd,n.method=ll,n.methodOf=pl,n.mixin=si,n.negate=xr,n.nthArg=function(e){return e=Wr(e),da(function(t){return Jn(t,e)})},n.omit=Gd,n.omitBy=function(e,t){return Jr(e,xr(ko(t)))},n.once=function(e){return Cr(2,e)},n.orderBy=function(e,t,n,o){return null==e?[]:(Sd(t)||(t=null==t?[]:[t]),n=o?void 0:n,Sd(n)||(n=null==n?[]:[n]),Zn(e,t,n))},n.over=cl,n.overArgs=bd,n.overEvery=ul,n.overSome=ml,n.partial=_d,n.partialRight=vd,n.partition=cd,n.pick=Qd,n.pickBy=Jr,n.property=li,n.propertyOf=function(e){return function(t){return null==e?void 0:pn(e,t)}},n.pull=Gs,n.pullAll=ur,n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?aa(e,t,ko(n,2)):e},n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?aa(e,t,void 0,n):e},n.pullAt=Qs,n.range=hl,n.rangeRight=fl,n.rearg=Ed,n.reject=function(e,t){var n=Sd(e)?l:nn;return n(e,xr(ko(t,3)))},n.remove=function(e,t){var n=[];if(!(e&&e.length))return n;var o=-1,r=[],i=e.length;for(t=ko(t,3);++o<i;){var s=e[o];t(s,o,e)&&(n.push(s),r.push(o))}return oa(e,r),n},n.rest=function(e,t){if("function"!=typeof e)throw new vi(oe);return t=void 0===t?t:Wr(t),da(e,t)},n.reverse=mr,n.sampleSize=function(e,t,n){t=(n?Bo(e,t,n):void 0===t)?1:Wr(t);var o=Sd(e)?Ft:pa;return o(e,t)},n.set=function(e,t,n){return null==e?e:ca(e,t,n)},n.setWith=function(e,t,n,o){return o="function"==typeof o?o:void 0,null==e?e:ca(e,t,n,o)},n.shuffle=function(e){var t=Sd(e)?Ut:ua;return t(e)},n.slice=function(e,t,n){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&Bo(e,t,n)?(t=0,n=o):(t=null==t?0:Wr(t),n=void 0===n?o:Wr(n)),ma(e,t,n)):[]},n.sortBy=ud,n.sortedUniq=function(e){return e&&e.length?ya(e):[]},n.sortedUniqBy=function(e,t){return e&&e.length?ya(e,ko(t,2)):[]},n.split=function(e,t,n){return(n&&"number"!=typeof n&&Bo(e,t,n)&&(t=n=void 0),n=void 0===n?ke:n>>>0,!n)?[]:(e=Gr(e),e&&("string"==typeof t||null!=t&&!Rd(t))&&(t=_a(t),!t&&V(e))?Ra(Z(e),0,n):e.split(t,n))},n.spread=function(e,t){if("function"!=typeof e)throw new vi(oe);return t=null==t?0:ts(Wr(t),0),da(function(n){var r=n[t],i=Ra(n,0,t);return r&&m(i,r),o(e,this,i)})},n.tail=function(e){var t=null==e?0:e.length;return t?ma(e,1,t):[]},n.take=function(e,t,n){return e&&e.length?(t=n||void 0===t?1:Wr(t),ma(e,0,0>t?0:t)):[]},n.takeRight=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:Wr(t),t=o-t,ma(e,0>t?0:t,o)):[]},n.takeRightWhile=function(e,t){return e&&e.length?Ta(e,ko(t,3),!1,!0):[]},n.takeWhile=function(e,t){return e&&e.length?Ta(e,ko(t,3)):[]},n.tap=function(e,t){return t(e),e},n.throttle=function(e,t,n){var o=!0,r=!0;if("function"!=typeof e)throw new vi(oe);return Mr(n)&&(o="leading"in n?!!n.leading:o,r="trailing"in n?!!n.trailing:r),Sr(e,t,{leading:o,maxWait:t,trailing:r})},n.thru=yr,n.toArray=Vr,n.toPairs=Yd,n.toPairsIn=Xd,n.toPath=function(e){return Sd(e)?u(e,ar):Br(e)?[e]:Va(Bs(Gr(e)))},n.toPlainObject=Kr,n.transform=function(e,t,n){var o=Sd(e),r=o||xd(e)||Ad(e);if(t=ko(t,4),null==n){var s=e&&e.constructor;n=r?o?new s:[]:Mr(e)?Ar(s)?Ts(Fi(e)):{}:{}}return(r?i:on)(e,function(e,o,r){return t(n,e,o,r)}),n},n.unary=function(e){return Er(e,1)},n.union=Ys,n.unionBy=Xs,n.unionWith=$s,n.uniq=function(e){return e&&e.length?va(e):[]},n.uniqBy=function(e,t){return e&&e.length?va(e,ko(t,2)):[]},n.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?va(e,void 0,t):[]},n.unset=function(e,t){return null==e||Ea(e,t)},n.unzip=hr,n.unzipWith=fr,n.update=function(e,t,n){return null==e?e:Ca(e,t,Na(n))},n.updateWith=function(e,t,n,o){return o="function"==typeof o?o:void 0,null==e?e:Ca(e,t,Na(n),o)},n.values=ei,n.valuesIn=function(e){return null==e?[]:O(e,$r(e))},n.without=Js,n.words=ai,n.wrap=function(e,t){return _d(Na(t),e)},n.xor=Zs,n.xorBy=ed,n.xorWith=td,n.zip=nd,n.zipObject=function(e,t){return ka(e||[],t||[],Bt)},n.zipObjectDeep=function(e,t){return ka(e||[],t||[],ca)},n.zipWith=ad,n.entries=Yd,n.entriesIn=Xd,n.extend=Ld,n.extendWith=Fd,si(n,n),n.add=gl,n.attempt=rl,n.camelCase=$d,n.capitalize=ti,n.ceil=yl,n.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=Hr(n),n=n===n?n:0),void 0!==t&&(t=Hr(t),t=t===t?t:0),Gt(Hr(e),t,n)},n.clone=function(e){return Qt(e,le)},n.cloneDeep=function(e){return Qt(e,se|le)},n.cloneDeepWith=function(e,t){return t="function"==typeof t?t:void 0,Qt(e,se|le,t)},n.cloneWith=function(e,t){return t="function"==typeof t?t:void 0,Qt(e,le,t)},n.conformsTo=function(e,t){return null==t||Xt(e,t,Xr(t))},n.deburr=ni,n.defaultTo=function(e,t){return null==e||e!==e?t:e},n.divide=bl,n.endsWith=function(e,t,n){e=Gr(e),t=_a(t);var o=e.length;n=void 0===n?o:Gt(Wr(n),0,o);var r=n;return n-=t.length,0<=n&&e.slice(n,r)==t},n.eq=Nr,n.escape=function(e){return e=Gr(e),e&&st.test(e)?e.replace(rt,Mn):e},n.escapeRegExp=function(e){return e=Gr(e),e&&ft.test(e)?e.replace(ht,"\\$&"):e},n.every=function(e,t,n){var o=Sd(e)?d:Zt;return n&&Bo(e,t,n)&&(t=void 0),o(e,ko(t,3))},n.find=id,n.findIndex=sr,n.findKey=function(e,t){return v(e,ko(t,3),on)},n.findLast=sd,n.findLastIndex=dr,n.findLastKey=function(e,t){return v(e,ko(t,3),dn)},n.floor=_l,n.forEach=br,n.forEachRight=_r,n.forIn=function(e,t){return null==e?e:ks(e,ko(t,3),$r)},n.forInRight=function(e,t){return null==e?e:xs(e,ko(t,3),$r)},n.forOwn=function(e,t){return e&&on(e,ko(t,3))},n.forOwnRight=function(e,t){return e&&dn(e,ko(t,3))},n.get=Qr,n.gt=Cd,n.gte=Td,n.has=function(e,t){return null!=e&&Do(e,t,vn)},n.hasIn=Yr,n.head=pr,n.identity=ri,n.includes=function(e,t,n,o){e=wr(e)?e:ei(e),n=n&&!o?Wr(n):0;var r=e.length;return 0>n&&(n=ts(r+n,0)),jr(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<C(e,t,n)},n.indexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=null==n?0:Wr(n);return 0>r&&(r=ts(o+r,0)),C(e,t,r)},n.inRange=function(e,t,n){return t=qr(t),void 0===n?(n=t,t=0):n=qr(n),e=Hr(e),Tn(e,t,n)},n.invoke=zd,n.isArguments=Id,n.isArray=Sd,n.isArrayBuffer=kd,n.isArrayLike=wr,n.isArrayLikeObject=Rr,n.isBoolean=function(e){return!0===e||!1===e||Lr(e)&&gn(e)==Re},n.isBuffer=xd,n.isDate=Nd,n.isElement=function(e){return Lr(e)&&1===e.nodeType&&!Ur(e)},n.isEmpty=function(e){if(null==e)return!0;if(wr(e)&&(Sd(e)||"string"==typeof e||"function"==typeof e.splice||xd(e)||Ad(e)||Id(e)))return!e.length;var t=Ms(e);if(t==Me||t==Be)return!e.size;if(Ho(e))return!zn(e).length;for(var n in e)if(ki.call(e,n))return!1;return!0},n.isEqual=function(e,t){return jn(e,t)},n.isEqualWith=function(e,t,n){n="function"==typeof n?n:void 0;var o=n?n(e,t):void 0;return void 0===o?jn(e,t,void 0,n):!!o},n.isError=Pr,n.isFinite=function(e){return"number"==typeof e&&Ji(e)},n.isFunction=Ar,n.isInteger=Dr,n.isLength=Or,n.isMap=wd,n.isMatch=function(e,t){return e===t||Vn(e,t,No(t))},n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Vn(e,t,No(t),n)},n.isNaN=function(e){return Fr(e)&&e!=+e},n.isNative=function(e){if(Ls(e))throw new hi("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qn(e)},n.isNil=function(e){return null==e},n.isNull=function(e){return null===e},n.isNumber=Fr,n.isObject=Mr,n.isObjectLike=Lr,n.isPlainObject=Ur,n.isRegExp=Rd,n.isSafeInteger=function(e){return Dr(e)&&e>=-Ie&&e<=Ie},n.isSet=Pd,n.isString=jr,n.isSymbol=Br,n.isTypedArray=Ad,n.isUndefined=function(e){return void 0===e},n.isWeakMap=function(e){return Lr(e)&&Ms(e)==We},n.isWeakSet=function(e){return Lr(e)&&gn(e)=="[object WeakSet]"},n.join=function(e,t){return null==e?"":Zi.call(e,t)},n.kebabCase=Jd,n.last=cr,n.lastIndexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var r=o;return void 0!==n&&(r=Wr(n),r=0>r?ts(o+r,0):ns(r,o-1)),t===t?$(e,t,r):E(e,I,r,!0)},n.lowerCase=Zd,n.lowerFirst=el,n.lt=Dd,n.lte=Od,n.max=function(e){return e&&e.length?en(e,ri,_n):void 0},n.maxBy=function(e,t){return e&&e.length?en(e,ko(t,2),_n):void 0},n.mean=function(e){return S(e,ri)},n.meanBy=function(e,t){return S(e,ko(t,2))},n.min=function(e){return e&&e.length?en(e,ri,Kn):void 0},n.minBy=function(e,t){return e&&e.length?en(e,ko(t,2),Kn):void 0},n.stubArray=pi,n.stubFalse=ci,n.stubObject=function(){return{}},n.stubString=function(){return""},n.stubTrue=function(){return!0},n.multiply=vl,n.nth=function(e,t){return e&&e.length?Jn(e,Wr(t)):void 0},n.noConflict=function(){return En._===this&&(En._=Pi),this},n.noop=di,n.now=md,n.pad=function(e,t,n){e=Gr(e),t=Wr(t);var o=t?J(e):0;if(!t||o>=t)return e;var r=(t-o)/2;return io(Yi(r),n)+e+io(Qi(r),n)},n.padEnd=function(e,t,n){e=Gr(e),t=Wr(t);var o=t?J(e):0;return t&&o<t?e+io(t-o,n):e},n.padStart=function(e,t,n){e=Gr(e),t=Wr(t);var o=t?J(e):0;return t&&o<t?io(t-o,n)+e:e},n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),os(Gr(e).replace(yt,""),t||0)},n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Bo(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=qr(e),void 0===t?(t=e,e=0):t=qr(t)),e>t){var o=e;e=t,t=o}if(n||e%1||t%1){var r=rs();return ns(e+r*(t-e+yn("1e-"+((r+"").length-1))),t)}return ra(e,t)},n.reduce=function(e,t,n){var o=Sd(e)?h:N,r=3>arguments.length;return o(e,ko(t,4),n,r,Is)},n.reduceRight=function(e,t,n){var o=Sd(e)?f:N,r=3>arguments.length;return o(e,ko(t,4),n,r,Ss)},n.repeat=function(e,t,n){return t=(n?Bo(e,t,n):void 0===t)?1:Wr(t),sa(Gr(e),t)},n.replace=function(){var e=arguments,t=Gr(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},n.result=Zr,n.round=El,n.runInContext=e,n.sample=function(e){var t=Sd(e)?Lt:la;return t(e)},n.size=function(e){if(null==e)return 0;if(wr(e))return jr(e)?J(e):e.length;var t=Ms(e);return t==Me||t==Be?e.size:zn(e).length},n.snakeCase=tl,n.some=function(e,t,n){var o=Sd(e)?g:ha;return n&&Bo(e,t,n)&&(t=void 0),o(e,ko(t,3))},n.sortedIndex=function(e,t){return fa(e,t)},n.sortedIndexBy=function(e,t,n){return ga(e,t,ko(n,2))},n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var o=fa(e,t);if(o<n&&Nr(e[o],t))return o}return-1},n.sortedLastIndex=function(e,t){return fa(e,t,!0)},n.sortedLastIndexBy=function(e,t,n){return ga(e,t,ko(n,2),!0)},n.sortedLastIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var o=fa(e,t,!0)-1;if(Nr(e[o],t))return o}return-1},n.startCase=nl,n.startsWith=function(e,t,n){return e=Gr(e),n=null==n?0:Gt(Wr(n),0,e.length),t=_a(t),e.slice(n,n+t.length)==t},n.subtract=Cl,n.sum=function(e){return e&&e.length?R(e,ri):0},n.sumBy=function(e,t){return e&&e.length?R(e,ko(t,2)):0},n.template=function(e,t,o){var r=n.templateSettings;o&&Bo(e,t,o)&&(t=void 0),e=Gr(e),t=Fd({},t,r,fo);var i=Fd({},t.imports,r.imports,fo),s=Xr(i),d=O(i,s),l=0,p=t.interpolate||At,c="__p += '",u=bi((t.escape||At).source+"|"+p.source+"|"+(p===ct?It:At).source+"|"+(t.evaluate||At).source+"|$","g"),m="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++mn+"]")+"\n",h,f;e.replace(u,function(t,n,o,r,i,s){return o||(o=r),c+=e.slice(l,s).replace(Dt,j),n&&(h=!0,c+="' +\n__e("+n+") +\n'"),i&&(f=!0,c+="';\n"+i+";\n__p += '"),o&&(c+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),l=s+t.length,t}),c+="';\n";var g=t.variable;g||(c="with (obj) {\n"+c+"\n}\n"),c=(f?c.replace(tt,""):c).replace(nt,"$1").replace(at,"$1;"),c="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(h?", __e = _.escape":"")+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var y=rl(function(){return fi(s,m+"return "+c).apply(void 0,d)});if(y.source=c,Pr(y))throw y;return y},n.times=function(e,t){if(e=Wr(e),1>e||e>Ie)return[];var n=ke,o=ns(e,ke);t=ko(t),e-=ke;for(var r=P(o,t);++n<e;)t(n);return r},n.toFinite=qr,n.toInteger=Wr,n.toLength=zr,n.toLower=function(e){return Gr(e).toLowerCase()},n.toNumber=Hr,n.toSafeInteger=function(e){return e?Gt(Wr(e),-Ie,Ie):0===e?e:0},n.toString=Gr,n.toUpper=function(e){return Gr(e).toUpperCase()},n.trim=function(e,t,n){if(e=Gr(e),e&&(n||void 0===t))return e.replace(gt,"");if(!e||!(t=_a(t)))return e;var o=Z(e),r=Z(t),i=L(o,r),s=F(o,r)+1;return Ra(o,i,s).join("")},n.trimEnd=function(e,t,n){if(e=Gr(e),e&&(n||void 0===t))return e.replace(bt,"");if(!e||!(t=_a(t)))return e;var o=Z(e),r=F(o,Z(t))+1;return Ra(o,0,r).join("")},n.trimStart=function(e,t,n){if(e=Gr(e),e&&(n||void 0===t))return e.replace(yt,"");if(!e||!(t=_a(t)))return e;var o=Z(e),r=L(o,Z(t));return Ra(o,r).join("")},n.truncate=function(e,t){var n=30,o="...";if(Mr(t)){var r="separator"in t?t.separator:r;n="length"in t?Wr(t.length):n,o="omission"in t?_a(t.omission):o}e=Gr(e);var i=e.length;if(V(e)){var s=Z(e);i=s.length}if(n>=i)return e;var d=n-J(o);if(1>d)return o;var l=s?Ra(s,0,d).join(""):e.slice(0,d);if(void 0===r)return l+o;if(s&&(d+=l.length-d),Rd(r)){if(e.slice(d).search(r)){var p=l,c;for(r.global||(r=bi(r.source,Gr(St.exec(r))+"g")),r.lastIndex=0;c=r.exec(p);)var u=c.index;l=l.slice(0,void 0===u?d:u)}}else if(e.indexOf(_a(r),d)!=d){var m=l.lastIndexOf(r);-1<m&&(l=l.slice(0,m))}return l+o},n.unescape=function(e){return e=Gr(e),e&&it.test(e)?e.replace(ot,Ln):e},n.uniqueId=function(e){var t=++xi;return Gr(e)+t},n.upperCase=al,n.upperFirst=ol,n.each=br,n.eachRight=_r,n.first=pr,si(n,function(){var e={};return on(n,function(t,o){ki.call(n.prototype,o)||(e[o]=t)}),e}(),{chain:!1}),n.VERSION="4.17.10",i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){n[e].placeholder=n}),i(["drop","take"],function(e,t){x.prototype[e]=function(o){o=void 0===o?1:ts(Wr(o),0);var n=this.__filtered__&&!t?new x(this):this.clone();return n.__filtered__?n.__takeCount__=ns(o,n.__takeCount__):n.__views__.push({size:ns(o,ke),type:e+(0>n.__dir__?"Right":"")}),n},x.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),i(["filter","map","takeWhile"],function(e,t){var n=t+1;x.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ko(e,3),type:n}),t.__filtered__=t.__filtered__||n==Ce||n==3,t}}),i(["head","last"],function(e,t){var n="take"+(t?"Right":"");x.prototype[e]=function(){return this[n](1).value()[0]}}),i(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");x.prototype[e]=function(){return this.__filtered__?new x(this):this[n](1)}}),x.prototype.compact=function(){return this.filter(ri)},x.prototype.find=function(e){return this.filter(e).head()},x.prototype.findLast=function(e){return this.reverse().find(e)},x.prototype.invokeMap=da(function(e,t){return"function"==typeof e?new x(this):this.map(function(n){return Dn(n,e,t)})}),x.prototype.reject=function(e){return this.filter(xr(ko(e)))},x.prototype.slice=function(e,t){e=Wr(e);var n=this;return n.__filtered__&&(0<e||0>t)?new x(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(t=Wr(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},x.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},x.prototype.toArray=function(){return this.take(ke)},on(x.prototype,function(e,t){var o=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=n[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(n.prototype[t]=function(){var t=this.__wrapped__,d=r?[1]:arguments,l=t instanceof x,p=d[0],c=l||Sd(t),u=function(e){var t=i.apply(n,m([e],d));return r&&h?t[0]:t};c&&o&&"function"==typeof p&&1!=p.length&&(l=c=!1);var h=this.__chain__,f=!!this.__actions__.length,g=s&&!h,y=l&&!f;if(!s&&c){t=y?t:new x(this);var b=e.apply(t,d);return b.__actions__.push({func:yr,args:[u],thisArg:void 0}),new _(b,h)}return g&&y?e.apply(this,d):(b=this.thru(u),g?r?b.value()[0]:b.value():b)})}),i(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ei[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var n=this.value();return t.apply(Sd(n)?n:[],e)}return this[o](function(n){return t.apply(Sd(n)?n:[],e)})}}),on(x.prototype,function(e,t){var o=n[t];if(o){var r=o.name+"",i=hs[r]||(hs[r]=[]);i.push({name:t,func:o})}}),hs[no(void 0,me).name]=[{name:"wrapper",func:void 0}],x.prototype.clone=function(){var e=new x(this.__wrapped__);return e.__actions__=Va(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Va(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Va(this.__views__),e},x.prototype.reverse=function(){if(this.__filtered__){var e=new x(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},x.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Sd(e),o=0>t,r=n?e.length:0,i=Po(0,r,this.__views__),s=i.start,d=i.end,l=d-s,p=o?d:s-1,c=this.__iteratees__,u=c.length,m=0,h=ns(l,this.__takeCount__);if(!n||!o&&r==l&&h==l)return Ia(e,this.__actions__);var f=[];outer:for(;l--&&m<h;){p+=t;for(var g=-1,y=e[p];++g<u;){var b=c[g],_=b.iteratee,v=b.type,E=_(y);if(v==2)y=E;else if(!E)if(v==Ce)continue outer;else break outer}f[m++]=y}return f},n.prototype.at=od,n.prototype.chain=function(){return gr(this)},n.prototype.commit=function(){return new _(this.value(),this.__chain__)},n.prototype.next=function(){void 0===this.__values__&&(this.__values__=Vr(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}},n.prototype.plant=function(e){for(var t=this,n,o;t instanceof y;){o=ir(t),o.__index__=0,o.__values__=void 0,n?r.__wrapped__=o:n=o;var r=o;t=t.__wrapped__}return r.__wrapped__=e,n},n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof x){var t=e;return this.__actions__.length&&(t=new x(this)),t=t.reverse(),t.__actions__.push({func:yr,args:[mr],thisArg:void 0}),new _(t,this.__chain__)}return this.thru(mr)},n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=function(){return Ia(this.__wrapped__,this.__actions__)},n.prototype.first=n.prototype.head,qi&&(n.prototype[qi]=function(){return this}),n}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(En._=Fn,define(function(){return Fn})):Tn?((Tn.exports=Fn)._=Fn,Cn._=Fn):En._=Fn}).call(this);/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],178:[function(e,t){function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(r);var i=function(){var n=arguments,o=t?t.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=e.apply(this,n);return i.cache=r.set(o,s)||r,s};return i.cache=new(n.Cache||o),i}var o=e("./_MapCache"),r="Expected a function";n.Cache=o,t.exports=n},{"./_MapCache":47}],179:[function(e,t){var n=e("./_baseProperty"),o=e("./_basePropertyDeep"),r=e("./_isKey"),i=e("./_toKey");t.exports=function(e){return r(e)?n(i(e)):o(e)}},{"./_baseProperty":83,"./_basePropertyDeep":84,"./_isKey":121,"./_toKey":157}],180:[function(e,t){var n=e("./_baseFlatten"),o=e("./_baseOrderBy"),r=e("./_baseRest"),i=e("./_isIterateeCall"),s=r(function(e,t){if(null==e)return[];var r=t.length;return 1<r&&i(e,t[0],t[1])?t=[]:2<r&&i(t[0],t[1],t[2])&&(t=[t[0]]),o(e,n(t,1),[])});/**
 * Creates an array of elements, sorted in ascending order by the results of
 * running each element in a collection thru each iteratee. This method
 * performs a stable sort, that is, it preserves the original sort order of
 * equal elements. The iteratees are invoked with one argument: (value).
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Collection
 * @param {Array|Object} collection The collection to iterate over.
 * @param {...(Function|Function[])} [iteratees=[_.identity]]
 *  The iteratees to sort by.
 * @returns {Array} Returns the new sorted array.
 * @example
 *
 * var users = [
 *   { 'user': 'fred',   'age': 48 },
 *   { 'user': 'barney', 'age': 36 },
 *   { 'user': 'fred',   'age': 40 },
 *   { 'user': 'barney', 'age': 34 }
 * ];
 *
 * _.sortBy(users, [function(o) { return o.user; }]);
 * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]
 *
 * _.sortBy(users, ['user', 'age']);
 * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]
 */t.exports=s},{"./_baseFlatten":64,"./_baseOrderBy":82,"./_baseRest":85,"./_isIterateeCall":120}],181:[function(e,t){t.exports=function(){return[]}},{}],182:[function(e,t){t.exports=function(){return!1}},{}],183:[function(e,t){var n=e("./toNumber"),o=1/0;t.exports=function(e){if(!e)return 0===e?e:0;if(e=n(e),e===o||e===-o){var t=0>e?-1:1;return t*1.7976931348623157e308}return e===e?e:0}},{"./toNumber":185}],184:[function(e,t){var n=e("./toFinite");t.exports=function(e){var t=n(e),o=t%1;return t===t?o?t-o:t:0}},{"./toFinite":183}],185:[function(e,t){var n=e("./isObject"),o=e("./isSymbol"),r=0/0,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,l=/^0o[0-7]+$/i,p=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(o(e))return r;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var c=d.test(e);return c||l.test(e)?p(e.slice(2),c?2:8):s.test(e)?r:+e}},{"./isObject":172,"./isSymbol":174}],186:[function(e,t){var n=e("./_baseToString");/**
 * Converts `value` to a string. An empty string is returned for `null`
 * and `undefined` values. The sign of `-0` is preserved.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 * @example
 *
 * _.toString(null);
 * // => ''
 *
 * _.toString(-0);
 * // => '-0'
 *
 * _.toString([1, 2, 3]);
 * // => '1,2,3'
 */t.exports=function(e){return null==e?"":n(e)}},{"./_baseToString":89}],187:[function(e,t){(function(){var n=e("crypt"),o=e("charenc").utf8,r=e("is-buffer"),s=e("charenc").bin,l=function(e,t){e.constructor==String?t&&"binary"===t.encoding?e=s.stringToBytes(e):e=o.stringToBytes(e):r(e)?e=Array.prototype.slice.call(e,0):!Array.isArray(e)&&(e=e.toString());for(var p=n.bytesToWords(e),u=8*e.length,m=1732584193,h=-271733879,f=-1732584194,c=271733878,d=0;d<p.length;d++)p[d]=16711935&(p[d]<<8|p[d]>>>24)|4278255360&(p[d]<<24|p[d]>>>8);p[u>>>5]|=128<<u%32,p[(u+64>>>9<<4)+14]=u;for(var i=l._ff,g=l._gg,y=l._hh,b=l._ii,d=0;d<p.length;d+=16){var _=m,v=h,E=f,C=c;m=i(m,h,f,c,p[d+0],7,-680876936),c=i(c,m,h,f,p[d+1],12,-389564586),f=i(f,c,m,h,p[d+2],17,606105819),h=i(h,f,c,m,p[d+3],22,-1044525330),m=i(m,h,f,c,p[d+4],7,-176418897),c=i(c,m,h,f,p[d+5],12,1200080426),f=i(f,c,m,h,p[d+6],17,-1473231341),h=i(h,f,c,m,p[d+7],22,-45705983),m=i(m,h,f,c,p[d+8],7,1770035416),c=i(c,m,h,f,p[d+9],12,-1958414417),f=i(f,c,m,h,p[d+10],17,-42063),h=i(h,f,c,m,p[d+11],22,-1990404162),m=i(m,h,f,c,p[d+12],7,1804603682),c=i(c,m,h,f,p[d+13],12,-40341101),f=i(f,c,m,h,p[d+14],17,-1502002290),h=i(h,f,c,m,p[d+15],22,1236535329),m=g(m,h,f,c,p[d+1],5,-165796510),c=g(c,m,h,f,p[d+6],9,-1069501632),f=g(f,c,m,h,p[d+11],14,643717713),h=g(h,f,c,m,p[d+0],20,-373897302),m=g(m,h,f,c,p[d+5],5,-701558691),c=g(c,m,h,f,p[d+10],9,38016083),f=g(f,c,m,h,p[d+15],14,-660478335),h=g(h,f,c,m,p[d+4],20,-405537848),m=g(m,h,f,c,p[d+9],5,568446438),c=g(c,m,h,f,p[d+14],9,-1019803690),f=g(f,c,m,h,p[d+3],14,-187363961),h=g(h,f,c,m,p[d+8],20,1163531501),m=g(m,h,f,c,p[d+13],5,-1444681467),c=g(c,m,h,f,p[d+2],9,-51403784),f=g(f,c,m,h,p[d+7],14,1735328473),h=g(h,f,c,m,p[d+12],20,-1926607734),m=y(m,h,f,c,p[d+5],4,-378558),c=y(c,m,h,f,p[d+8],11,-2022574463),f=y(f,c,m,h,p[d+11],16,1839030562),h=y(h,f,c,m,p[d+14],23,-35309556),m=y(m,h,f,c,p[d+1],4,-1530992060),c=y(c,m,h,f,p[d+4],11,1272893353),f=y(f,c,m,h,p[d+7],16,-155497632),h=y(h,f,c,m,p[d+10],23,-1094730640),m=y(m,h,f,c,p[d+13],4,681279174),c=y(c,m,h,f,p[d+0],11,-358537222),f=y(f,c,m,h,p[d+3],16,-722521979),h=y(h,f,c,m,p[d+6],23,76029189),m=y(m,h,f,c,p[d+9],4,-640364487),c=y(c,m,h,f,p[d+12],11,-421815835),f=y(f,c,m,h,p[d+15],16,530742520),h=y(h,f,c,m,p[d+2],23,-995338651),m=b(m,h,f,c,p[d+0],6,-198630844),c=b(c,m,h,f,p[d+7],10,1126891415),f=b(f,c,m,h,p[d+14],15,-1416354905),h=b(h,f,c,m,p[d+5],21,-57434055),m=b(m,h,f,c,p[d+12],6,1700485571),c=b(c,m,h,f,p[d+3],10,-1894986606),f=b(f,c,m,h,p[d+10],15,-1051523),h=b(h,f,c,m,p[d+1],21,-2054922799),m=b(m,h,f,c,p[d+8],6,1873313359),c=b(c,m,h,f,p[d+15],10,-30611744),f=b(f,c,m,h,p[d+6],15,-1560198380),h=b(h,f,c,m,p[d+13],21,1309151649),m=b(m,h,f,c,p[d+4],6,-145523070),c=b(c,m,h,f,p[d+11],10,-1120210379),f=b(f,c,m,h,p[d+2],15,718787259),h=b(h,f,c,m,p[d+9],21,-343485551),m=m+_>>>0,h=h+v>>>0,f=f+E>>>0,c=c+C>>>0}return n.endian([m,h,f,c])};l._ff=function(e,o,r,i,d,l,s){var t=e+(o&r|~o&i)+(d>>>0)+s;return(t<<l|t>>>32-l)+o},l._gg=function(e,o,r,i,l,p,s){var t=e+(o&i|r&~i)+(l>>>0)+s;return(t<<p|t>>>32-p)+o},l._hh=function(e,o,r,i,d,l,s){var t=e+(o^r^i)+(d>>>0)+s;return(t<<l|t>>>32-l)+o},l._ii=function(e,o,r,i,l,p,s){var t=e+(r^(o|~i))+(l>>>0)+s;return(t<<p|t>>>32-p)+o},l._blocksize=16,l._digestsize=16,t.exports=function(e,t){if(e===void 0||null===e)throw new Error("Illegal argument "+e);var o=n.wordsToBytes(l(e,t));return t&&t.asBytes?o:t&&t.asString?s.bytesToString(o):n.bytesToHex(o)}})()},{charenc:9,crypt:12,"is-buffer":42}],188:[function(e,t,n){(function(o,r){"object"==typeof n&&"undefined"!=typeof t?r(n,e("mobx"),e("react"),e("react-dom")):"function"==typeof define&&define.amd?define(["exports","mobx","react","react-dom"],r):r(o.mobxReact={},o.mobx,o.React,o.ReactDOM)})(this,function(e,t,n,o){"use strict";function r(e){function n(n,o,r,i,s,d){for(var l=arguments.length,p=Array(6<l?l-6:0),c=6;c<l;c++)p[c-6]=arguments[c];return t.untracked(function(){if(i=i||"<<anonymous>>",d=d||r,null==o[r]){if(n){var t=null===o[r]?"null":"undefined";return new Error("The "+s+" `"+d+"` is marked as required in `"+i+"`, but its value is `"+t+"`.")}return null}return e.apply(void 0,[o,r,i,s,d].concat(p))})}var o=n.bind(null,!1);return o.isRequired=n.bind(null,!0),o}function i(e,t){return!("symbol"!==e)||!("Symbol"!==t["@@toStringTag"])||"function"==typeof Symbol&&t instanceof Symbol}function s(e){var t="undefined"==typeof e?"undefined":S(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":i(t,e)?"symbol":t}function d(e){var t=s(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function l(e,n){return r(function(o,r,i,l,p){return t.untracked(function(){if(e&&s(o[r])===n.toLowerCase())return null;var l;switch(n){case"Array":l=t.isObservableArray;break;case"Object":l=t.isObservableObject;break;case"Map":l=t.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+n);}var c=o[r];if(!l(c)){var u=d(c),m=e?" or javascript `"+n.toLowerCase()+"`":"";return new Error("Invalid prop `"+p+"` of type `"+u+"` supplied to `"+i+"`, expected `mobx.Observable"+n+"`"+m+".")}return null})})}function p(e,n){return r(function(o,r,s,d,p){for(var i=arguments.length,c=Array(5<i?i-5:0),u=5;u<i;u++)c[u-5]=arguments[u];return t.untracked(function(){if("function"!=typeof n)return new Error("Property `"+p+"` of component `"+s+"` has invalid PropType notation.");var t=l(e,"Array")(o,r,s);if(t instanceof Error)return t;for(var u=o[r],m=0;m<u.length;m++)if(t=n.apply(void 0,[u,m,s,d,p+"["+m+"]"].concat(c)),t instanceof Error)return t;return null})})}function c(e){return!(e.prototype&&e.prototype.render)}function u(e,t,o){var r="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown"),i,s;o&&(r+="-with-"+o);var d=(s=i=function(o){function r(){var e,t,n,o;x(this,r);for(var i=arguments.length,s=Array(i),d=0;d<i;d++)s[d]=arguments[d];return o=(t=(n=R(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(s))),n),n.storeRef=function(e){n.wrappedInstance=e},t),R(n,o)}return w(r,o),N(r,[{key:"render",value:function(){var o={};for(var r in this.props)this.props.hasOwnProperty(r)&&(o[r]=this.props[r]);var i=e(this.context.mobxStores||{},o,this.context)||{};for(var s in i)o[s]=i[s];return c(t)||(o.ref=this.storeRef),n.createElement(t,o)}}]),r}(n.Component),i.displayName=r,s);return B(d,t),d.wrappedComponent=t,Object.defineProperties(d,X),d}function m(e){return function(t,n){return e.forEach(function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}}),n}}function h(){var e;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=u(e,t);return n.isMobxInjector=!1,n=C(n),n.isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=m(t),function(n){return u(e,n,t.join("-"))}}function f(e){if(o.findDOMNode)try{return o.findDOMNode(e)}catch(t){return null}return null}function g(e){var t=f(e);t&&ee&&ee.set(t,e),te.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function y(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");$||($=!0)}function b(e){J=e}function _(e,t){var n=2<arguments.length&&arguments[2]!==void 0&&arguments[2],o=e[t],r=ae[t],i=o?!0===n?function(){r.apply(this,arguments),o.apply(this,arguments)}:function(){o.apply(this,arguments),r.apply(this,arguments)}:r;e[t]=i}function E(e,t){if(v(e,t))return!0;if("object"!==("undefined"==typeof e?"undefined":S(e))||null===e||"object"!==("undefined"==typeof t?"undefined":S(t))||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var r=0;r<n.length;r++)if(!hasOwnProperty.call(t,n[r])||!v(e[n[r]],t[n[r]]))return!1;return!0}function v(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function C(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return Z||(Z=!0,console.warn("Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject(\"store1\", \"store2\") @observer ComponentClass` or `inject(\"store1\", \"store2\")(observer(componentClass))` instead of `@observer([\"store1\", \"store2\"]) ComponentClass`")),t?h.apply(null,e)(C(t)):function(t){return C(e,t)};var o=e;if(!0===o.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),"function"==typeof o&&(!o.prototype||!o.prototype.render)&&!o.isReactClass&&!n.Component.isPrototypeOf(o)){var r,i;return C((i=r=function(e){function t(){return x(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,e),N(t,[{key:"render",value:function(){return o.call(this,this.props,this.context)}}]),t}(n.Component),r.displayName=o.displayName||o.name,r.contextTypes=o.contextTypes,r.propTypes=o.propTypes,r.defaultProps=o.defaultProps,i))}if(!o)throw new Error("Please pass a valid component to 'observer'");var s=o.prototype||o;return T(s),o.isMobXReactObserver=!0,o}function T(e){_(e,"componentWillMount",!0),["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(t){_(e,t)}),e.shouldComponentUpdate||(e.shouldComponentUpdate=ae.shouldComponentUpdate)}var I="default"in n?n["default"]:n,S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=function(){function e(e){this.value=e}function t(t){function n(r,i){try{var s=t[r](i),d=s.value;d instanceof e?Promise.resolve(d.value).then(function(e){n("next",e)},function(e){n("throw",e)}):o(s.done?"return":"normal",s.value)}catch(e){o("throw",e)}}function o(e,t){"return"===e?r.resolve({value:t,done:!0}):"throw"===e?r.reject(t):r.resolve({value:t,done:!1});r=r.next,r?n(r.key,r.arg):i=null}var r,i;this._invoke=function(e,t){return new Promise(function(o,s){var d={key:e,arg:t,resolve:o,reject:s,next:null};i?i=i.next=d:(r=i=d,n(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),x=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},N=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},R=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e},P=function(){function e(){x(this,e),this.listeners=[]}return N(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(t){return t(e)})}}]),e}();/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */var A={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},D={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},O=Object.defineProperty,M=Object.getOwnPropertyNames,L=Object.getOwnPropertySymbols,F=Object.getOwnPropertyDescriptor,U=Object.getPrototypeOf,j=U&&U(Object),B=function e(t,n,o){if("string"!=typeof n){if(j){var r=U(n);r&&r!==j&&e(t,r,o)}var s=M(n);L&&(s=s.concat(L(n)));for(var d=0,i;d<s.length;++d)if(i=s[d],!A[i]&&!D[i]&&(!o||!o[i])){var l=F(n,i);try{O(t,i,l)}catch(t){}}return t}return t},V=l(!1,"Array"),q=p.bind(null,!1),W=l(!1,"Map"),z=l(!1,"Object"),H=l(!0,"Array"),K=p.bind(null,!0),G=l(!0,"Object"),Q=Object.freeze({observableArray:V,observableArrayOf:q,observableMap:W,observableObject:z,arrayOrObservableArray:H,arrayOrObservableArrayOf:K,objectOrObservableObject:G}),Y={mobxStores:G};Object.seal(Y);var X={contextTypes:{get:function(){return Y},set:function(){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}},$=!1,J=!1,Z=!1,ee="undefined"==typeof WeakMap?void 0:new WeakMap,te=new P,ne=new P,ae={componentWillMount:function(){function e(e){var n=this[e],o=new t.Atom("reactive "+e);Object.defineProperty(this,e,{configurable:!0,enumerable:!0,get:function(){return o.reportObserved(),n},set:function(e){d||E(n,e)?n=e:(n=e,s=!0,o.reportChanged(),s=!1)}})}var o=this;if(!0!==J){var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",i=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalFiber&&this._reactInternalFiber._debugID,s=!1,d=!1;e.call(this,"props"),e.call(this,"state");var l=this.render.bind(this),p=null,c=!1,u=function(){return p=new t.Reaction(r+"#"+i+".render()",function(){if(!c&&(c=!0,"function"==typeof o.componentWillReact&&o.componentWillReact(),!0!==o.__$mobxIsUnmounted)){var e=!0;try{d=!0,s||n.Component.prototype.forceUpdate.call(o),e=!1}finally{d=!1,e&&p.dispose()}}}),p.reactComponent=o,m.$mobx=p,o.render=m,m()},m=function(){c=!1;var n=void 0,e=void 0;if(p.track(function(){$&&(o.__$mobRenderStart=Date.now());try{e=t.extras.allowStateChanges(!1,l)}catch(t){n=t}$&&(o.__$mobRenderEnd=Date.now())}),n)throw ne.emit(n),n;return e};this.render=u}},componentWillUnmount:function(){if(!0!==J&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,$)){var e=f(this);e&&ee&&ee.delete(e),te.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){$&&g(this)},componentDidUpdate:function(){$&&g(this)},shouldComponentUpdate:function(e,t){return J&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!E(this.props,e)}},oe=C(function(e){var t=e.children,n=e.inject,o=e.render,r=t||o;if("undefined"==typeof r)return null;if(!n)return r();var i=h(n)(r);return I.createElement(i,null)});oe.displayName="Observer";var re=function(e,t,n,o,r){var i="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[i]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"==typeof e[t]||"function"==typeof e[i]?void 0:new Error("Invalid prop `"+r+"` of type `"+S(e[t])+"` supplied to `"+n+"`, expected `function`.")};oe.propTypes={render:re,children:re};var ie={children:!0,key:!0,ref:!0},se=(le=de=function(e){function t(){return x(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return w(t,e),N(t,[{key:"render",value:function(){return n.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={},t=this.context.mobxStores;if(t)for(var n in t)e[n]=t[n];for(var o in this.props)ie[o]||"suppressChangedStoreWarning"==o||(e[o]=this.props[o]);return{mobxStores:e}}},{key:"componentWillReceiveProps",value:function(e){if(Object.keys(e).length!==Object.keys(this.props).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var t in e)ie[t]||this.props[t]===e[t]||console.warn("MobX Provider: Provided store '"+t+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),t}(n.Component),de.contextTypes={mobxStores:G},de.childContextTypes={mobxStores:G.isRequired},le),de,le;if(!n.Component)throw new Error("mobx-react requires React to be available");if(!t.extras)throw new Error("mobx-react requires mobx to be available");"function"==typeof o.unstable_batchedUpdates?t.extras.setReactionScheduler(o.unstable_batchedUpdates):"function"==typeof void 0;if("object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":S(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var pe={spy:t.spy,extras:t.extras};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact({renderReporter:te,componentByNodeRegistery:ee,trackComponents:y},pe)}e.propTypes=Q,e.PropTypes=Q,e.onError=function(e){return ne.on(e)},e.observer=C,e.Observer=oe,e.renderReporter=te,e.componentByNodeRegistery=ee,e.trackComponents=y,e.useStaticRendering=b,e.Provider=se,e.inject=h,Object.defineProperty(e,"__esModule",{value:!0})})},{mobx:189,react:358,"react-dom":198}],189:[function(e,t,n){var o=Math.max;(function(e){"use strict";function t(e,t){function n(){this.constructor=e}Kt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function r(e){return e.interceptors&&0<e.interceptors.length}function i(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),Ne(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function s(e,t){var n=vt();try{var o=e.interceptors;if(o)for(var r=0,i=o.length;r<i&&(t=o[r](t),ke(!t||t.type,"Intercept handlers should return nothing or a change object"),!!t);r++);return t}finally{Et(n)}}function d(e){return e.changeListeners&&0<e.changeListeners.length}function l(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),Ne(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function c(e,t){var n=vt(),o=e.changeListeners;if(o){o=o.slice();for(var r=0,i=o.length;r<i;r++)o[r](t);Et(n)}}function u(){return!!Fn.spyListeners.length}function m(e){if(Fn.spyListeners.length)for(var t=Fn.spyListeners,n=0,o=t.length;n<o;n++)t[n](e)}function h(e){var t=De({},e,{spyReportStart:!0});m(t)}function f(e){e?m(De({},e,Xt)):m(Xt)}function g(e){return Fn.spyListeners.push(e),Ne(function(){var t=Fn.spyListeners.indexOf(e);-1!==t&&Fn.spyListeners.splice(t,1)})}function y(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function b(e){ke(!0!==e[$t],"Illegal state: cannot recycle array as iterator"),Le(e,$t,!0);var t=-1;return Le(e,"next",function(){return t++,{done:t>=this.length,value:t<this.length?this[t]:void 0}}),e}function _(e,t){Le(e,y(),t)}function v(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function E(e){Object.defineProperty(nn.prototype,""+e,v(e))}function C(e){for(var t=Zt;t<e;t++)E(t);Zt=e}function T(e){return Pe(e)&&on(e.$mobx)}function I(e){return ln[e]}function S(e,t){ke("function"==typeof t,I("m026")),ke("string"==typeof e&&0<e.length,"actions should have valid names, got: '"+e+"'");var n=function(){return k(e,t,this,arguments)};return n.originalFn=t,n.isMobxAction=!0,n}function k(e,t,n,o){var r=x(e,t,n,o);try{return t.apply(n,o)}finally{N(r)}}function x(e,t,n,o){var r=u()&&!!e,s=0;if(r){s=Date.now();var d=o&&o.length||0,l=Array(d);if(0<d)for(var p=0;p<d;p++)l[p]=o[p];h({type:"action",name:e,fn:t,object:n,arguments:l})}var i=vt();ot();var c=A(!0);return{prevDerivation:i,prevAllowStateChanges:c,notifySpy:r,startTime:s}}function N(e){D(e.prevAllowStateChanges),rt(),Et(e.prevDerivation),e.notifySpy&&f({time:Date.now()-e.startTime})}function w(e){ke(null===Fn.trackingDerivation,I("m028")),Fn.strictMode=e,Fn.allowStateChanges=!e}function R(){return Fn.strictMode}function P(e,t){var n=A(e),o;try{o=t()}finally{D(n)}return o}function A(e){var t=Fn.allowStateChanges;return Fn.allowStateChanges=e,t}function D(e){Fn.allowStateChanges=e}function O(e,t,n,o,r){function i(i,s,d,l,p){if(void 0===p&&(p=0),ke(r||F(arguments),"This function is a decorator, but it wasn't invoked like a decorator"),!d){var c={enumerable:o,configurable:!0,get:function(){return this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[s]||M(this,s,void 0,e,l,d),t.call(this,s)},set:function(t){this.__mobxInitializedProps&&!0===this.__mobxInitializedProps[s]?n.call(this,s,t):M(this,s,t,e,l,d)}};return(3>arguments.length||5===arguments.length&&3>p)&&Object.defineProperty(i,s,c),c}Oe(i,"__mobxLazyInitializers")||Me(i,"__mobxLazyInitializers",i.__mobxLazyInitializers&&i.__mobxLazyInitializers.slice()||[]);var u=d.value,m=d.initializer;return i.__mobxLazyInitializers.push(function(t){e(t,s,m?m.call(t):u,l,d)}),{enumerable:o,configurable:!0,get:function(){return!0!==this.__mobxDidRunLazyInitializers&&L(this),t.call(this,s)},set:function(e){!0!==this.__mobxDidRunLazyInitializers&&L(this),n.call(this,s,e)}}}return r?function(){if(F(arguments))return i.apply(null,arguments);var e=arguments,t=arguments.length;return function(n,o,r){return i(n,o,r,e,t)}}:i}function M(e,t,n,o,r,i){Oe(e,"__mobxInitializedProps")||Me(e,"__mobxInitializedProps",{}),e.__mobxInitializedProps[t]=!0,o(e,t,n,r,i)}function L(e){!0===e.__mobxDidRunLazyInitializers||e.__mobxLazyInitializers&&(Me(e,"__mobxDidRunLazyInitializers",!0),e.__mobxDidRunLazyInitializers&&e.__mobxLazyInitializers.forEach(function(t){return t(e)}))}function F(e){return(2===e.length||3===e.length)&&"string"==typeof e[1]}function U(e){return function(t,n,o){if(o&&"function"==typeof o.value)return o.value=S(e,o.value),o.enumerable=!1,o.configurable=!0,o;if(void 0!==o&&void 0!==o.get)throw new Error("[mobx] action is not expected to be used with getters");return pn(e).apply(this,arguments)}}function j(e,t,n){var o="string"==typeof e?e:e.name||"<unnamed action>",r="function"==typeof e?e:t,i="function"==typeof e?t:n;return ke("function"==typeof r,I("m002")),ke(0===r.length,I("m003")),ke("string"==typeof o&&0<o.length,"actions should have valid names, got: '"+o+"'"),k(o,r,i,void 0)}function B(e){return"function"==typeof e&&!0===e.isMobxAction}function V(e,t,n){var o=function(){return k(t,n,e,arguments)};o.isMobxAction=!0,Me(e,t,o)}function q(e,t){return W(e,t)}function W(e,t,n,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var r=typeof e;return"function"!=r&&"object"!=r&&"object"!=typeof t?!1:z(e,t,n,o)}function z(e,t,n,o){e=H(e),t=H(t);var r=mn.call(e);if(r!==mn.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);}var i="[object Array]"===r;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,d=t.constructor;if(s!==d&&!("function"==typeof s&&s instanceof s&&"function"==typeof d&&d instanceof d)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],o=o||[];for(var l=n.length;l--;)if(n[l]===e)return o[l]===t;if(n.push(e),o.push(t),i){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!W(e[l],t[l],n,o))return!1}else{var p=Object.keys(e),c;if(l=p.length,Object.keys(t).length!==l)return!1;for(;l--;)if(c=p[l],!(K(t,c)&&W(e[c],t[c],n,o)))return!1}return n.pop(),o.pop(),!0}function H(e){return T(e)?e.peek():Rn(e)?e.entries():qe(e)?ze(e.entries()):e}function K(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function G(e,t){return e===t}function Q(e,t,n){function o(){i(d)}var r,i,s;"string"==typeof e?(r=e,i=t,s=n):(r=e.name||"Autorun@"+Ie(),i=e,s=t),ke("function"==typeof i,I("m004")),ke(!1===B(i),I("m005")),s&&(i=i.bind(s));var d=new zn(r,function(){this.track(o)});return d.schedule(),d.getDisposer()}function Y(e,t,n,o){var r,i,s,d;"string"==typeof e?(r=e,i=t,s=n,d=o):(r="When@"+Ie(),i=e,s=t,d=n);var l=Q(r,function(e){if(i.call(d)){e.dispose();var t=vt();s.call(d),Et(t)}});return l}function X(e,t,n,o){function i(){d(u)}var s,d,l,p;"string"==typeof e?(s=e,d=t,l=n,p=o):(s=e.name||"AutorunAsync@"+Ie(),d=e,l=t,p=n),ke(!1===B(d),I("m006")),void 0===l&&(l=1),p&&(d=d.bind(p));var c=!1,u=new zn(s,function(){c||(c=!0,setTimeout(function(){c=!1,u.isDisposed||u.track(i)},l))});return u.schedule(),u.getDisposer()}function $(e,t,n){function o(){if(!p.isDisposed){var n=!1;p.track(function(){var t=e(p);n=s||!l(r,t),r=t}),s&&i.fireImmediately&&t(r,p),s||!0!=n||t(r,p),s&&(s=!1)}}3<arguments.length&&Se(I("m007")),he(e)&&Se(I("m008"));var i;i="object"==typeof n?n:{},i.name=i.name||e.name||t.name||"Reaction@"+Ie(),i.fireImmediately=!0===n||!0===i.fireImmediately,i.delay=i.delay||0,i.compareStructural=i.compareStructural||i.struct||!1,t=un(i.name,i.context?t.bind(i.context):t),i.context&&(e=e.bind(i.context));var s=!0,d=!1,l=i.equals?i.equals:i.compareStructural||i.struct?hn.structural:hn.default,p=new zn(i.name,function(){s||1>i.delay?o():!d&&(d=!0,setTimeout(function(){d=!1,o()},i.delay))}),r;return p.schedule(),p.getDisposer()}function J(e,t){if(se(e)&&e.hasOwnProperty("$mobx"))return e.$mobx;ke(Object.isExtensible(e),I("m035")),Ae(e)||(t=(e.constructor.name||"ObservableObject")+"@"+Ie()),t||(t="ObservableObject@"+Ie());var n=new yn(e,t);return Le(e,"$mobx",n),n}function Z(e,t,n,o){if(e.values[t]&&!gn(e.values[t]))return ke("value"in n,"The property "+t+" in "+e.name+" is already observable, cannot redefine it as computed property"),void(e.target[t]=n.value);if(!("value"in n))te(e,t,n.get,n.set,hn.default,!0);else if(he(n.value)){var r=n.value;ee(e,t,r.initialValue,r.enhancer)}else B(n.value)&&!0===n.value.autoBind?V(e.target,t,n.value.originalFn):gn(n.value)?ne(e,t,n.value):ee(e,t,n.value,o)}function ee(e,t,n,o){if(Ue(e.target,t),r(e)){var i=s(e,{object:e.target,name:t,type:"add",newValue:n});if(!i)return;n=i.newValue}var d=e.values[t]=new sn(n,o,e.name+"."+t,!1);n=d.value,Object.defineProperty(e.target,t,ae(t)),ie(e,e.target,t,n)}function te(e,t,n,o,r,i){i&&Ue(e.target,t),e.values[t]=new fn(n,e.target,r,e.name+"."+t,o),i&&Object.defineProperty(e.target,t,oe(t))}function ne(e,t,n){var o=e.name+"."+t;n.name=o,n.scope||(n.scope=e.target),e.values[t]=n,Object.defineProperty(e.target,t,oe(t))}function ae(e){return bn[e]||(bn[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[e].get()},set:function(t){re(this,e,t)}})}function oe(e){return _n[e]||(_n[e]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[e].get()},set:function(t){return this.$mobx.values[e].set(t)}})}function re(e,t,n){var o=e.$mobx,i=o.values[t];if(r(o)){var l=s(o,{type:"update",object:e,name:t,newValue:n});if(!l)return;n=l.newValue}if(n=i.prepareNewValue(n),n!==rn){var p=d(o),m=u(),l=p||m?{type:"update",object:e,oldValue:i.value,name:t,newValue:n}:null;m&&h(l),i.setNewValue(n),p&&c(o,l),m&&f()}}function ie(e,t,n,o){var r=d(e),i=u(),s=r||i?{type:"add",object:t,name:n,newValue:o}:null;i&&h(s),r&&c(e,s),i&&f()}function se(e){return!!Pe(e)&&(L(e),vn(e.$mobx))}function de(e,t){if(null===e||e===void 0)return!1;if(void 0!==t){if(T(e)||Rn(e))throw new Error(I("m019"));else if(se(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return se(e)||!!e.$mobx||Yt(e)||Gn(e)||gn(e)}function le(e){return ke(!!e,":("),O(function(t,n,o,r,i){Ue(t,n),ke(!i||!i.get,I("m022"));var s=J(t,void 0);ee(s,n,o,e)},function(e){var t=this.$mobx.values[e];return void 0===t?void 0:t.get()},function(e,t){re(this,e,t)},!0,!1)}function pe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return ue(e,ge,t)}function ce(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return ue(e,be,t)}function ue(e,t,n){ke(2<=arguments.length,I("m014")),ke("object"==typeof e,I("m015")),ke(!Rn(e),I("m016")),n.forEach(function(e){ke("object"==typeof e,I("m017")),ke(!de(e),I("m018"))});for(var o=J(e),r={},s=n.length-1,i;0<=s;s--)for(var d in i=n[s],i)if(!0!==r[d]&&Oe(i,d)){if(r[d]=!0,e===i&&!Fe(e,d))continue;var l=Object.getOwnPropertyDescriptor(i,d);Z(o,d,l,t)}return e}function me(e){Se("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}function he(e){return"object"==typeof e&&null!==e&&!0===e.isMobxModifierDescriptor}function fe(e,t){return ke(!he(t),"Modifiers cannot be nested"),{isMobxModifierDescriptor:!0,initialValue:t,enhancer:e}}function ge(e,t,n){return he(e)&&Se("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),de(e)?e:Array.isArray(e)?xn.array(e,n):Ae(e)?xn.object(e,n):qe(e)?xn.map(e,n):e}function ye(e,t,n){return he(e)&&Se("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),void 0===e||null===e?e:se(e)||T(e)||Rn(e)?e:Array.isArray(e)?xn.shallowArray(e,n):Ae(e)?xn.shallowObject(e,n):qe(e)?xn.shallowMap(e,n):Se("The shallow modifier / decorator can only used in combination with arrays, objects and maps")}function be(e){return e}function _e(e,t,n){if(q(e,t))return t;if(de(e))return e;if(Array.isArray(e))return new nn(e,_e,n);if(qe(e))return new wn(e,_e,n);if(Ae(e)){var o={};return J(o,n),ue(o,_e,[e]),o}return e}function ve(e,t){return q(e,t)?t:e}function Ee(e,t){void 0===t&&(t=void 0),ot();try{return e.apply(t)}finally{rt()}}function Ce(e){return xe("`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead"),xn.map(e)}function Te(){return"undefined"==typeof window?e:window}function Ie(){return++Fn.mobxGuid}function Se(e,t){throw ke(!1,e,t),"X"}function ke(e,t,n){if(!e)throw new Error("[mobx] Invariant failed: "+t+(n?" in '"+n+"'":""))}function xe(e){return!(-1!==An.indexOf(e))&&(An.push(e),console.error("[mobx] Deprecated: "+e),!0)}function Ne(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}function we(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),t}function Re(e,t,n){if(void 0===t&&(t=100),void 0===n&&(n=" - "),!e)return"";var o=e.slice(0,t);return""+o.join(n)+(e.length>t?" (... and "+(e.length-t)+"more)":"")}function Pe(e){return null!==e&&"object"==typeof e}function Ae(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function De(){for(var e=arguments[0],t=1,n=arguments.length,o;t<n;t++)for(var r in o=arguments[t],o)Oe(o,r)&&(e[r]=o[r]);return e}function Oe(e,t){return On.call(e,t)}function Me(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Le(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Fe(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function Ue(e,t){ke(Fe(e,t),"Cannot make property '"+t+"' observable, it is not configurable and writable in the target object")}function je(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Pe(e)&&!0===e[n]}}function Be(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Ve(e){return Array.isArray(e)||T(e)}function qe(e){return void 0!==Te().Map&&e instanceof Te().Map}function We(e){return Ae(e)?Object.keys(e):Array.isArray(e)?e.map(function(e){var t=e[0];return t}):qe(e)?Array.from(e.keys()):Rn(e)?e.keys():Se("Cannot get keys from "+e)}function ze(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function He(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function Ke(e){return null===e?null:"object"==typeof e?""+e:e}function Ge(e,t){if("object"==typeof e&&null!==e){if(T(e))return ke(void 0===t,I("m036")),e.$mobx.atom;if(Rn(e)){var n=e;if(void 0===t)return Ge(n._keys);var o=n._data[t]||n._hasMap[t];return ke(!!o,"the entry '"+t+"' does not exist in the observable map '"+Ye(e)+"'"),o}if(L(e),t&&!e.$mobx&&e[t],se(e)){if(!t)return Se("please specify a property");var o=e.$mobx.values[t];return ke(!!o,"no observable property '"+t+"' found on the observable object '"+Ye(e)+"'"),o}if(Yt(e)||gn(e)||Gn(e))return e}else if("function"==typeof e&&Gn(e.$mobx))return e.$mobx;return Se("Cannot obtain atom from "+e)}function Qe(e,t){return(ke(e,"Expecting some object"),void 0!==t)?Qe(Ge(e,t)):Yt(e)||gn(e)||Gn(e)?e:Rn(e)?e:(L(e),e.$mobx?e.$mobx:void ke(!1,"Cannot obtain administration from "+e))}function Ye(e,t){var n;return n=void 0===t?se(e)||Rn(e)?Qe(e):Ge(e):Ge(e,t),n.name}function Xe(e,t){return $e(Ge(e,t))}function $e(e){var t={name:e.name};return e.observing&&0<e.observing.length&&(t.dependencies=we(e.observing).map($e)),t}function Je(e){var t={name:e.name};return Ze(e)&&(t.observers=et(e).map(Je)),t}function Ze(e){return e.observers&&0<e.observers.length}function et(e){return e.observers}function tt(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function nt(e,t){if(1===e.observers.length)e.observers.length=0,at(e);else{var n=e.observers,o=e.observersIndexes,r=n.pop();if(r!==t){var i=o[t.__mapid]||0;i?o[r.__mapid]=i:delete o[r.__mapid],n[i]=r}delete o[t.__mapid]}}function at(e){e.isPendingUnobservation||(e.isPendingUnobservation=!0,Fn.pendingUnobservations.push(e))}function ot(){Fn.inBatch++}function rt(){if(0==--Fn.inBatch){Nt();for(var e=Fn.pendingUnobservations,t=0,n;t<e.length;t++)n=e[t],n.isPendingUnobservation=!1,0===n.observers.length&&n.onBecomeUnobserved();Fn.pendingUnobservations=[]}}function it(e){var t=Fn.trackingDerivation;null===t?0===e.observers.length&&at(e):t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e)}function st(e){if(e.lowestObserverState!==n.IDerivationState.STALE){e.lowestObserverState=n.IDerivationState.STALE;for(var t=e.observers,o=t.length,r;o--;)r=t[o],r.dependenciesState===n.IDerivationState.UP_TO_DATE&&(r.isTracing!==qn.NONE&&pt(r,e),r.onBecomeStale()),r.dependenciesState=n.IDerivationState.STALE}}function dt(e){if(e.lowestObserverState!==n.IDerivationState.STALE){e.lowestObserverState=n.IDerivationState.STALE;for(var t=e.observers,o=t.length,r;o--;)r=t[o],r.dependenciesState===n.IDerivationState.POSSIBLY_STALE?r.dependenciesState=n.IDerivationState.STALE:r.dependenciesState===n.IDerivationState.UP_TO_DATE&&(e.lowestObserverState=n.IDerivationState.UP_TO_DATE)}}function lt(e){if(e.lowestObserverState===n.IDerivationState.UP_TO_DATE){e.lowestObserverState=n.IDerivationState.POSSIBLY_STALE;for(var t=e.observers,o=t.length,r;o--;)r=t[o],r.dependenciesState===n.IDerivationState.UP_TO_DATE&&(r.dependenciesState=n.IDerivationState.POSSIBLY_STALE,r.isTracing!==qn.NONE&&pt(r,e),r.onBecomeStale())}}function pt(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===qn.BREAK){var n=[];ct(Xe(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof fn?e.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function ct(e,t,n){return 1e3<=t.length?void t.push("(and many more)"):void(t.push(""+Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach(function(e){return ct(e,t,n+1)}))}function ut(t){return t instanceof Wn}function mt(e){switch(e.dependenciesState){case n.IDerivationState.UP_TO_DATE:return!1;case n.IDerivationState.NOT_TRACKING:case n.IDerivationState.STALE:return!0;case n.IDerivationState.POSSIBLY_STALE:{for(var t=vt(),o=e.observing,r=o.length,s=0,i;s<r;s++)if(i=o[s],gn(i)){try{i.get()}catch(n){return Et(t),!0}if(e.dependenciesState===n.IDerivationState.STALE)return Et(t),!0}return Ct(e),Et(t),!1}}}function ht(){return null!==Fn.trackingDerivation}function ft(e){var t=0<e.observers.length;0<Fn.computationDepth&&t&&Se(I("m031")+e.name),!Fn.allowStateChanges&&t&&Se(I(Fn.strictMode?"m030a":"m030b")+e.name)}function gt(e,t,n){Ct(e),e.newObserving=Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++Fn.runId;var o=Fn.trackingDerivation;Fn.trackingDerivation=e;var r;try{r=t.call(n)}catch(t){r=new Wn(t)}return Fn.trackingDerivation=o,yt(e),r}function yt(e){for(var t=e.observing,o=e.observing=e.newObserving,r=n.IDerivationState.UP_TO_DATE,s=0,d=e.unboundDepsCount,l=0,i;l<d;l++)i=o[l],0===i.diffValue&&(i.diffValue=1,s!==l&&(o[s]=i),s++),i.dependenciesState>r&&(r=i.dependenciesState);for(o.length=s,e.newObserving=null,d=t.length;d--;){var i=t[d];0===i.diffValue&&nt(i,e),i.diffValue=0}for(;s--;){var i=o[s];1===i.diffValue&&(i.diffValue=0,tt(i,e))}r!==n.IDerivationState.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}function bt(e){var t=e.observing;e.observing=[];for(var o=t.length;o--;)nt(t[o],e);e.dependenciesState=n.IDerivationState.NOT_TRACKING}function _t(e){var t=vt(),n=e();return Et(t),n}function vt(){var e=Fn.trackingDerivation;return Fn.trackingDerivation=null,e}function Et(e){Fn.trackingDerivation=e}function Ct(e){if(e.dependenciesState!==n.IDerivationState.UP_TO_DATE){e.dependenciesState=n.IDerivationState.UP_TO_DATE;for(var t=e.observing,o=t.length;o--;)t[o].lowestObserverState=n.IDerivationState.UP_TO_DATE}}function Tt(e){return console.log(e),e}function It(e){return xe("`whyRun` is deprecated in favor of `trace`"),e=kt(arguments),e?gn(e)||Gn(e)?Tt(e.whyRun()):Se(I("m025")):Tt(I("m024"))}function St(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var o=kt(e);return o?void(o.isTracing===qn.NONE&&console.log("[mobx.trace] '"+o.name+"' tracing enabled"),o.isTracing=n?qn.BREAK:qn.LOG):Se("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly")}function kt(e){switch(e.length){case 0:return Fn.trackingDerivation;case 1:return Ge(e[0]);case 2:return Ge(e[0],e[1]);}}function xt(e){ke(this&&this.$mobx&&Gn(this.$mobx),"Invalid `this`"),ke(!this.$mobx.errorHandler,"Only one onErrorHandler can be registered"),this.$mobx.errorHandler=e}function Nt(){0<Fn.inBatch||Fn.isRunningReactions||Kn(wt)}function wt(){Fn.isRunningReactions=!0;for(var e=Fn.pendingReactions,t=0;0<e.length;){++t==Hn&&(console.error("Reaction doesn't converge to a stable state after "+Hn+" iterations."+(" Probably there is a cycle in the reactive function: "+e[0])),e.splice(0));for(var n=e.splice(0),o=0,r=n.length;o<r;o++)n[o].runReaction()}Fn.isRunningReactions=!1}function Rt(e){return xe("asReference is deprecated, use observable.ref instead"),xn.ref(e)}function Pt(e){return xe("asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead."),xn.struct(e)}function At(e){return xe("asFlat is deprecated, use observable.shallow instead"),xn.shallow(e)}function Dt(e){return xe("asMap is deprecated, use observable.map or observable.shallowMap instead"),xn.map(e||{})}function Ot(e){return O(function(t,n,o,r,i){ke("undefined"!=typeof i,I("m009")),ke("function"==typeof i.get,I("m010"));var s=J(t,"");te(s,n,i.get,i.set,e,!1)},function(e){var t=this.$mobx.values[e];return void 0===t?void 0:t.get()},function(e,t){this.$mobx.values[e].set(t)},!1,!1)}function Mt(e,t){if(null===e||e===void 0)return!1;if(void 0!==t){if(!1===se(e))return!1;if(!e.$mobx.values[t])return!1;var n=Ge(e,t);return gn(n)}return gn(e)}function Lt(e,t,n,o){return"function"==typeof n?Ut(e,t,n,o):Ft(e,t,n)}function Ft(e,t,n){return Qe(e).observe(t,n)}function Ut(e,t,n,o){return Qe(e,t).observe(n,o)}function jt(e,t,n){return"function"==typeof n?Vt(e,t,n):Bt(e,t)}function Bt(e,t){return Qe(e).intercept(t)}function Vt(e,t,n){return Qe(e,t).intercept(n)}function qt(e,t){return ht()||console.warn(I("m013")),Xn(e,{context:t}).get()}function Wt(e,t,n){function o(o){return t&&n.push([e,o]),o}if(void 0===t&&(t=!0),void 0===n&&(n=[]),de(e)){if(t&&null===n&&(n=[]),t&&null!==e&&"object"==typeof e)for(var r=0,i=n.length;r<i;r++)if(n[r][0]===e)return n[r][1];if(T(e)){var s=o([]),d=e.map(function(e){return Wt(e,t,n)});s.length=d.length;for(var r=0,i=d.length;r<i;r++)s[r]=d[r];return s}if(se(e)){var s=o({});for(var l in e)s[l]=Wt(e[l],t,n);return s}if(Rn(e)){var p=o({});return e.forEach(function(e,o){return p[o]=Wt(e,t,n)}),p}if(dn(e))return Wt(e.get(),t,n)}return e}function zt(e,n){ke("function"==typeof e&&2>e.length,"createTransformer expects a function that accepts one argument");var o={},r=Fn.resetId,i=function(r){function i(t,n){var o=r.call(this,function(){return e(n)},void 0,hn.default,"Transformer-"+e.name+"-"+t,void 0)||this;return o.sourceIdentifier=t,o.sourceObject=n,o}return t(i,r),i.prototype.onBecomeUnobserved=function(){var e=this.value;r.prototype.onBecomeUnobserved.call(this),delete o[this.sourceIdentifier],n&&n(e,this.sourceObject)},i}(fn);return function(e){r!==Fn.resetId&&(o={},r=Fn.resetId);var t=Ht(e),n=o[t];return n?n.get():(n=o[t]=new i(t,e),n.get())}}function Ht(e){if("string"==typeof e||"number"==typeof e)return e;if(null===e||"object"!=typeof e)throw new Error("[mobx] transform expected some kind of object or primitive value, got: "+e);var t=e.$transformId;return void 0===t&&(t=Ie(),Me(e,"$transformId",t)),t}Object.defineProperty(n,"__esModule",{value:!0});/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Gt=function(){function e(e){void 0===e&&(e="Atom@"+Ie()),this.name=e,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=n.IDerivationState.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.reportObserved=function(){it(this)},e.prototype.reportChanged=function(){ot(),st(this),rt()},e.prototype.toString=function(){return this.name},e}(),Qt=function(e){function n(t,n,o){void 0===t&&(t="Atom@"+Ie()),void 0===n&&(n=Dn),void 0===o&&(o=Dn);var r=e.call(this,t)||this;return r.name=t,r.onBecomeObservedHandler=n,r.onBecomeUnobservedHandler=o,r.isPendingUnobservation=!1,r.isBeingTracked=!1,r}return t(n,e),n.prototype.reportObserved=function(){return ot(),e.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),rt(),!!Fn.trackingDerivation},n.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},n}(Gt),Yt=je("Atom",Gt),Xt={spyReportEnd:!0},$t="__$$iterating",Jt=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1==e}(),Zt=0,en=function(){return function(){}}();(function(e,t){"undefined"==typeof Object.setPrototypeOf?"undefined"==typeof e.prototype.__proto__?e.prototype=t:e.prototype.__proto__=t:Object.setPrototypeOf(e.prototype,t)})(en,Array.prototype),Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(e){Object.defineProperty(en.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})});var tn=function(){function e(e,t,n,o){this.array=n,this.owned=o,this.values=[],this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new Gt(e||"ObservableArray@"+Ie()),this.enhancer=function(n,o){return t(n,o,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0===this.dehancer?e:this.dehancer(e)},e.prototype.dehanceValues=function(e){return void 0===this.dehancer?e:e.map(this.dehancer)},e.prototype.intercept=function(e){return i(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),l(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||0>e)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=Array(e-t),o=0;o<e-t;o++)n[o]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,0<t&&e+t+1>Zt&&C(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var i=this;ft(this.atom);var d=this.values.length;if(void 0===e?e=0:e>d?e=d:0>e&&(e=o(0,d+e)),t=1===arguments.length?d-e:void 0===t||null===t?0:o(0,Math.min(t,d-e)),void 0===n&&(n=[]),r(this)){var l=s(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!l)return Pn;t=l.removedCount,n=l.added}n=n.map(function(e){return i.enhancer(e,void 0)});var p=n.length-t;this.updateArrayLength(d,p);var c=this.spliceItemsIntoValues(e,t,n);return(0!==t||0!==n.length)&&this.notifyArraySplice(e,n,c),this.dehanceValues(c)},e.prototype.spliceItemsIntoValues=function(e,t,n){if(n.length<1e4)return(r=this.values).splice.apply(r,[e,t].concat(n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o;var r},e.prototype.notifyArrayChildUpdate=function(e,t,n){var o=!this.owned&&u(),r=d(this),i=r||o?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;o&&h(i),this.atom.reportChanged(),r&&c(this,i),o&&f()},e.prototype.notifyArraySplice=function(e,t,n){var o=!this.owned&&u(),r=d(this),i=r||o?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;o&&h(i),this.atom.reportChanged(),r&&c(this,i),o&&f()},e}(),nn=function(e){function n(t,n,o,r){void 0===o&&(o="ObservableArray@"+Ie()),void 0===r&&(r=!1);var i=e.call(this)||this,s=new tn(o,n,i,r);return Le(i,"$mobx",s),t&&t.length&&i.spliceWithArray(0,0,t),Jt&&Object.defineProperty(s.array,"0",an),i}return t(n,e),n.prototype.intercept=function(e){return this.$mobx.intercept(e)},n.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},n.prototype.clear=function(){return this.splice(0)},n.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(e){return T(e)?e.peek():e}))},n.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},n.prototype.toJS=function(){return this.slice()},n.prototype.toJSON=function(){return this.toJS()},n.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},n.prototype.find=function(e,t,n){void 0===n&&(n=0);var o=this.findIndex.apply(this,arguments);return-1===o?void 0:this.get(o)},n.prototype.findIndex=function(e,t,n){void 0===n&&(n=0);for(var o=this.peek(),r=o.length,s=n;s<r;s++)if(e.call(t,o[s],s,this))return s;return-1},n.prototype.splice=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t);}return this.$mobx.spliceWithArray(e,t,n)},n.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},n.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},n.prototype.pop=function(){return this.splice(o(this.$mobx.values.length-1,0),1)[0]},n.prototype.shift=function(){return this.splice(0,1)[0]},n.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},n.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},n.prototype.sort=function(){var e=this.slice();return e.sort.apply(e,arguments)},n.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return!!(-1<t)&&(this.splice(t,1),!0)},n.prototype.move=function(e,t){function n(e){if(0>e)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var o=this.$mobx.values,r;r=e<t?o.slice(0,e).concat(o.slice(e+1,t+1),[o[e]],o.slice(t+1)):o.slice(0,t).concat([o[e]],o.slice(t,e),o.slice(e+1)),this.replace(r)}},n.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},n.prototype.set=function(e,t){var n=this.$mobx,o=n.values;if(e<o.length){ft(n.atom);var i=o[e];if(r(n)){var d=s(n,{type:"update",object:this,index:e,newValue:t});if(!d)return;t=d.newValue}t=n.enhancer(t,i);var l=t!==i;l&&(o[e]=t,n.notifyArrayChildUpdate(e,t,i))}else if(e===o.length)n.spliceWithArray(e,0,[t]);else throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+o.length)},n}(en);_(nn.prototype,function(){return b(this.slice())}),Object.defineProperty(nn.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){var t=Array.prototype[e];ke("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),Me(nn.prototype,e,function(){return t.apply(this.peek(),arguments)})}),function(e,t){for(var n=0;n<t.length;n++)Me(e,t[n],e[t[n]])}(nn.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var an=v(0);C(1e3);var on=je("ObservableArrayAdministration",tn),rn={},sn=function(e){function n(t,n,o,r){void 0===o&&(o="ObservableValue@"+Ie()),void 0===r&&(r=!0);var i=e.call(this,o)||this;return i.enhancer=n,i.hasUnreportedChange=!1,i.dehancer=void 0,i.value=n(t,void 0,o),r&&u()&&m({type:"create",object:i,newValue:i.value}),i}return t(n,e),n.prototype.dehanceValue=function(e){return void 0===this.dehancer?e:this.dehancer(e)},n.prototype.set=function(e){var t=this.value;if(e=this.prepareNewValue(e),e!==rn){var n=u();n&&h({type:"update",object:this,newValue:e,oldValue:t}),this.setNewValue(e),n&&f()}},n.prototype.prepareNewValue=function(e){if(ft(this),r(this)){var t=s(this,{object:this,type:"update",newValue:e});if(!t)return rn;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.value===e?rn:e},n.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),d(this)&&c(this,{type:"update",object:this,newValue:e,oldValue:t})},n.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},n.prototype.intercept=function(e){return i(this,e)},n.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),l(this,e)},n.prototype.toJSON=function(){return this.get()},n.prototype.toString=function(){return this.name+"["+this.value+"]"},n.prototype.valueOf=function(){return Ke(this.get())},n}(Gt);sn.prototype[He()]=sn.prototype.valueOf;var dn=je("ObservableValue",sn),ln={m001:"It is not allowed to assign new values to @action fields",m002:"`runInAction` expects a function",m003:"`runInAction` expects a function without arguments",m004:"autorun expects a function",m005:"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m006:"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m007:"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object",m008:"wrapping reaction expression in `asReference` is no longer supported, use options object instead",m009:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.",m010:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'",m011:"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments",m012:"computed takes one or two arguments if used as function",m013:"[mobx.expr] 'expr' should only be used inside other reactive functions.",m014:"extendObservable expected 2 or more arguments",m015:"extendObservable expects an object as first argument",m016:"extendObservable should not be used on maps, use map.merge instead",m017:"all arguments of extendObservable should be objects",m018:"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540",m019:"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.",m020:"modifiers can only be used for individual object properties",m021:"observable expects zero or one arguments",m022:"@observable can not be used on getters, use @computed instead",m024:"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.",m025:"whyRun can only be used on reactions and computed values",m026:"`action` can only be invoked on functions",m028:"It is not allowed to set `useStrict` when a derivation is running",m029:"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row",m030a:"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ",m030b:"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ",m031:"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ",m032:"* This computation is suspended (not in use by any reaction) and won't run automatically.\n\tDidn't expect this computation to be suspended at this point?\n\t  1. Make sure this computation is used by a reaction (reaction, autorun, observer).\n\t  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).",m033:"`observe` doesn't support the fire immediately property for observable maps.",m034:"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead",m035:"Cannot make the designated object observable; it is not extensible",m036:"It is not possible to get index atoms from arrays",m037:"Hi there! I'm sorry you have just run into an exception.\nIf your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)\nthrew an exception and that mobx caught it, to avoid that it brings the rest of your application down.\nThe original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.\n\nHowever, more interesting is the actual stack trace of the error itself.\nHopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.\nSee `error.stack` property, or press the very subtle \"(...)\" link you see near the console.error message that probably brought you here.\nThat stack is more interesting than the stack of this console.error itself.\n\nIf the exception you see is an exception you created yourself, make sure to use `throw new Error(\"Oops\")` instead of `throw \"Oops\"`,\nbecause the javascript environment will only preserve the original stack trace in the first form.\n\nYou can also make sure the debugger pauses the next time this very same exception is thrown by enabling \"Pause on caught exception\".\n(Note that it might pause on many other, unrelated exception as well).\n\nIf that all doesn't help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!\n",m038:"Missing items in this list?\n    1. Check whether all used values are properly marked as observable (use isObservable to verify)\n    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.\n"},pn=O(function(e,t,n,o){var r=o&&1===o.length?o[0]:n.name||t||"<unnamed action>",i=un(r,n);Me(e,t,i)},function(e){return this[e]},function(){ke(!1,I("m001"))},!1,!0),cn=O(function(e,t,n){V(e,t,n)},function(e){return this[e]},function(){ke(!1,I("m001"))},!1,!1),un=function(e,t){return 1===arguments.length&&"function"==typeof e?S(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?S(e,t):1===arguments.length&&"string"==typeof e?U(e):U(t).apply(null,arguments)};un.bound=function(e){if("function"==typeof e){var t=S("<not yet bound action>",e);return t.autoBind=!0,t}return cn.apply(null,arguments)};var mn=Object.prototype.toString,hn={identity:G,structural:function(e,t){return q(e,t)},default:function(e,t){return Be(e,t)||G(e,t)}},fn=function(){function e(e,t,o,r,i){this.derivation=e,this.scope=t,this.equals=o,this.dependenciesState=n.IDerivationState.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=n.IDerivationState.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Ie(),this.value=new Wn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=qn.NONE,this.name=r||"ComputedValue@"+Ie(),i&&(this.setter=S(r+"-setter",i))}return e.prototype.onBecomeStale=function(){lt(this)},e.prototype.onBecomeUnobserved=function(){bt(this),this.value=void 0},e.prototype.get=function(){ke(!this.isComputing,"Cycle detected in computation "+this.name,this.derivation),0===Fn.inBatch?(ot(),mt(this)&&(this.isTracing!==qn.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context and doing a full recompute"),this.value=this.computeValue(!1)),rt()):(it(this),mt(this)&&this.trackAndCompute()&&dt(this));var e=this.value;if(ut(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(ut(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){ke(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else ke(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){u()&&m({object:this.scope,type:"compute",fn:this.derivation});var e=this.value,t=this.dependenciesState===n.IDerivationState.NOT_TRACKING,o=this.value=this.computeValue(!0);return t||ut(e)||ut(o)||!this.equals(e,o)},e.prototype.computeValue=function(e){this.isComputing=!0,Fn.computationDepth++;var t;if(e)t=gt(this,this.derivation,this.scope);else try{t=this.derivation.call(this.scope)}catch(n){t=new Wn(n)}return Fn.computationDepth--,this.isComputing=!1,t},e.prototype.observe=function(e,t){var n=this,o=!0,r=void 0;return Q(function(){var i=n.get();if(!o||t){var s=vt();e({type:"update",object:n,newValue:i,oldValue:r}),Et(s)}o=!1,r=i})},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return Ke(this.get())},e.prototype.whyRun=function(){var e=!!Fn.trackingDerivation,t=we(this.isComputing?this.newObserving:this.observing).map(function(e){return e.name}),o=we(et(this).map(function(e){return e.name}));return"\nWhyRun? computation '"+this.name+"':\n * Running because: "+(e?"[active] the value of this computation is needed by a reaction":this.isComputing?"[get] The value of this computed was requested outside a reaction":"[idle] not running at the moment")+"\n"+(this.dependenciesState===n.IDerivationState.NOT_TRACKING?I("m032"):" * This computation will re-run if any of the following observables changes:\n    "+Re(t)+"\n    "+(this.isComputing&&e?" (... or any observable accessed during the remainder of the current run)":"")+"\n    "+I("m038")+"\n\n  * If the outcome of this computation changes, the following observers will be re-run:\n    "+Re(o)+"\n")},e}();fn.prototype[He()]=fn.prototype.valueOf;var gn=je("ComputedValue",fn),yn=function(){function e(e,t){this.target=e,this.name=t,this.values={},this.changeListeners=null,this.interceptors=null}return e.prototype.observe=function(e,t){return ke(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),l(this,e)},e.prototype.intercept=function(e){return i(this,e)},e}(),bn={},_n={},vn=je("ObservableObjectAdministration",yn),En=le(ge),Cn=le(ye),Tn=le(be),In=le(_e),Sn=le(ve),kn={box:function(e,t){return 2<arguments.length&&me("box"),new sn(e,ge,t)},shallowBox:function(e,t){return 2<arguments.length&&me("shallowBox"),new sn(e,be,t)},array:function(e,t){return 2<arguments.length&&me("array"),new nn(e,ge,t)},shallowArray:function(e,t){return 2<arguments.length&&me("shallowArray"),new nn(e,be,t)},map:function(e,t){return 2<arguments.length&&me("map"),new wn(e,ge,t)},shallowMap:function(e,t){return 2<arguments.length&&me("shallowMap"),new wn(e,be,t)},object:function(e,t){2<arguments.length&&me("object");var n={};return J(n,t),pe(n,e),n},shallowObject:function(e,t){2<arguments.length&&me("shallowObject");var n={};return J(n,t),ce(n,e),n},ref:function(){return 2>arguments.length?fe(be,arguments[0]):Tn.apply(null,arguments)},shallow:function(){return 2>arguments.length?fe(ye,arguments[0]):Cn.apply(null,arguments)},deep:function(){return 2>arguments.length?fe(ge,arguments[0]):En.apply(null,arguments)},struct:function(){return 2>arguments.length?fe(_e,arguments[0]):In.apply(null,arguments)}},xn=function(e){if(void 0===e&&(e=void 0),"string"==typeof arguments[1])return En.apply(null,arguments);if(ke(1>=arguments.length,I("m021")),ke(!he(e),I("m020")),de(e))return e;var t=ge(e,void 0,void 0);return t===e?xn.box(e):t};Object.keys(kn).forEach(function(e){return xn[e]=kn[e]}),xn.deep.struct=xn.struct,xn.ref.struct=function(){return 2>arguments.length?fe(ve,arguments[0]):Sn.apply(null,arguments)};var Nn={},wn=function(){function e(e,t,n){void 0===t&&(t=ge),void 0===n&&(n="ObservableMap@"+Ie()),this.enhancer=t,this.name=n,this.$mobx=Nn,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new nn(void 0,be,this.name+".keys()",!0),this.interceptors=null,this.changeListeners=null,this.dehancer=void 0,this.merge(e)}return e.prototype._has=function(e){return"undefined"!=typeof this._data[e]},e.prototype.has=function(e){return!!this.isValidKey(e)&&(e=""+e,this._hasMap[e]?this._hasMap[e].get():this._updateHasMapEntry(e,!1).get())},e.prototype.set=function(e,t){this.assertValidKey(e),e=""+e;var n=this._has(e);if(r(this)){var o=s(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!o)return this;t=o.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(this.assertValidKey(e),e=""+e,r(this)){var n=s(this,{type:"delete",object:this,name:e});if(!n)return!1}if(this._has(e)){var o=u(),i=d(this),n=i||o?{type:"delete",object:this,oldValue:this._data[e].value,name:e}:null;return o&&h(n),Ee(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1);var n=t._data[e];n.setNewValue(void 0),t._data[e]=void 0}),i&&c(this,n),o&&f(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap[e];return n?n.setNewValue(t):n=this._hasMap[e]=new sn(t,be,this.name+"."+e+"?",!1),n},e.prototype._updateValue=function(e,t){var n=this._data[e];if(t=n.prepareNewValue(t),t!==rn){var o=u(),r=d(this),i=r||o?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;o&&h(i),n.setNewValue(t),r&&c(this,i),o&&f()}},e.prototype._addValue=function(e,t){var n=this;Ee(function(){var o=n._data[e]=new sn(t,n.enhancer,n.name+"."+e,!1);t=o.value,n._updateHasMapEntry(e,!0),n._keys.push(e)});var o=u(),r=d(this),i=r||o?{type:"add",object:this,name:e,newValue:t}:null;o&&h(i),r&&c(this,i),o&&f()},e.prototype.get=function(e){return e=""+e,this.has(e)?this.dehanceValue(this._data[e].get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0===this.dehancer?e:this.dehancer(e)},e.prototype.keys=function(){return b(this._keys.slice())},e.prototype.values=function(){return b(this._keys.map(this.get,this))},e.prototype.entries=function(){var e=this;return b(this._keys.map(function(t){return[t,e.get(t)]}))},e.prototype.forEach=function(e,t){var n=this;this.keys().forEach(function(o){return e.call(t,n.get(o),o,n)})},e.prototype.merge=function(e){var t=this;return Rn(e)&&(e=e.toJS()),Ee(function(){Ae(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],o=e[1];return t.set(n,o)}):qe(e)?e.forEach(function(e,n){return t.set(n,e)}):null!==e&&void 0!==e&&Se("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;Ee(function(){_t(function(){e.keys().forEach(e.delete,e)})})},e.prototype.replace=function(e){var t=this;return Ee(function(){var n=We(e),o=t.keys(),r=o.filter(function(e){return-1===n.indexOf(e)});r.forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toJS=function(){var e=this,t={};return this.keys().forEach(function(n){return t[n]=e.get(n)}),t},e.prototype.toJSON=function(){return this.toJS()},e.prototype.isValidKey=function(e){return null===e||void 0===e?!1:"string"==typeof e||"number"==typeof e||"boolean"==typeof e},e.prototype.assertValidKey=function(e){if(!this.isValidKey(e))throw new Error("[mobx.map] Invalid key: '"+e+"', only strings, numbers and booleans are accepted as key in observable maps.")},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this.keys().map(function(t){return t+": "+(""+e.get(t))}).join(", ")+" }]"},e.prototype.observe=function(e,t){return ke(!0!==t,I("m033")),l(this,e)},e.prototype.intercept=function(e){return i(this,e)},e}();_(wn.prototype,function(){return this.entries()});var Rn=je("ObservableMap",wn),Pn=[];Object.freeze(Pn);var An=[],Dn=function(){},On=Object.prototype.hasOwnProperty,Mn=["mobxGuid","resetId","spyListeners","strictMode","runId"],Ln=function(){return function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]}}(),Fn=new Ln,Un=!1,jn=!1,Bn=!1;{var Vn=Te();Vn.__mobxInstanceCount?(Vn.__mobxInstanceCount++,setTimeout(function(){Un||jn||Bn||(Bn=!0,console.warn("[mobx] Warning: there are multiple mobx instances active. This might lead to unexpected results. See https://github.com/mobxjs/mobx/issues/1082 for details."))},1)):Vn.__mobxInstanceCount=1}(function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"})(n.IDerivationState||(n.IDerivationState={}));var qn;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(qn||(qn={}));var Wn=function(){return function(e){this.cause=e}}(),zn=function(){function e(e,t){void 0===e&&(e="Reaction@"+Ie()),this.name=e,this.onInvalidate=t,this.observing=[],this.newObserving=[],this.dependenciesState=n.IDerivationState.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Ie(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=qn.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Fn.pendingReactions.push(this),Nt())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){this.isDisposed||(ot(),this._isScheduled=!1,mt(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&u()&&m({object:this,type:"scheduled-reaction"})),rt())},e.prototype.track=function(e){ot();var t=u(),n;t&&(n=Date.now(),h({object:this,type:"reaction",fn:e})),this._isRunning=!0;var o=gt(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&bt(this),ut(o)&&this.reportExceptionInDerivation(o.cause),t&&f({time:Date.now()-n}),rt()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)return void this.errorHandler(e,this);var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this,o=I("m037");console.error(n||o,e),u()&&m({type:"error",message:n,error:e,object:this}),Fn.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,!this._isRunning&&(ot(),bt(this),rt()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e.onError=xt,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.whyRun=function(){var e=we(this._isRunning?this.newObserving:this.observing).map(function(e){return e.name});return"\nWhyRun? reaction '"+this.name+"':\n * Status: ["+(this.isDisposed?"stopped":this._isRunning?"running":this.isScheduled()?"scheduled":"idle")+"]\n * This reaction will re-run if any of the following observables changes:\n    "+Re(e)+"\n    "+(this._isRunning?" (... or any observable accessed during the remainder of the current run)":"")+"\n\t"+I("m038")+"\n"},e.prototype.trace=function(e){void 0===e&&(e=!1),St(this,e)},e}(),Hn=100,Kn=function(e){return e()},Gn=je("Reaction",zn),Qn=Ot(hn.default),Yn=Ot(hn.structural),Xn=function(e,t){if("string"==typeof t)return Qn.apply(null,arguments);ke("function"==typeof e,I("m011")),ke(3>arguments.length,I("m012"));var n="object"==typeof t?t:{};n.setter="function"==typeof t?t:n.setter;var o=n.equals?n.equals:n.compareStructural||n.struct?hn.structural:hn.default;return new fn(e,n.context,o,n.name||e.name||"",n.setter)};Xn.struct=Yn,Xn.equals=Ot;var $n={allowStateChanges:P,deepEqual:q,getAtom:Ge,getDebugName:Ye,getDependencyTree:Xe,getAdministration:Qe,getGlobalState:function(){return Fn},getObserverTree:function(e,t){return Je(Ge(e,t))},interceptReads:function(e,t,n){var o;if(Rn(e)||T(e)||dn(e))o=Qe(e);else if(se(e)){if("string"!=typeof t)return Se("InterceptReads can only be used with a specific property, not with an object in general");o=Qe(e,t)}else return Se("Expected observable map, object or array as first array");return void 0===o.dehancer?(o.dehancer="function"==typeof t?t:n,function(){o.dehancer=void 0}):Se("An intercept reader was already established")},isComputingDerivation:ht,isSpyEnabled:u,onReactionError:function(e){return Fn.globalReactionErrorHandlers.push(e),function(){var t=Fn.globalReactionErrorHandlers.indexOf(e);0<=t&&Fn.globalReactionErrorHandlers.splice(t,1)}},reserveArrayBuffer:C,resetGlobalState:function(){Fn.resetId++;var e=new Ln;for(var t in e)-1===Mn.indexOf(t)&&(Fn[t]=e[t]);Fn.allowStateChanges=!Fn.strictMode},isolateGlobalState:function(){jn=!0,Te().__mobxInstanceCount--},shareGlobalState:function(){xe("Using `shareGlobalState` is not recommended, use peer dependencies instead. See https://github.com/mobxjs/mobx/issues/1082 for details."),Un=!0;var e=Te(),t=Fn;if(e.__mobservableTrackingStack||e.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(e.__mobxGlobal&&e.__mobxGlobal.version!==t.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");e.__mobxGlobal?Fn=e.__mobxGlobal:e.__mobxGlobal=t},spyReport:m,spyReportEnd:f,spyReportStart:h,setReactionScheduler:function(e){var t=Kn;Kn=function(n){return e(function(){return t(n)})}}},Jn={Reaction:zn,untracked:_t,Atom:Qt,BaseAtom:Gt,useStrict:w,isStrictModeEnabled:R,spy:g,comparer:hn,asReference:Rt,asFlat:At,asStructure:Pt,asMap:Dt,isModifierDescriptor:he,isObservableObject:se,isBoxedObservable:dn,isObservableArray:T,ObservableMap:wn,isObservableMap:Rn,map:Ce,transaction:Ee,observable:xn,computed:Xn,isObservable:de,isComputed:Mt,extendObservable:pe,extendShallowObservable:ce,observe:Lt,intercept:jt,autorun:Q,autorunAsync:X,when:Y,reaction:$,action:un,isAction:B,runInAction:j,expr:qt,toJS:Wt,createTransformer:zt,whyRun:It,isArrayLike:Ve,extras:$n},Zn=!1,ea=function(e){var t=Jn[e];Object.defineProperty(Jn,e,{get:function(){return Zn||(Zn=!0,console.warn("Using default export (`import mobx from 'mobx'`) is deprecated and won\u2019t work in mobx@4.0.0\nUse `import * as mobx from 'mobx'` instead")),t}})};for(var ta in Jn)ea(ta);"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:g,extras:$n}),n.extras=$n,n["default"]=Jn,n.Reaction=zn,n.untracked=_t,n.Atom=Qt,n.BaseAtom=Gt,n.useStrict=w,n.isStrictModeEnabled=R,n.spy=g,n.comparer=hn,n.asReference=Rt,n.asFlat=At,n.asStructure=Pt,n.asMap=Dt,n.isModifierDescriptor=he,n.isObservableObject=se,n.isBoxedObservable=dn,n.isObservableArray=T,n.ObservableMap=wn,n.isObservableMap=Rn,n.map=Ce,n.transaction=Ee,n.observable=xn,n.computed=Xn,n.isObservable=de,n.isComputed=Mt,n.extendObservable=pe,n.extendShallowObservable=ce,n.observe=Lt,n.intercept=jt,n.autorun=Q,n.autorunAsync=X,n.when=Y,n.reaction=$,n.action=un,n.isAction=B,n.runInAction=j,n.expr=qt,n.toJS=Wt,n.createTransformer=zt,n.whyRun=It,n.trace=St,n.isArrayLike=Ve}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],190:[function(e,t){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/"use strict";function n(e){if(null===e||e===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;10>n;n++)t["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==o.join(""))return!1;var r={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e){for(var t=n(e),d=1,l,p;d<arguments.length;d++){for(var c in l=Object(arguments[d]),l)r.call(l,c)&&(t[c]=l[c]);if(o){p=o(l);for(var u=0;u<p.length;u++)s.call(l,p[u])&&(t[p[u]]=l[p[u]])}}return t}},{}],191:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(e){if(m===clearTimeout)return clearTimeout(e);if((m===o||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(e);try{return m(e)}catch(t){try{return m.call(null,e)}catch(t){return m.call(this,e)}}}function s(){f&&y&&(f=!1,y.length?h=y.concat(h):g=-1,h.length&&d())}function d(){if(!f){var e=r(s);f=!0;for(var t=h.length;t;){for(y=h,h=[];++g<t;)y&&y[g].run();g=-1,t=h.length}y=null,f=!1,i(e)}}function l(e,t){this.fun=e,this.array=t}function p(){}var c=t.exports={},u,m;(function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{m="function"==typeof clearTimeout?clearTimeout:o}catch(t){m=o}})();var h=[],f=!1,g=-1,y;c.nextTick=function(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||f||r(d)},l.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=p,c.addListener=p,c.once=p,c.off=p,c.removeListener=p,c.removeAllListeners=p,c.emit=p,c.prependListener=p,c.prependOnceListener=p,c.listeners=function(){return[]},c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],192:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"use strict";t.exports=function(){}},{"./lib/ReactPropTypesSecret":197,"fbjs/lib/invariant":29,"fbjs/lib/warning":36}],193:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"use strict";var n=e("./factoryWithTypeCheckers");t.exports=function(e){return n(e,!1)}},{"./factoryWithTypeCheckers":195}],194:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"use strict";var n=e("fbjs/lib/emptyFunction"),o=e("fbjs/lib/invariant"),r=e("./lib/ReactPropTypesSecret");t.exports=function(){function e(e,t,n,i,s,d){d===r||o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return i.checkPropTypes=n,i.PropTypes=i,i}},{"./lib/ReactPropTypesSecret":197,"fbjs/lib/emptyFunction":21,"fbjs/lib/invariant":29}],195:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"use strict";var n=e("fbjs/lib/emptyFunction"),o=e("fbjs/lib/invariant"),r=e("fbjs/lib/warning"),i=e("object-assign"),s=e("./lib/ReactPropTypesSecret"),d=e("./checkPropTypes");t.exports=function(e,t){function l(e){var t=e&&(v&&e[v]||e[E]);if("function"==typeof t)return t}function p(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function u(e){function n(n,r,i,d,l,p,u){if(d=d||C,p=p||i,u!==s)if(t)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[i]?n?null===r[i]?new c("The "+l+" `"+p+"` is marked as required "+("in `"+d+"`, but its value is `null`.")):new c("The "+l+" `"+p+"` is marked as required in "+("`"+d+"`, but its value is `undefined`.")):null:e(r,i,d,l,p)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function m(e){return u(function(t,n,o,r,i){var s=t[n],d=g(s);if(d!==e){var l=y(s);return new c("Invalid "+r+" `"+i+"` of type "+("`"+l+"` supplied to `"+o+"`, expected ")+("`"+e+"`."))}return null})}function h(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(h);if(null===t||e(t))return!0;var n=l(t);if(n){var o=n.call(t),r;if(n!==t.entries){for(;!(r=o.next()).done;)if(!h(r.value))return!1;}else for(;!(r=o.next()).done;){var i=r.value;if(i&&!h(i[1]))return!1}}else return!1;return!0;default:return!1;}}function f(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function g(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":f(t,e)?"symbol":t}function y(e){if("undefined"==typeof e||null===e)return""+e;var t=g(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=y(e);return"array"===t||"object"===t?"an "+t:"boolean"===t||"date"===t||"regexp"===t?"a "+t:t}function _(e){return e.constructor&&e.constructor.name?e.constructor.name:C}var v="function"==typeof Symbol&&Symbol.iterator,E="@@iterator",C="<<anonymous>>",T={array:m("array"),bool:m("boolean"),func:m("function"),number:m("number"),object:m("object"),string:m("string"),symbol:m("symbol"),any:function(){return u(n.thatReturnsNull)}(),arrayOf:function(e){return u(function(t,n,o,r,d){if("function"!=typeof e)return new c("Property `"+d+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var l=t[n];if(!Array.isArray(l)){var p=g(l);return new c("Invalid "+r+" `"+d+"` of type "+("`"+p+"` supplied to `"+o+"`, expected an array."))}for(var u=0,i;u<l.length;u++)if(i=e(l,u,o,r,d+"["+u+"]",s),i instanceof Error)return i;return null})},element:function(){return u(function(t,n,o,r,i){var s=t[n];if(!e(s)){var d=g(s);return new c("Invalid "+r+" `"+i+"` of type "+("`"+d+"` supplied to `"+o+"`, expected a single ReactElement."))}return null})}(),instanceOf:function(e){return u(function(t,n,o,r,i){if(!(t[n]instanceof e)){var s=e.name||C,d=_(t[n]);return new c("Invalid "+r+" `"+i+"` of type "+("`"+d+"` supplied to `"+o+"`, expected ")+("instance of `"+s+"`."))}return null})},node:function(){return u(function(e,t,n,o,r){return h(e[t])?null:new c("Invalid "+o+" `"+r+"` supplied to "+("`"+n+"`, expected a ReactNode."))})}(),objectOf:function(e){return u(function(t,n,o,r,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var d=t[n],l=g(d);if("object"!==l)return new c("Invalid "+r+" `"+i+"` of type "+("`"+l+"` supplied to `"+o+"`, expected an object."));for(var p in d)if(d.hasOwnProperty(p)){var u=e(d,p,o,r,i+"."+p,s);if(u instanceof Error)return u}return null})},oneOf:function(e){return Array.isArray(e)?u(function(t,n,o,r,s){for(var d=t[n],l=0;l<e.length;l++)if(p(d,e[l]))return null;var i=JSON.stringify(e);return new c("Invalid "+r+" `"+s+"` of value `"+d+"` "+("supplied to `"+o+"`, expected one of "+i+"."))}):(void 0,n.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return void 0,n.thatReturnsNull;for(var t=0,o;t<e.length;t++)if(o=e[t],"function"!=typeof o)return r(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",b(o),t),n.thatReturnsNull;return u(function(t,n,o,r,d){for(var l=0,i;l<e.length;l++)if(i=e[l],null==i(t,n,o,r,d,s))return null;return new c("Invalid "+r+" `"+d+"` supplied to "+("`"+o+"`."))})},shape:function(e){return u(function(t,n,o,r,i){var d=t[n],l=g(d);if("object"!==l)return new c("Invalid "+r+" `"+i+"` of type `"+l+"` "+("supplied to `"+o+"`, expected `object`."));for(var p in e){var u=e[p];if(u){var m=u(d,p,o,r,i+"."+p,s);if(m)return m}}return null})},exact:function(e){return u(function(t,n,o,r,d){var l=t[n],p=g(l);if("object"!==p)return new c("Invalid "+r+" `"+d+"` of type `"+p+"` "+("supplied to `"+o+"`, expected `object`."));var u=i({},t[n],e);for(var m in u){var h=e[m];if(!h)return new c("Invalid "+r+" `"+d+"` key `"+m+"` supplied to `"+o+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=h(l,m,o,r,d+"."+m,s);if(f)return f}return null})}};return c.prototype=Error.prototype,T.checkPropTypes=d,T.PropTypes=T,T}},{"./checkPropTypes":192,"./lib/ReactPropTypesSecret":197,"fbjs/lib/emptyFunction":21,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"object-assign":190}],196:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.exports=e("./factoryWithThrowingShims")()},{"./factoryWithThrowingShims":194,"./factoryWithTypeCheckers":195}],197:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],198:[function(e,t){"use strict";t.exports=e("./lib/ReactDOM")},{"./lib/ReactDOM":228}],199:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}}},{}],200:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./ReactDOMComponentTree"),o=e("fbjs/lib/focusNode");t.exports={focusDOMComponent:function(){o(n.getNodeFromInstance(this))}}},{"./ReactDOMComponentTree":231,"fbjs/lib/focusNode":23}],201:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){return"topCompositionStart"===e?S.compositionStart:"topCompositionEnd"===e?S.compositionEnd:"topCompositionUpdate"===e?S.compositionUpdate:void 0}function r(e,t){return"topKeyDown"===e&&t.keyCode===b}function i(e,t){return"topKeyUp"===e?-1!==y.indexOf(t.keyCode):"topKeyDown"===e?t.keyCode!==b:"topKeyPress"==e||"topMouseDown"==e||"topBlur"==e}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function d(e,t,n,d){var l,p;if(_?l=o(e):x?i(e,n)&&(l=S.compositionEnd):r(e,n)&&(l=S.compositionStart),!l)return null;C&&(x||l!==S.compositionStart?l===S.compositionEnd&&x&&(p=x.getData()):x=h.getPooled(d));var c=f.getPooled(l,t,n,d);if(p)c.data=p;else{var m=s(n);null!==m&&(c.data=m)}return u.accumulateTwoPhaseDispatches(c),c}function l(e,t){switch(e){case"topCompositionEnd":return s(t);case"topKeyPress":var n=t.which;return n===T?(k=!0,I):null;case"topTextInput":var o=t.data;return o===I&&k?null:o;default:return null;}}function p(e,t){if(x){if("topCompositionEnd"===e||!_&&i(e,t)){var o=x.getData();return h.release(x),x=null,o}return null}return"topPaste"===e?null:"topKeyPress"===e?t.which&&!n(t)?String.fromCharCode(t.which):null:"topCompositionEnd"===e?C?null:t.data:null}function c(e,t,n,o){var r;if(r=E?l(e,n):p(e,n),!r)return null;var i=g.getPooled(S.beforeInput,t,n,o);return i.data=r,u.accumulateTwoPhaseDispatches(i),i}var u=e("./EventPropagators"),m=e("fbjs/lib/ExecutionEnvironment"),h=e("./FallbackCompositionState"),f=e("./SyntheticCompositionEvent"),g=e("./SyntheticInputEvent"),y=[9,13,27,32],b=229,_=m.canUseDOM&&"CompositionEvent"in window,v=null;m.canUseDOM&&"documentMode"in document&&(v=document.documentMode);var E=m.canUseDOM&&"TextEvent"in window&&!v&&!function(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&12>=parseInt(e.version(),10)}(),C=m.canUseDOM&&(!_||v&&8<v&&11>=v),T=32,I=" ",S={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},k=!1,x=null;t.exports={eventTypes:S,extractEvents:function(e,t,n,o){return[d(e,t,n,o),c(e,t,n,o)]}}},{"./EventPropagators":217,"./FallbackCompositionState":218,"./SyntheticCompositionEvent":282,"./SyntheticInputEvent":286,"fbjs/lib/ExecutionEnvironment":15}],202:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){r.forEach(function(t){o[n(t,e)]=o[e]})});t.exports={isUnitlessNumber:o,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}}},{}],203:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./CSSProperty"),o=e("fbjs/lib/ExecutionEnvironment"),r=e("./ReactInstrumentation"),i=e("fbjs/lib/camelizeStyleName"),s=e("./dangerousStyleValue"),d=e("fbjs/lib/hyphenateStyleName"),l=e("fbjs/lib/memoizeStringOnly"),p=e("fbjs/lib/warning"),c=l(function(e){return d(e)}),u=!1,m="cssFloat";if(o.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(t){u=!0}document.documentElement.style.cssFloat===void 0&&(m="styleFloat")}t.exports={createMarkupForStyles:function(e,t){var n="";for(var o in e)if(e.hasOwnProperty(o)){var r=0===o.indexOf("--"),i=e[o];!1,null!=i&&(n+=c(o)+":",n+=s(o,i,t,r)+";")}return n||null},setValueForStyles:function(e,t,o){var r=e.style;for(var i in t)if(t.hasOwnProperty(i)){var d=0===i.indexOf("--");var l=s(i,t[i],o,d);if(("float"==i||"cssFloat"==i)&&(i=m),d)r.setProperty(i,l);else if(l)r[i]=l;else{var p=u&&n.shorthandPropertyExpansions[i];if(p)for(var c in p)r[c]="";else r[i]=""}}}}},{"./CSSProperty":202,"./ReactInstrumentation":260,"./dangerousStyleValue":299,"fbjs/lib/ExecutionEnvironment":15,"fbjs/lib/camelizeStyleName":17,"fbjs/lib/hyphenateStyleName":28,"fbjs/lib/memoizeStringOnly":32,"fbjs/lib/warning":36}],204:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e("./reactProdInvariant"),r=e("./PooledClass"),i=e("fbjs/lib/invariant"),s=function(){function e(t){n(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length===t.length?void 0:o("24"),this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}();t.exports=r.addPoolingTo(s)},{"./PooledClass":222,"./reactProdInvariant":318,"fbjs/lib/invariant":29}],205:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n){var o=k.getPooled(P.change,e,t,n);return o.type="change",C.accumulateTwoPhaseDispatches(o),o}function o(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function r(e){var t=n(D,e,N(e));S.batchedUpdates(i,t)}function i(e){E.enqueueEvents(e),E.processEventQueue(!1)}function s(e,t){A=e,D=t,A.attachEvent("onchange",r)}function d(){A&&(A.detachEvent("onchange",r),A=null,D=null)}function l(e,t){var n=x.updateValueIfChanged(e),o=!0===t.simulated&&L._allowSimulatedPassThrough;if(n||o)return e}function p(e,t){if("topChange"===e)return t}function c(e,t,n){"topFocus"===e?(d(),s(t,n)):"topBlur"===e&&d()}function u(e,t){A=e,D=t,A.attachEvent("onpropertychange",h)}function m(){A&&(A.detachEvent("onpropertychange",h),A=null,D=null)}function h(e){"value"!==e.propertyName||l(D,e)&&r(e)}function f(e,t,n){"topFocus"===e?(m(),u(t,n)):"topBlur"===e&&m()}function g(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return l(D,n)}function y(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function b(e,t,n){if("topClick"===e)return l(t,n)}function _(e,t,n){if("topInput"===e||"topChange"===e)return l(t,n)}function v(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var o=""+t.value;t.getAttribute("value")!==o&&t.setAttribute("value",o)}}}var E=e("./EventPluginHub"),C=e("./EventPropagators"),T=e("fbjs/lib/ExecutionEnvironment"),I=e("./ReactDOMComponentTree"),S=e("./ReactUpdates"),k=e("./SyntheticEvent"),x=e("./inputValueTracking"),N=e("./getEventTarget"),w=e("./isEventSupported"),R=e("./isTextInputElement"),P={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},A=null,D=null,O=!1;T.canUseDOM&&(O=w("change")&&(!document.documentMode||8<document.documentMode));var M=!1;T.canUseDOM&&(M=w("input")&&(!document.documentMode||9<document.documentMode));var L={eventTypes:P,_allowSimulatedPassThrough:!0,_isInputEventSupported:M,extractEvents:function(e,t,r,i){var s=t?I.getNodeFromInstance(t):window,d,l;if(o(s)?O?d=p:l=c:R(s)?M?d=_:(d=g,l=f):y(s)&&(d=b),d){var u=d(e,t,r);if(u){var m=n(u,r,i);return m}}l&&l(e,s,t),"topBlur"===e&&v(t,s)}};t.exports=L},{"./EventPluginHub":214,"./EventPropagators":217,"./ReactDOMComponentTree":231,"./ReactUpdates":275,"./SyntheticEvent":284,"./getEventTarget":307,"./inputValueTracking":313,"./isEventSupported":315,"./isTextInputElement":316,"fbjs/lib/ExecutionEnvironment":15}],206:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){l.insertTreeBefore(e,t,n)}function r(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):g(e,t,n)}function i(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],d(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,o){for(var r=t,i;i=r.nextSibling,g(e,r,o),r!==n;)r=i}function d(e,t,n){for(;;){var o=t.nextSibling;if(o===n)break;else e.removeChild(o)}}var l=e("./DOMLazyTree"),p=e("./Danger"),c=e("./ReactDOMComponentTree"),u=e("./ReactInstrumentation"),m=e("./createMicrosoftUnsafeLocalFunction"),h=e("./setInnerHTML"),f=e("./setTextContent"),g=m(function(e,t,n){e.insertBefore(t,n)}),y=p.dangerouslyReplaceNodeWithMarkup;t.exports={dangerouslyReplaceNodeWithMarkup:y,replaceDelimitedText:function(e,t,n){var o=e.parentNode,r=e.nextSibling;r===t?n&&g(o,document.createTextNode(n),r):n?(f(r,n),d(o,r,t)):d(o,e,t),!1},processUpdates:function(e,t){for(var s=0,d;s<t.length;s++)switch(d=t[s],d.type){case"INSERT_MARKUP":o(e,d.content,n(e,d.afterNode)),!1;break;case"MOVE_EXISTING":r(e,d.fromNode,n(e,d.afterNode)),!1;break;case"SET_MARKUP":h(e,d.content),!1;break;case"TEXT_CONTENT":f(e,d.content),!1;break;case"REMOVE_NODE":i(e,d.fromNode),!1;}}}},{"./DOMLazyTree":207,"./Danger":211,"./ReactDOMComponentTree":231,"./ReactInstrumentation":260,"./createMicrosoftUnsafeLocalFunction":298,"./setInnerHTML":320,"./setTextContent":321}],207:[function(e,t){/**
 * Copyright (c) 2015-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){if(p){var t=e.node,n=e.children;if(n.length)for(var o=0;o<n.length;o++)c(t,n[o],null);else null==e.html?null!=e.text&&l(t,e.text):s(t,e.html)}}function o(){return this.node.nodeName}function r(e){return{node:e,children:[],html:null,text:null,toString:o}}var i=e("./DOMNamespaces"),s=e("./setInnerHTML"),d=e("./createMicrosoftUnsafeLocalFunction"),l=e("./setTextContent"),p="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),c=d(function(e,t,o){t.node.nodeType===11||t.node.nodeType===1&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===i.html)?(n(t),e.insertBefore(t.node,o)):(e.insertBefore(t.node,o),n(t))});r.insertTreeBefore=c,r.replaceChildWithTree=function(e,t){e.parentNode.replaceChild(t.node,e),n(t)},r.queueChild=function(e,t){p?e.children.push(t):e.node.appendChild(t.node)},r.queueHTML=function(e,t){p?e.html=t:s(e.node,t)},r.queueText=function(e,t){p?e.text=t:l(e.node,t)},t.exports=r},{"./DOMNamespaces":208,"./createMicrosoftUnsafeLocalFunction":298,"./setInnerHTML":320,"./setTextContent":321}],208:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"}},{}],209:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){return(e&t)===t}var o=e("./reactProdInvariant"),r=e("fbjs/lib/invariant"),i={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,r=e.Properties||{},s=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},p=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};for(var u in e.isCustomAttribute&&d._isCustomAttributeFunctions.push(e.isCustomAttribute),r){d.properties.hasOwnProperty(u)?o("48",u):void 0;var m=u.toLowerCase(),h=r[u],f={attributeName:m,attributeNamespace:null,propertyName:u,mutationMethod:null,mustUseProperty:n(h,t.MUST_USE_PROPERTY),hasBooleanValue:n(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:n(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:n(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:n(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(1>=f.hasBooleanValue+f.hasNumericValue+f.hasOverloadedBooleanValue?void 0:o("50",u),!1,l.hasOwnProperty(u)){var g=l[u];f.attributeName=g,!1}s.hasOwnProperty(u)&&(f.attributeNamespace=s[u]),p.hasOwnProperty(u)&&(f.propertyName=p[u]),c.hasOwnProperty(u)&&(f.mutationMethod=c[u]),d.properties[u]=f}}},s=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",d={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:s,ATTRIBUTE_NAME_CHAR:s+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0,n;t<d._isCustomAttributeFunctions.length;t++)if(n=d._isCustomAttributeFunctions[t],n(e))return!0;return!1},injection:i};t.exports=d},{"./reactProdInvariant":318,"fbjs/lib/invariant":29}],210:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){return!!u.hasOwnProperty(e)||!c.hasOwnProperty(e)&&(p.test(e)?(u[e]=!0,!0):(c[e]=!0,void 0,!1))}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&!1===t}var r=e("./DOMProperty"),i=e("./ReactDOMComponentTree"),s=e("./ReactInstrumentation"),d=e("./quoteAttributeValueForBrowser"),l=e("fbjs/lib/warning"),p=new RegExp("^["+r.ATTRIBUTE_NAME_START_CHAR+"]["+r.ATTRIBUTE_NAME_CHAR+"]*$"),c={},u={},m={createMarkupForID:function(e){return r.ID_ATTRIBUTE_NAME+"="+d(e)},setAttributeForID:function(e,t){e.setAttribute(r.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return r.ROOT_ATTRIBUTE_NAME+"=\"\""},setAttributeForRoot:function(e){e.setAttribute(r.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=r.properties.hasOwnProperty(e)?r.properties[e]:null;if(n){if(o(n,t))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?i+"=\"\"":i+"="+d(t)}return r.isCustomAttribute(e)?null==t?"":e+"="+d(t):null},createMarkupForCustomAttribute:function(e,t){return n(e)&&null!=t?e+"="+d(t):""},setValueForProperty:function(e,t,n){var i=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(i){var s=i.mutationMethod;if(s)s(e,n);else{if(o(i,n))return void this.deleteValueForProperty(e,t);if(i.mustUseProperty)e[i.propertyName]=n;else{var d=i.attributeName,l=i.attributeNamespace;l?e.setAttributeNS(l,d,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===n?e.setAttribute(d,""):e.setAttribute(d,""+n)}}}else if(r.isCustomAttribute(t))return void m.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,o){if(n(t)){null==o?e.removeAttribute(t):e.setAttribute(t,""+o)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t),!1},deleteValueForProperty:function(e,t){var n=r.properties.hasOwnProperty(t)?r.properties[t]:null;if(n){var o=n.mutationMethod;if(o)o(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;e[i]=!n.hasBooleanValue&&""}else e.removeAttribute(n.attributeName)}else r.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=m},{"./DOMProperty":209,"./ReactDOMComponentTree":231,"./ReactInstrumentation":260,"./quoteAttributeValueForBrowser":317,"fbjs/lib/warning":36}],211:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./reactProdInvariant"),o=e("./DOMLazyTree"),r=e("fbjs/lib/ExecutionEnvironment"),i=e("fbjs/lib/createNodesFromMarkup"),s=e("fbjs/lib/emptyFunction"),d=e("fbjs/lib/invariant");t.exports={dangerouslyReplaceNodeWithMarkup:function(e,t){if(r.canUseDOM?void 0:n("56"),t?void 0:n("57"),"HTML"===e.nodeName?n("58"):void 0,"string"==typeof t){var d=i(t,s)[0];e.parentNode.replaceChild(d,e)}else o.replaceChildWithTree(e,t)}}},{"./DOMLazyTree":207,"./reactProdInvariant":318,"fbjs/lib/ExecutionEnvironment":15,"fbjs/lib/createNodesFromMarkup":20,"fbjs/lib/emptyFunction":21,"fbjs/lib/invariant":29}],212:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"]},{}],213:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./EventPropagators"),o=e("./ReactDOMComponentTree"),r=e("./SyntheticMouseEvent"),i={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}};t.exports={eventTypes:i,extractEvents:function(e,t,s,d){if("topMouseOver"===e&&(s.relatedTarget||s.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var l;if(d.window===d)l=d;else{var p=d.ownerDocument;l=p?p.defaultView||p.parentWindow:window}var c,u;if("topMouseOut"===e){c=t;var m=s.relatedTarget||s.toElement;u=m?o.getClosestInstanceFromNode(m):null}else c=null,u=t;if(c===u)return null;var h=null==c?l:o.getNodeFromInstance(c),f=null==u?l:o.getNodeFromInstance(u),g=r.getPooled(i.mouseLeave,c,s,d);g.type="mouseleave",g.target=h,g.relatedTarget=f;var y=r.getPooled(i.mouseEnter,u,s,d);return y.type="mouseenter",y.target=f,y.relatedTarget=h,n.accumulateEnterLeaveDispatches(g,y,c,u),[g,y]}}},{"./EventPropagators":217,"./ReactDOMComponentTree":231,"./SyntheticMouseEvent":288}],214:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function o(e,t,o){return("onClick"===e||"onClickCapture"===e||"onDoubleClick"===e||"onDoubleClickCapture"===e||"onMouseDown"===e||"onMouseDownCapture"===e||"onMouseMove"===e||"onMouseMoveCapture"===e||"onMouseUp"===e||"onMouseUpCapture"===e)&&!!(o.disabled&&n(t))}var r=e("./reactProdInvariant"),s=e("./EventPluginRegistry"),i=e("./EventPluginUtils"),d=e("./ReactErrorUtils"),l=e("./accumulateInto"),p=e("./forEachAccumulated"),c=e("fbjs/lib/invariant"),u={},m=null,h=function(e,t){e&&(i.executeDispatchesInOrder(e,t),!e.isPersistent()&&e.constructor.release(e))},f=function(t){return h(t,!0)},g=function(t){return h(t,!1)},y=function(e){return"."+e._rootNodeID},b={injection:{injectEventPluginOrder:s.injectEventPluginOrder,injectEventPluginsByName:s.injectEventPluginsByName},putListener:function(e,t,n){"function"==typeof n?void 0:r("94",t,typeof n);var o=y(e),i=u[t]||(u[t]={});i[o]=n;var d=s.registrationNameModules[t];d&&d.didPutListener&&d.didPutListener(e,t,n)},getListener:function(e,t){var n=u[t];if(o(t,e._currentElement.type,e._currentElement.props))return null;var r=y(e);return n&&n[r]},deleteListener:function(e,t){var n=s.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var o=u[t];if(o){var r=y(e);delete o[r]}},deleteAllListeners:function(e){var t=y(e);for(var n in u)if(u.hasOwnProperty(n)&&u[n][t]){var o=s.registrationNameModules[n];o&&o.willDeleteListener&&o.willDeleteListener(e,n),delete u[n][t]}},extractEvents:function(e,t,n,o){for(var r=s.plugins,d=0,i,p;d<r.length;d++)if(p=r[d],p){var c=p.extractEvents(e,t,n,o);c&&(i=l(i,c))}return i},enqueueEvents:function(e){e&&(m=l(m,e))},processEventQueue:function(e){var t=m;m=null,e?p(t,f):p(t,g),!m?void 0:r("95"),d.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};t.exports=b},{"./EventPluginRegistry":215,"./EventPluginUtils":216,"./ReactErrorUtils":251,"./accumulateInto":295,"./forEachAccumulated":303,"./reactProdInvariant":318,"fbjs/lib/invariant":29}],215:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";function n(){if(d)for(var e in l){var t=l[e],n=d.indexOf(e);if(-1<n?void 0:i("96",e),!p.plugins[n]){t.extractEvents?void 0:i("97",e),p.plugins[n]=t;var r=t.eventTypes;for(var s in r)o(r[s],t,s)?void 0:i("98",s,e)}}}function o(e,t,n){!p.eventNameDispatchConfigs.hasOwnProperty(n)?void 0:i("99",n),p.eventNameDispatchConfigs[n]=e;var o=e.phasedRegistrationNames;if(o){for(var s in o)if(o.hasOwnProperty(s)){var d=o[s];r(d,t,n)}return!0}return!!e.registrationName&&(r(e.registrationName,t,n),!0)}function r(e,t,n){!p.registrationNameModules[e]?void 0:i("100",e),p.registrationNameModules[e]=t,p.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var i=e("./reactProdInvariant"),s=e("fbjs/lib/invariant"),d=null,l={},p={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){!d?void 0:i("101"),d=Array.prototype.slice.call(e),n()},injectEventPluginsByName:function(e){var t=!1;for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];l.hasOwnProperty(o)&&l[o]===r||(l[o]?i("102",o):void 0,l[o]=r,t=!0)}t&&n()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return p.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var o in n)if(n.hasOwnProperty(o)){var r=p.registrationNameModules[n[o]];if(r)return r}}return null},_resetEventPlugins:function(){for(var e in d=null,l)l.hasOwnProperty(e)&&delete l[e];p.plugins.length=0;var t=p.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var o=p.registrationNameModules;for(var r in o)o.hasOwnProperty(r)&&delete o[r]}};t.exports=p},{"./reactProdInvariant":318,"fbjs/lib/invariant":29}],216:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,o){var r=e.type||"unknown-event";e.currentTarget=c.getNodeFromInstance(o),t?i.invokeGuardedCallbackWithCatch(r,n,e):i.invokeGuardedCallback(r,n,e),e.currentTarget=null}function o(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(!1,Array.isArray(t)){for(var o=0;o<t.length&&!e.isPropagationStopped();o++)if(t[o](e,n[o]))return n[o];}else if(t&&t(e,n))return n;return null}var r=e("./reactProdInvariant"),i=e("./ReactErrorUtils"),s=e("fbjs/lib/invariant"),d=e("fbjs/lib/warning"),l,p;var c={isEndish:function(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e},isMoveish:function(e){return"topMouseMove"===e||"topTouchMove"===e},isStartish:function(e){return"topMouseDown"===e||"topTouchStart"===e},executeDirectDispatch:function(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?r("103"):void 0,e.currentTarget=t?c.getNodeFromInstance(n):null;var o=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,o},executeDispatchesInOrder:function(e,t){var o=e._dispatchListeners,r=e._dispatchInstances;if(!1,Array.isArray(o))for(var s=0;s<o.length&&!e.isPropagationStopped();s++)n(e,t,o[s],r[s]);else o&&n(e,t,o,r);e._dispatchListeners=null,e._dispatchInstances=null},executeDispatchesInOrderStopAtTrue:function(e){var t=o(e);return e._dispatchInstances=null,e._dispatchListeners=null,t},hasDispatches:function(e){return!!e._dispatchListeners},getInstanceFromNode:function(e){return l.getInstanceFromNode(e)},getNodeFromInstance:function(e){return l.getNodeFromInstance(e)},isAncestor:function(e,t){return p.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return p.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return p.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return p.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,o,r){return p.traverseEnterLeave(e,t,n,o,r)},injection:{injectComponentTree:function(e){l=e,!1},injectTreeTraversal:function(e){p=e,!1}}};t.exports=c},{"./ReactErrorUtils":251,"./reactProdInvariant":318,"fbjs/lib/invariant":29,"fbjs/lib/warning":36}],217:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n){var o=t.dispatchConfig.phasedRegistrationNames[n];return h(e,o)}function o(e,t,o){var r=n(e,o,t);r&&(o._dispatchListeners=c(o._dispatchListeners,r),o._dispatchInstances=c(o._dispatchInstances,e))}function r(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.traverseTwoPhase(e._targetInst,o,e)}function i(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?p.getParentInstance(t):null;p.traverseTwoPhase(n,o,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var o=n.dispatchConfig.registrationName,r=h(e,o);r&&(n._dispatchListeners=c(n._dispatchListeners,r),n._dispatchInstances=c(n._dispatchInstances,e))}}function d(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}var l=e("./EventPluginHub"),p=e("./EventPluginUtils"),c=e("./accumulateInto"),u=e("./forEachAccumulated"),m=e("fbjs/lib/warning"),h=l.getListener;t.exports={accumulateTwoPhaseDispatches:function(e){u(e,r)},accumulateTwoPhaseDispatchesSkipTarget:function(e){u(e,i)},accumulateDirectDispatches:function(e){u(e,d)},accumulateEnterLeaveDispatches:function(e,t,n,o){p.traverseEnterLeave(n,o,s,e,t)}}},{"./EventPluginHub":214,"./EventPluginUtils":216,"./accumulateInto":295,"./forEachAccumulated":303,"fbjs/lib/warning":36}],218:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e("object-assign"),r=e("./PooledClass"),i=e("./getTextContentAccessor");o(n.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[i()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e=this._startText,t=e.length,n=this.getText(),o=n.length,r,i;for(r=0;r<t&&e[r]===n[r];r++);var s=t-r;for(i=1;i<=s&&e[t-i]===n[o-i];i++);var d=1<i?1-i:void 0;return this._fallbackText=n.slice(r,d),this._fallbackText}}),r.addPoolingTo(n),t.exports=n},{"./PooledClass":222,"./getTextContentAccessor":311,"object-assign":190}],219:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./DOMProperty"),o=n.injection.MUST_USE_PROPERTY,r=n.injection.HAS_BOOLEAN_VALUE,i=n.injection.HAS_NUMERIC_VALUE,s=n.injection.HAS_POSITIVE_NUMERIC_VALUE,d=n.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+n.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:r,allowTransparency:0,alt:0,as:0,async:r,autoComplete:0,autoPlay:r,capture:r,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|r,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:r,controlsList:0,coords:0,crossOrigin:0,data:0,dateTime:0,default:r,defer:r,dir:0,disabled:r,download:d,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:r,formTarget:0,frameBorder:0,headers:0,height:0,hidden:r,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:r,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|r,muted:o|r,name:0,nonce:0,noValidate:r,open:r,optimum:0,pattern:0,placeholder:0,playsInline:r,poster:0,preload:0,profile:0,radioGroup:0,readOnly:r,referrerPolicy:0,rel:0,required:r,reversed:r,role:0,rows:s,rowSpan:i,sandbox:0,scope:0,scoped:r,scrolling:0,seamless:r,selected:o|r,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:i,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:r,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){return null==t?e.removeAttribute("value"):void("number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t))}}};t.exports=l},{"./DOMProperty":209}],220:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";t.exports={escape:function(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},o=(""+e).replace(t,function(e){return n[e]});return"$"+o},unescape:function(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},o="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+o).replace(t,function(e){return n[e]})}}},{}],221:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){null==e.checkedLink||null==e.valueLink?void 0:s("87")}function o(e){n(e),null==e.value&&null==e.onChange?void 0:s("88")}function r(e){n(e),null==e.checked&&null==e.onChange?void 0:s("89")}function i(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e("./reactProdInvariant"),d=e("./ReactPropTypesSecret"),l=e("prop-types/factory"),p=e("react/lib/React"),c=l(p.isValidElement),u=e("fbjs/lib/invariant"),m=e("fbjs/lib/warning"),h={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},f={value:function(e,t){return!e[t]||h[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:c.func},g={};t.exports={checkPropTypes:function(e,t,n){for(var o in f){if(f.hasOwnProperty(o))var r=f[o](t,o,e,"prop",null,d);if(r instanceof Error&&!(r.message in g)){g[r.message]=!0;var s=i(n);void 0}}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(r(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(r(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}}},{"./ReactPropTypesSecret":268,"./reactProdInvariant":318,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"prop-types/factory":193,"react/lib/React":335}],222:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var n=e("./reactProdInvariant"),o=e("fbjs/lib/invariant"),r=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},i=function(e){var t=this;e instanceof t?void 0:n("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)};t.exports={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||r,n.poolSize||(n.poolSize=10),n.release=i,n},oneArgumentPooler:r,twoArgumentPooler:function(e,t){var n=this;if(n.instancePool.length){var o=n.instancePool.pop();return n.call(o,e,t),o}return new n(e,t)},threeArgumentPooler:function(e,t,n){var o=this;if(o.instancePool.length){var r=o.instancePool.pop();return o.call(r,e,t,n),r}return new o(e,t,n)},fourArgumentPooler:function(e,t,n,o){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n,o),i}return new r(e,t,n,o)}}},{"./reactProdInvariant":318,"fbjs/lib/invariant":29}],223:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){return Object.prototype.hasOwnProperty.call(e,h)||(e[h]=u++,p[e[h]]={}),p[e[h]]}var o=e("object-assign"),r=e("./EventPluginRegistry"),i=e("./ReactEventEmitterMixin"),s=e("./ViewportMetrics"),d=e("./getVendorPrefixedEventName"),l=e("./isEventSupported"),p={},c=!1,u=0,m={topAbort:"abort",topAnimationEnd:d("animationend")||"animationend",topAnimationIteration:d("animationiteration")||"animationiteration",topAnimationStart:d("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:d("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},h="_reactListenersID"+(Math.random()+"").slice(2),f=o({},i,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(f.handleTopLevel),f.ReactEventListener=e}},setEnabled:function(e){f.ReactEventListener&&f.ReactEventListener.setEnabled(e)},isEnabled:function(){return!!(f.ReactEventListener&&f.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var o=t,s=n(o),d=r.registrationNameDependencies[e],p=0,i;p<d.length;p++)i=d[p],s.hasOwnProperty(i)&&s[i]||("topWheel"===i?l("wheel")?f.ReactEventListener.trapBubbledEvent("topWheel","wheel",o):l("mousewheel")?f.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",o):f.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",o):"topScroll"===i?l("scroll",!0)?f.ReactEventListener.trapCapturedEvent("topScroll","scroll",o):f.ReactEventListener.trapBubbledEvent("topScroll","scroll",f.ReactEventListener.WINDOW_HANDLE):"topFocus"===i||"topBlur"===i?(l("focus",!0)?(f.ReactEventListener.trapCapturedEvent("topFocus","focus",o),f.ReactEventListener.trapCapturedEvent("topBlur","blur",o)):l("focusin")&&(f.ReactEventListener.trapBubbledEvent("topFocus","focusin",o),f.ReactEventListener.trapBubbledEvent("topBlur","focusout",o)),s.topBlur=!0,s.topFocus=!0):m.hasOwnProperty(i)&&f.ReactEventListener.trapBubbledEvent(i,m[i],o),s[i]=!0)},trapBubbledEvent:function(e,t,n){return f.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return f.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0==g&&(g=f.supportsEventPageXY()),!g&&!c){var e=s.refreshScrollValues;f.ReactEventListener.monitorScrollValue(e),c=!0}}}),g;t.exports=f},{"./EventPluginRegistry":215,"./ReactEventEmitterMixin":252,"./ViewportMetrics":294,"./getVendorPrefixedEventName":312,"./isEventSupported":315,"object-assign":190}],224:[function(e,t){(function(n){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function o(e,t,n){var o=e[n]===void 0;!1,null!=t&&o&&(e[n]=i(t,!0))}var r=e("./ReactReconciler"),i=e("./instantiateReactComponent"),s=e("./KeyEscapeUtils"),d=e("./shouldUpdateReactComponent"),l=e("./traverseAllChildren"),p=e("fbjs/lib/warning");"undefined"!=typeof n&&n.env;t.exports={instantiateChildren:function(e,t,n,r){if(null==e)return null;var i={};return l(e,o,i),i},updateChildren:function(e,t,n,o,s,l,p,c,u){if(t||e){var m,h;for(m in t)if(t.hasOwnProperty(m)){h=e&&e[m];var f=h&&h._currentElement,g=t[m];if(null!=h&&d(f,g))r.receiveComponent(h,g,s,c),t[m]=h;else{h&&(o[m]=r.getHostNode(h),r.unmountComponent(h,!1));var y=i(g,!0);t[m]=y;var b=r.mountComponent(y,s,l,p,c,u);n.push(b)}}for(m in e)e.hasOwnProperty(m)&&!(t&&t.hasOwnProperty(m))&&(h=e[m],o[m]=r.getHostNode(h),r.unmountComponent(h,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];r.unmountComponent(o,t)}}}}).call(this,e("_process"))},{"./KeyEscapeUtils":220,"./ReactReconciler":270,"./instantiateReactComponent":314,"./shouldUpdateReactComponent":322,"./traverseAllChildren":323,_process:191,"fbjs/lib/warning":36,"react/lib/ReactComponentTreeHook":338}],225:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./DOMChildrenOperations"),o=e("./ReactDOMIDOperations"),r={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:n.dangerouslyReplaceNodeWithMarkup};t.exports=r},{"./DOMChildrenOperations":206,"./ReactDOMIDOperations":235}],226:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var n=e("./reactProdInvariant"),o=e("fbjs/lib/invariant"),r=!1,i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){!r?void 0:n("104"),i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,r=!0}}};t.exports=i},{"./reactProdInvariant":318,"fbjs/lib/invariant":29}],227:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(){}function o(){}function r(e){return!!(e.prototype&&e.prototype.isReactComponent)}function i(e){return!!(e.prototype&&e.prototype.isPureReactComponent)}function s(e,t,n){if(0===t)return e();f.debugTool.onBeginLifeCycleTimer(t,n);try{return e()}finally{f.debugTool.onEndLifeCycleTimer(t,n)}}var d=e("./reactProdInvariant"),l=e("object-assign"),p=e("react/lib/React"),c=e("./ReactComponentEnvironment"),u=e("react/lib/ReactCurrentOwner"),m=e("./ReactErrorUtils"),h=e("./ReactInstanceMap"),f=e("./ReactInstrumentation"),g=e("./ReactNodeTypes"),y=e("./ReactReconciler");var b=e("fbjs/lib/emptyObject"),_=e("fbjs/lib/invariant"),v=e("fbjs/lib/shallowEqual"),E=e("./shouldUpdateReactComponent"),C=e("fbjs/lib/warning"),T={ImpureClass:0,PureClass:1,StatelessFunctional:2};n.prototype.render=function(){var e=h.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return o(e,t),t};var I=1;t.exports={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1,!1},mountComponent:function(e,t,s,l){var c=this;this._context=l,this._mountOrder=I++,this._hostParent=t,this._hostContainerInfo=s;var u=this._currentElement.props,m=this._processContext(l),f=this._currentElement.type,g=e.getUpdateQueue(),y=r(f),_=this._constructComponent(y,u,m,g),v;y||null!=_&&null!=_.render?i(f)?this._compositeType=T.PureClass:this._compositeType=T.ImpureClass:(v=_,o(f,v),null===_||!1===_||p.isValidElement(_)?void 0:d("105",f.displayName||f.name||"Component"),_=new n(f),this._compositeType=T.StatelessFunctional);_.props=u,_.context=m,_.refs=b,_.updater=g,this._instance=_,h.set(_,this),!1;var E=_.state;void 0===E&&(_.state=E=null),"object"!=typeof E||Array.isArray(E)?d("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var C;return C=_.unstable_handleError?this.performInitialMountWithErrorHandling(v,t,s,e,l):this.performInitialMount(v,t,s,e,l),_.componentDidMount&&e.getReactMountReady().enqueue(_.componentDidMount,_),C},_constructComponent:function(e,t,n,o){return this._constructComponentWithoutOwner(e,t,n,o)},_constructComponentWithoutOwner:function(e,t,n,o){var r=this._currentElement.type;return e?new r(t,n,o):r(t,n,o)},performInitialMountWithErrorHandling:function(t,n,o,r,i){var s=r.checkpoint(),d;try{d=this.performInitialMount(t,n,o,r,i)}catch(l){r.rollback(s),this._instance.unstable_handleError(l),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),s=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(s),d=this.performInitialMount(t,n,o,r,i)}return d},performInitialMount:function(e,t,n,o,r){var i=this._instance,s=0;!1,i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),e===void 0&&(e=this._renderValidatedComponent());var d=g.getType(e);this._renderedNodeType=d;var l=this._instantiateReactComponent(e,d!==g.EMPTY);this._renderedComponent=l;var p=y.mountComponent(l,o,t,n,this._processChildContext(r),s);return p},getHostNode:function(){return y.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";m.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(y.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,h.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return b;var o={};for(var r in n)o[r]=e[r];return o},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,o;if(n.getChildContext&&(o=n.getChildContext()),o){for(var r in"object"==typeof t.childContextTypes?void 0:d("107",this.getName()||"ReactCompositeComponent"),!1,o)r in t.childContextTypes?void 0:d("108",this.getName()||"ReactCompositeComponent",r);return l({},e,o)}return e},_checkContextTypes:function(){},receiveComponent:function(e,t,n){var o=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(t,o,e,r,n)},performUpdateIfNecessary:function(e){null==this._pendingElement?null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null:y.receiveComponent(this,this._pendingElement,e,this._context)},updateComponent:function(e,t,n,o,r){var i=this._instance;null!=i?void 0:d("136",this.getName()||"ReactCompositeComponent");var s=!1,l;this._context===r?l=i.context:(l=this._processContext(r),s=!0);var p=t.props,c=n.props;t!==n&&(s=!0),s&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,l);var u=this._processPendingState(c,l),m=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?m=i.shouldComponentUpdate(c,u,l):this._compositeType===T.PureClass&&(m=!v(p,c)||!v(i.state,u))),!1,this._updateBatchNumber=null,m?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,u,l,e,r)):(this._currentElement=n,this._context=r,i.props=c,i.state=u,i.context=l)},_processPendingState:function(e,t){var n=this._instance,o=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!o)return n.state;if(r&&1===o.length)return o[0];for(var s=l({},r?o[0]:n.state),d=r?1:0,i;d<o.length;d++)i=o[d],l(s,"function"==typeof i?i.call(n,s,e,t):i);return s},_performComponentUpdate:function(e,t,n,o,r,i){var s=this,d=this._instance,l=!!d.componentDidUpdate,p,c,u;l&&(p=d.props,c=d.state,u=d.context),d.componentWillUpdate&&d.componentWillUpdate(t,n,o),this._currentElement=e,this._context=i,d.props=t,d.state=n,d.context=o,this._updateRenderedComponent(r,i),l&&r.getReactMountReady().enqueue(d.componentDidUpdate.bind(d,p,c,u),d)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,o=n._currentElement,r=this._renderValidatedComponent();if(!1,E(o,r))y.receiveComponent(n,r,e,this._processChildContext(t));else{var i=y.getHostNode(n);y.unmountComponent(n,!1);var s=g.getType(r);this._renderedNodeType=s;var d=this._instantiateReactComponent(r,s!==g.EMPTY);this._renderedComponent=d;var l=y.mountComponent(d,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),0);this._replaceNodeWithMarkup(i,l,n)}},_replaceNodeWithMarkup:function(e,t,n){c.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t;return t=e.render(),!1,t},_renderValidatedComponent:function(){var e;if(this._compositeType!==T.StatelessFunctional){u.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{u.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||p.isValidElement(e)?void 0:d("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null!=n?void 0:d("110");var o=t.getPublicInstance();var r=n.refs===b?n.refs={}:n.refs;r[e]=o},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===T.StatelessFunctional?null:e},_instantiateReactComponent:null}},{"./ReactComponentEnvironment":226,"./ReactErrorUtils":251,"./ReactInstanceMap":259,"./ReactInstrumentation":260,"./ReactNodeTypes":265,"./ReactReconciler":270,"./checkReactTypeSpec":297,"./reactProdInvariant":318,"./shouldUpdateReactComponent":322,"fbjs/lib/emptyObject":22,"fbjs/lib/invariant":29,"fbjs/lib/shallowEqual":35,"fbjs/lib/warning":36,"object-assign":190,"react/lib/React":335,"react/lib/ReactCurrentOwner":339}],228:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./ReactDOMComponentTree"),o=e("./ReactDefaultInjection"),r=e("./ReactMount"),i=e("./ReactReconciler"),s=e("./ReactUpdates"),d=e("./ReactVersion"),l=e("./findDOMNode"),p=e("./getHostComponentFromComposite"),c=e("./renderSubtreeIntoContainer"),u=e("fbjs/lib/warning");o.inject();var m={findDOMNode:l,render:r.render,unmountComponentAtNode:r.unmountComponentAtNode,version:d,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:c};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:n.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=p(e)),e?n.getNodeFromInstance(e):null}},Mount:r,Reconciler:i});t.exports=m},{"./ReactDOMComponentTree":231,"./ReactDOMInvalidARIAHook":237,"./ReactDOMNullInputValuePropHook":238,"./ReactDOMUnknownPropertyHook":245,"./ReactDefaultInjection":248,"./ReactInstrumentation":260,"./ReactMount":263,"./ReactReconciler":270,"./ReactUpdates":275,"./ReactVersion":276,"./findDOMNode":301,"./getHostComponentFromComposite":308,"./renderSubtreeIntoContainer":319,"fbjs/lib/ExecutionEnvironment":15,"fbjs/lib/warning":36}],229:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(e){if("object"==typeof e){if(Array.isArray(e))return"["+e.map(o).join(", ")+"]";var t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=/^[a-z$_][\w$_]*$/i.test(n)?n:JSON.stringify(n);t.push(r+": "+o(e[n]))}return"{"+t.join(", ")+"}"}return"string"==typeof e?JSON.stringify(e):"function"==typeof e?"[function object]":e+""}function r(e,t){t&&(oe[e._tag]&&(null==t.children&&null==t.dangerouslySetInnerHTML?void 0:y("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":"")),null!=t.dangerouslySetInnerHTML&&(null==t.children?void 0:y("60"),"object"==typeof t.dangerouslySetInnerHTML&&$ in t.dangerouslySetInnerHTML?void 0:y("61")),!1,null==t.style||"object"==typeof t.style?void 0:y("62",n(e)))}function i(e,t,n,o){if(!(o instanceof L)){var r=e._hostContainerInfo,i=r._node&&r._node.nodeType===Z,d=i?r._node:r._ownerDocument;G(t,d),o.getReactMountReady().enqueue(s,{inst:e,registrationName:t,listener:n})}}function s(){var e=this;S.putListener(e.inst,e.registrationName,e.listener)}function d(){var e=this;R.postMountWrapper(e)}function l(){var e=this;D.postMountWrapper(e)}function p(){var e=this;P.postMountWrapper(e)}function c(){q.track(this)}function u(){var e=this;e._rootNodeID?void 0:y("63");var t=K(e);switch(t?void 0:y("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[x.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":for(var n in e._wrapperState.listeners=[],te)te.hasOwnProperty(n)&&e._wrapperState.listeners.push(x.trapBubbledEvent(n,te[n],t));break;case"source":e._wrapperState.listeners=[x.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[x.trapBubbledEvent("topError","error",t),x.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[x.trapBubbledEvent("topReset","reset",t),x.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[x.trapBubbledEvent("topInvalid","invalid",t)];}}function m(){A.postUpdateWrapper(this)}function h(e){se.call(ie,e)||(re.test(e)?void 0:y("65",e),ie[e]=!0)}function f(e,t){return 0<=e.indexOf("-")||null!=t.is}function g(e){var t=e.type;h(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0,!1}var y=e("./reactProdInvariant"),b=e("object-assign"),_=e("./AutoFocusUtils"),v=e("./CSSPropertyOperations"),E=e("./DOMLazyTree"),C=e("./DOMNamespaces"),T=e("./DOMProperty"),I=e("./DOMPropertyOperations"),S=e("./EventPluginHub"),k=e("./EventPluginRegistry"),x=e("./ReactBrowserEventEmitter"),N=e("./ReactDOMComponentFlags"),w=e("./ReactDOMComponentTree"),R=e("./ReactDOMInput"),P=e("./ReactDOMOption"),A=e("./ReactDOMSelect"),D=e("./ReactDOMTextarea"),O=e("./ReactInstrumentation"),M=e("./ReactMultiChild"),L=e("./ReactServerRenderingTransaction"),F=e("fbjs/lib/emptyFunction"),U=e("./escapeTextContentForBrowser"),j=e("fbjs/lib/invariant"),B=e("./isEventSupported"),V=e("fbjs/lib/shallowEqual"),q=e("./inputValueTracking"),W=e("./validateDOMNesting"),z=e("fbjs/lib/warning"),H=S.deleteListener,K=w.getNodeFromInstance,G=x.listenTo,Q=k.registrationNameModules,Y={string:!0,number:!0},X="style",$="__html",J={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},Z=11,ee={};var te={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ne={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ae={listing:!0,pre:!0,textarea:!0},oe=b({menuitem:!0},ne),re=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ie={},se={}.hasOwnProperty,de=1;g.displayName="ReactDOMComponent",g.Mixin={mountComponent:function(e,t,n,o){this._rootNodeID=de++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(u,this);break;case"input":R.mountWrapper(this,i,t),i=R.getHostProps(this,i),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(u,this);break;case"option":P.mountWrapper(this,i,t),i=P.getHostProps(this,i);break;case"select":A.mountWrapper(this,i,t),i=A.getHostProps(this,i),e.getReactMountReady().enqueue(u,this);break;case"textarea":D.mountWrapper(this,i,t),i=D.getHostProps(this,i),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(u,this);}r(this,i);var s,m;null==t?n._tag&&(s=n._namespaceURI,m=n._tag):(s=t._namespaceURI,m=t._tag),(null==s||s===C.svg&&"foreignobject"===m)&&(s=C.html),s===C.html&&("svg"===this._tag?s=C.svg:"math"===this._tag&&(s=C.mathml)),this._namespaceURI=s;var h;if(e.useCreateElement){var f=n._ownerDocument,g;if(!(s===C.html))g=f.createElementNS(s,this._currentElement.type);else if("script"===this._tag){var y=f.createElement("div"),b=this._currentElement.type;y.innerHTML="<"+b+"></"+b+">",g=y.removeChild(y.firstChild)}else g=i.is?f.createElement(this._currentElement.type,i.is):f.createElement(this._currentElement.type);w.precacheNode(this,g),this._flags|=N.hasCachedChildNodes,this._hostParent||I.setAttributeForRoot(g),this._updateDOMProperties(null,i,e);var v=E(g);this._createInitialChildren(e,i,o,v),h=v}else{var T=this._createOpenTagMarkupAndPutListeners(e,i),S=this._createContentMarkup(e,i,o);h=!S&&ne[this._tag]?T+"/>":T+">"+S+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(d,this),i.autoFocus&&e.getReactMountReady().enqueue(_.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(l,this),i.autoFocus&&e.getReactMountReady().enqueue(_.focusDOMComponent,this);break;case"select":i.autoFocus&&e.getReactMountReady().enqueue(_.focusDOMComponent,this);break;case"button":i.autoFocus&&e.getReactMountReady().enqueue(_.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(p,this);}return h},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var o in t)if(t.hasOwnProperty(o)){var r=t[o];if(null!=r)if(Q.hasOwnProperty(o))r&&i(this,o,r,e);else{o==X&&(r&&(!1,r=this._previousStyleCopy=b({},t.style)),r=v.createMarkupForStyles(r,this));var s=null;null!=this._tag&&f(this._tag,t)?!J.hasOwnProperty(o)&&(s=I.createMarkupForCustomAttribute(o,r)):s=I.createMarkupForProperty(o,r),s&&(n+=" "+s)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+I.createMarkupForRoot()),n+=" "+I.createMarkupForID(this._domID),n)},_createContentMarkup:function(e,t,n){var o="",r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(o=r.__html);else{var i=Y[typeof t.children]?t.children:null,s=null==i?t.children:null;if(null!=i)o=U(i),!1;else if(null!=s){var d=this.mountChildren(s,e,n);o=d.join("")}}return ae[this._tag]&&"\n"===o.charAt(0)?"\n"+o:o},_createInitialChildren:function(e,t,n,o){var r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&E.queueHTML(o,r.__html);else{var s=Y[typeof t.children]?t.children:null,d=null==s?t.children:null;if(null!=s)""!==s&&(!1,E.queueText(o,s));else if(null!=d)for(var l=this.mountChildren(d,e,n),p=0;p<l.length;p++)E.queueChild(o,l[p])}},receiveComponent:function(e,t,n){var o=this._currentElement;this._currentElement=e,this.updateComponent(t,o,e,n)},updateComponent:function(e,t,n,o){var i=t.props,s=this._currentElement.props;switch(this._tag){case"input":i=R.getHostProps(this,i),s=R.getHostProps(this,s);break;case"option":i=P.getHostProps(this,i),s=P.getHostProps(this,s);break;case"select":i=A.getHostProps(this,i),s=A.getHostProps(this,s);break;case"textarea":i=D.getHostProps(this,i),s=D.getHostProps(this,s);}switch(r(this,s),this._updateDOMProperties(i,s,e),this._updateDOMChildren(i,s,e,o),this._tag){case"input":R.updateWrapper(this),q.updateValueIfChanged(this);break;case"textarea":D.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(m,this);}},_updateDOMProperties:function(e,t,n){var o,r,s;for(o in e)if(!t.hasOwnProperty(o)&&e.hasOwnProperty(o)&&null!=e[o])if(o===X){var d=this._previousStyleCopy;for(r in d)d.hasOwnProperty(r)&&(s=s||{},s[r]="");this._previousStyleCopy=null}else Q.hasOwnProperty(o)?e[o]&&H(this,o):f(this._tag,e)?J.hasOwnProperty(o)||I.deleteValueForAttribute(K(this),o):(T.properties[o]||T.isCustomAttribute(o))&&I.deleteValueForProperty(K(this),o);for(o in t){var l=t[o],p=o===X?this._previousStyleCopy:null==e?void 0:e[o];if(t.hasOwnProperty(o)&&l!==p&&(null!=l||null!=p))if(o===X){if(l?(!1,l=this._previousStyleCopy=b({},l)):this._previousStyleCopy=null,p){for(r in p)!p.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(s=s||{},s[r]="");for(r in l)l.hasOwnProperty(r)&&p[r]!==l[r]&&(s=s||{},s[r]=l[r])}else s=l;}else if(Q.hasOwnProperty(o))l?i(this,o,l,n):p&&H(this,o);else if(f(this._tag,t))J.hasOwnProperty(o)||I.setValueForAttribute(K(this),o,l);else if(T.properties[o]||T.isCustomAttribute(o)){var c=K(this);null==l?I.deleteValueForProperty(c,o):I.setValueForProperty(c,o,l)}}s&&v.setValueForStyles(K(this),s,this)},_updateDOMChildren:function(e,t,n,o){var r=Y[typeof e.children]?e.children:null,i=Y[typeof t.children]?t.children:null,s=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,d=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null==r?e.children:null,p=null==i?t.children:null;null!=l&&null==p?this.updateChildren(null,n,o):(null!=r||null!=s)&&!(null!=i||null!=d)&&(this.updateTextContent(""),!1),null==i?null==d?null!=p&&(!1,this.updateChildren(p,n,o)):(s!==d&&this.updateMarkup(""+d),!1):r!==i&&(this.updateTextContent(""+i),!1)},getHostNode:function(){return K(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":case"textarea":q.stopTracking(this);break;case"html":case"head":case"body":y("66",this._tag);}this.unmountChildren(e),w.uncacheNode(this),S.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null,!1},getPublicInstance:function(){return K(this)}},b(g.prototype,g.Mixin,M.Mixin),t.exports=g},{"./AutoFocusUtils":200,"./CSSPropertyOperations":203,"./DOMLazyTree":207,"./DOMNamespaces":208,"./DOMProperty":209,"./DOMPropertyOperations":210,"./EventPluginHub":214,"./EventPluginRegistry":215,"./ReactBrowserEventEmitter":223,"./ReactDOMComponentFlags":230,"./ReactDOMComponentTree":231,"./ReactDOMInput":236,"./ReactDOMOption":239,"./ReactDOMSelect":240,"./ReactDOMTextarea":243,"./ReactInstrumentation":260,"./ReactMultiChild":264,"./ReactServerRenderingTransaction":272,"./escapeTextContentForBrowser":300,"./inputValueTracking":313,"./isEventSupported":315,"./reactProdInvariant":318,"./validateDOMNesting":324,"fbjs/lib/emptyFunction":21,"fbjs/lib/invariant":29,"fbjs/lib/shallowEqual":35,"fbjs/lib/warning":36,"object-assign":190}],230:[function(e,t){/**
 * Copyright (c) 2015-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports={hasCachedChildNodes:1}},{}],231:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){return 1===e.nodeType&&e.getAttribute(u)===t+""||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function o(e){for(var t;t=e._renderedComponent;)e=t;return e}function r(e,t){var n=o(e);n._hostNode=t,t[h]=n}function i(e,t){if(!(e._flags&m.hasCachedChildNodes)){var i=e._renderedChildren,s=t.firstChild;outer:for(var l in i)if(i.hasOwnProperty(l)){var p=i[l],c=o(p)._domID;if(0!==c){for(;null!==s;s=s.nextSibling)if(n(s,c)){r(p,s);continue outer}d("32",c)}}e._flags|=m.hasCachedChildNodes}}function s(e){if(e[h])return e[h];for(var t=[];!e[h];)if(t.push(e),e.parentNode)e=e.parentNode;else return null;for(var n,o;e&&(o=e[h]);e=t.pop())n=o,t.length&&i(o,e);return n}var d=e("./reactProdInvariant"),l=e("./DOMProperty"),p=e("./ReactDOMComponentFlags"),c=e("fbjs/lib/invariant"),u=l.ID_ATTRIBUTE_NAME,m=p,h="__reactInternalInstance$"+Math.random().toString(36).slice(2);t.exports={getClosestInstanceFromNode:s,getInstanceFromNode:function(e){var t=s(e);return null!=t&&t._hostNode===e?t:null},getNodeFromInstance:function(e){if(void 0===e._hostNode?d("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:d("34"),e=e._hostParent;for(;t.length;e=t.pop())i(e,e._hostNode);return e._hostNode},precacheChildNodes:i,precacheNode:r,uncacheNode:function(e){var t=e._hostNode;t&&(delete t[h],e._hostNode=null)}}},{"./DOMProperty":209,"./ReactDOMComponentFlags":230,"./reactProdInvariant":318,"fbjs/lib/invariant":29}],232:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./validateDOMNesting");t.exports=function(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===9?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return!1,n}},{"./validateDOMNesting":324}],233:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("object-assign"),o=e("./DOMLazyTree"),r=e("./ReactDOMComponentTree"),i=function(){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};n(i.prototype,{mountComponent:function(e,t,n){var i=n._idCounter++;this._domID=i,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var d=n._ownerDocument,l=d.createComment(s);return r.precacheNode(this,l),o(l)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return r.getNodeFromInstance(this)},unmountComponent:function(){r.uncacheNode(this)}}),t.exports=i},{"./DOMLazyTree":207,"./ReactDOMComponentTree":231,"object-assign":190}],234:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports={useCreateElement:!0,useFiber:!1}},{}],235:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./DOMChildrenOperations"),o=e("./ReactDOMComponentTree");t.exports={dangerouslyProcessChildrenUpdates:function(e,t){var r=o.getNodeFromInstance(e);n.processUpdates(r,t)}}},{"./DOMChildrenOperations":206,"./ReactDOMComponentTree":231}],236:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(){this._rootNodeID&&h.updateWrapper(this)}function o(e){var t="checkbox"===e.type||"radio"===e.type;return t?null!=e.checked:null!=e.value}function r(e){var t=this._currentElement.props,o=l.executeOnChange(t,e);c.asap(n,this);var r=t.name;if("radio"===t.type&&null!=r){for(var s=p.getNodeFromInstance(this),d=s;d.parentNode;)d=d.parentNode;for(var u=d.querySelectorAll("input[name="+JSON.stringify(""+r)+"][type=\"radio\"]"),m=0,h;m<u.length;m++)if(h=u[m],h!==s&&h.form===s.form){var f=p.getInstanceFromNode(h);f?void 0:i("90"),c.asap(n,f)}}return o}var i=e("./reactProdInvariant"),s=e("object-assign"),d=e("./DOMPropertyOperations"),l=e("./LinkedValueUtils"),p=e("./ReactDOMComponentTree"),c=e("./ReactUpdates"),u=e("fbjs/lib/invariant"),m=e("fbjs/lib/warning"),h={getHostProps:function(e,t){var n=l.getValue(t),o=l.getChecked(t),r=s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null==n?e._wrapperState.initialValue:n,checked:null==o?e._wrapperState.initialChecked:o,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null==t.checked?t.defaultChecked:t.checked,initialValue:null==t.value?n:t.value,listeners:null,onChange:r.bind(e),controlled:o(t)}},updateWrapper:function(e){var t=e._currentElement.props;var n=t.checked;null!=n&&d.setValueForProperty(p.getNodeFromInstance(e),"checked",n||!1);var o=p.getNodeFromInstance(e),r=l.getValue(t);if(!(null!=r))null==t.value&&null!=t.defaultValue&&o.defaultValue!==""+t.defaultValue&&(o.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(o.defaultChecked=!!t.defaultChecked);else if(0===r&&""===o.value)o.value="0";else if("number"===t.type){var i=parseFloat(o.value,10)||0;(r!=i||r==i&&o.value!=r)&&(o.value=""+r)}else o.value!==""+r&&(o.value=""+r)},postMountWrapper:function(e){var t=e._currentElement.props,n=p.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value;}var o=n.name;""!==o&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==o&&(n.name=o)}};t.exports=h},{"./DOMPropertyOperations":210,"./LinkedValueUtils":221,"./ReactDOMComponentTree":231,"./ReactUpdates":275,"./reactProdInvariant":318,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"object-assign":190}],237:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./DOMProperty"),o=e("react/lib/ReactComponentTreeHook"),r=e("fbjs/lib/warning"),i={},s=new RegExp("^(aria)-["+n.ATTRIBUTE_NAME_CHAR+"]*$");t.exports={onBeforeMountComponent:function(){},onBeforeUpdateComponent:function(){}}},{"./DOMProperty":209,"fbjs/lib/warning":36,"react/lib/ReactComponentTreeHook":338}],238:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){null!=t&&("input"===t.type||"textarea"===t.type||"select"===t.type)&&(null==t.props||null!==t.props.value||i||(void 0,i=!0))}var o=e("react/lib/ReactComponentTreeHook"),r=e("fbjs/lib/warning"),i=!1;t.exports={onBeforeMountComponent:function(e,t){n(e,t)},onBeforeUpdateComponent:function(e,t){n(e,t)}}},{"fbjs/lib/warning":36,"react/lib/ReactComponentTreeHook":338}],239:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){var t="";return r.Children.forEach(e,function(e){null==e||("string"==typeof e||"number"==typeof e?t+=e:!l&&(l=!0,void 0))}),t}var o=e("object-assign"),r=e("react/lib/React"),i=e("./ReactDOMComponentTree"),s=e("./ReactDOMSelect"),d=e("fbjs/lib/warning"),l=!1;t.exports={mountWrapper:function(e,t,o){var r=null;if(null!=o){var d=o;"optgroup"===d._tag&&(d=d._hostParent),null!=d&&"select"===d._tag&&(r=s.getSelectValueContext(d))}var l=null;if(null!=r){var p;if(p=null==t.value?n(t.children):t.value+"",l=!1,Array.isArray(r)){for(var c=0;c<r.length;c++)if(""+r[c]===p){l=!0;break}}else l=""+r===p}e._wrapperState={selected:l}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=i.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var r=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(r.selected=e._wrapperState.selected);var i=n(t.children);return i&&(r.children=i),r}}},{"./ReactDOMComponentTree":231,"./ReactDOMSelect":240,"fbjs/lib/warning":36,"object-assign":190,"react/lib/React":335}],240:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&o(this,!!e.multiple,t)}}function o(e,t,n){var o=d.getNodeFromInstance(e).options,r,s;if(t){for(r={},s=0;s<n.length;s++)r[""+n[s]]=!0;for(s=0;s<o.length;s++){var i=r.hasOwnProperty(o[s].value);o[s].selected!==i&&(o[s].selected=i)}}else{for(r=""+n,s=0;s<o.length;s++)if(o[s].value===r)return void(o[s].selected=!0);o.length&&(o[0].selected=!0)}}function r(e){var t=this._currentElement.props,o=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(n,this),o}var i=e("object-assign"),s=e("./LinkedValueUtils"),d=e("./ReactDOMComponentTree"),l=e("./ReactUpdates"),p=e("fbjs/lib/warning"),c=!1,u=!1,m=["value","defaultValue"];t.exports={getHostProps:function(e,t){return i({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null==n?t.defaultValue:n,listeners:null,onChange:r.bind(e),wasMultiple:!!t.multiple},t.value===void 0||t.defaultValue===void 0||u||(void 0,u=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=!!t.multiple;var r=s.getValue(t);null==r?n!==!!t.multiple&&(null==t.defaultValue?o(e,!!t.multiple,t.multiple?[]:""):o(e,!!t.multiple,t.defaultValue)):(e._wrapperState.pendingUpdate=!1,o(e,!!t.multiple,r))}}},{"./LinkedValueUtils":221,"./ReactDOMComponentTree":231,"./ReactUpdates":275,"fbjs/lib/warning":36,"object-assign":190}],241:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,o){return e===n&&t===o}var o=Math.min,r=e("fbjs/lib/ExecutionEnvironment"),i=e("./getNodeForCharacterOffset"),s=e("./getTextContentAccessor"),d=r.canUseDOM&&"selection"in document&&!("getSelection"in window),l={getOffsets:d?function(e){var t=document.selection,n=t.createRange(),o=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var i=r.text.length;return{start:i,end:i+o}}:function(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var o=t.anchorNode,r=t.anchorOffset,i=t.focusNode,s=t.focusOffset,d=t.getRangeAt(0);try{d.startContainer.nodeType,d.endContainer.nodeType}catch(t){return null}var l=n(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),p=l?0:d.toString().length,c=d.cloneRange();c.selectNodeContents(e),c.setEnd(d.startContainer,d.startOffset);var u=n(c.startContainer,c.startOffset,c.endContainer,c.endOffset),m=u?0:c.toString().length,h=m+p,f=document.createRange();f.setStart(o,r),f.setEnd(i,s);var g=f.collapsed;return{start:g?h:m,end:g?m:h}},setOffsets:d?function(e,t){var n=document.selection.createRange().duplicate(),o,r;void 0===t.end?(o=t.start,r=o):t.start>t.end?(o=t.end,r=t.start):(o=t.start,r=t.end),n.moveToElementText(e),n.moveStart("character",o),n.setEndPoint("EndToStart",n),n.moveEnd("character",r-o),n.select()}:function(e,t){if(window.getSelection){var n=window.getSelection(),r=e[s()].length,d=o(t.start,r),l=void 0===t.end?d:o(t.end,r);if(!n.extend&&d>l){var p=l;l=d,d=p}var c=i(e,d),u=i(e,l);if(c&&u){var m=document.createRange();m.setStart(c.node,c.offset),n.removeAllRanges(),d>l?(n.addRange(m),n.extend(u.node,u.offset)):(m.setEnd(u.node,u.offset),n.addRange(m))}}}};t.exports=l},{"./getNodeForCharacterOffset":310,"./getTextContentAccessor":311,"fbjs/lib/ExecutionEnvironment":15}],242:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./reactProdInvariant"),o=e("object-assign"),r=e("./DOMChildrenOperations"),i=e("./DOMLazyTree"),s=e("./ReactDOMComponentTree"),d=e("./escapeTextContentForBrowser"),l=e("fbjs/lib/invariant"),p=e("./validateDOMNesting"),c=function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null};o(c.prototype,{mountComponent:function(e,t,n){var o=n._idCounter++,r=" react-text: "+o+" ",l=" /react-text ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var p=n._ownerDocument,c=p.createComment(r),u=p.createComment(l),m=i(p.createDocumentFragment());return i.queueChild(m,i(c)),this._stringText&&i.queueChild(m,i(p.createTextNode(this._stringText))),i.queueChild(m,i(u)),s.precacheNode(this,c),this._closingComment=u,m}var h=d(this._stringText);return e.renderToStaticMarkup?h:"<!--"+r+"-->"+h+"<!--"+l+"-->"},receiveComponent:function(e){if(e!==this._currentElement){this._currentElement=e;var t=""+e;if(t!==this._stringText){this._stringText=t;var n=this.getHostNode();r.replaceDelimitedText(n[0],n[1],t)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),o=t.nextSibling;;){if(null==o?n("67",this._domID):void 0,8===o.nodeType&&" /react-text "===o.nodeValue){this._closingComment=o;break}o=o.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=c},{"./DOMChildrenOperations":206,"./DOMLazyTree":207,"./ReactDOMComponentTree":231,"./escapeTextContentForBrowser":300,"./reactProdInvariant":318,"./validateDOMNesting":324,"fbjs/lib/invariant":29,"object-assign":190}],243:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(){this._rootNodeID&&u.updateWrapper(this)}function o(e){var t=this._currentElement.props,o=s.executeOnChange(t,e);return l.asap(n,this),o}var r=e("./reactProdInvariant"),i=e("object-assign"),s=e("./LinkedValueUtils"),d=e("./ReactDOMComponentTree"),l=e("./ReactUpdates"),p=e("fbjs/lib/invariant"),c=e("fbjs/lib/warning"),u={getHostProps:function(e,t){null==t.dangerouslySetInnerHTML?void 0:r("91");var n=i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=s.getValue(t),i=n;if(null==n){var d=t.defaultValue,l=t.children;null!=l&&(!1,null==d?void 0:r("92"),Array.isArray(l)&&(1>=l.length?void 0:r("93"),l=l[0]),d=""+l),null==d&&(d=""),i=d}e._wrapperState={initialValue:""+i,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=d.getNodeFromInstance(e),o=s.getValue(t);if(null!=o){var r=""+o;r!==n.value&&(n.value=r),null==t.defaultValue&&(n.defaultValue=r)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=d.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}};t.exports=u},{"./LinkedValueUtils":221,"./ReactDOMComponentTree":231,"./ReactUpdates":275,"./reactProdInvariant":318,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"object-assign":190}],244:[function(e,t){/**
 * Copyright (c) 2015-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){"_hostNode"in e?void 0:o("33"),"_hostNode"in t?void 0:o("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,s=t;s;s=s._hostParent)i++;for(;0<n-i;)e=e._hostParent,n--;for(;0<i-n;)t=t._hostParent,i--;for(var d=n;d--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}var o=e("./reactProdInvariant"),r=e("fbjs/lib/invariant");t.exports={isAncestor:function(e,t){for(("_hostNode"in e)?void 0:o("35"),("_hostNode"in t)?void 0:o("35");t;){if(t===e)return!0;t=t._hostParent}return!1},getLowestCommonAncestor:n,getParentInstance:function(e){return"_hostNode"in e?void 0:o("36"),e._hostParent},traverseTwoPhase:function(e,t,n){for(var o=[];e;)o.push(e),e=e._hostParent;var r;for(r=o.length;0<r--;)t(o[r],"captured",n);for(r=0;r<o.length;r++)t(o[r],"bubbled",n)},traverseEnterLeave:function(e,t,o,r,s){for(var d=e&&t?n(e,t):null,l=[];e&&e!==d;)l.push(e),e=e._hostParent;for(var p=[];t&&t!==d;)p.push(t),t=t._hostParent;var c;for(c=0;c<l.length;c++)o(l[c],"bubbled",r);for(c=p.length;0<c--;)o(p[c],"captured",s)}}},{"./reactProdInvariant":318,"fbjs/lib/invariant":29}],245:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){null==t||"string"!=typeof t.type||0<=t.type.indexOf("-")||t.props.is||d(e,t)}var o=e("./DOMProperty"),r=e("./EventPluginRegistry"),i=e("react/lib/ReactComponentTreeHook"),s=e("fbjs/lib/warning");var d=function(e,t){var n=[];for(var o in t.props){var r=l(t.type,o,e);r||n.push(o)}var i=n.map(function(e){return"`"+e+"`"}).join(", ");1===n.length?void 0:1<n.length&&void 0},l;t.exports={onBeforeMountComponent:function(e,t){n(e,t)},onBeforeUpdateComponent:function(e,t){n(e,t)}}},{"./DOMProperty":209,"./EventPluginRegistry":215,"fbjs/lib/warning":36,"react/lib/ReactComponentTreeHook":338}],246:[function(e,t){/**
 * Copyright (c) 2016-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";function n(e,t,n,o,r,i,s,d){try{t.call(n,o,r,i,s,d)}catch(t){void 0,T[e]=!0}}function o(e,t,o,r,s,d){for(var l=0;l<C.length;l++){var i=C[l],p=i[e];p&&n(e,p,i,t,o,r,s,d)}}function r(){b.purgeUnmountedComponents(),y.clearHistory()}function i(e){return e.reduce(function(e,t){var n=b.getOwnerID(t),o=b.getParentID(t);return e[t]={displayName:b.getDisplayName(t),text:b.getText(t),updateCount:b.getUpdateCount(t),childIDs:b.getChildIDs(t),ownerID:n||o&&b.getOwnerID(o)||0,parentID:o},e},{})}function s(){var e=w,t=N,n=y.getHistory();if(0==x)return w=0,N=[],void r();if(t.length||n.length){var o=b.getRegisteredIDs();S.push({duration:v()-e,measurements:t||[],operations:n||[],treeSnapshot:i(o)})}r(),w=v(),N=[]}function d(e){var t=1<arguments.length&&arguments[1]!==void 0&&arguments[1];t&&0===e||!e&&void 0}function l(e,t){0==x||(D&&!O&&(void 0,O=!0),P=v(),A=0,R=e,D=t)}function p(e,t){0==x||(D!==t&&!O&&(void 0,O=!0),I&&N.push({timerType:t,instanceID:e,duration:v()-P-A}),P=0,A=0,R=null,D=null)}function c(){var e={startTime:P,nestedFlushStartTime:v(),debugID:R,timerType:D};k.push(e),P=0,A=0,R=null,D=null}function u(){var e=k.pop(),t=e.startTime,n=e.nestedFlushStartTime,o=e.debugID,r=e.timerType,i=v()-n;P=t,A+=i,R=o,D=r}function m(e){if(!I||!L)return!1;var t=b.getElement(e);if(null==t||"object"!=typeof t)return!1;var n="string"==typeof t.type;return!n}function h(e,t){if(m(e)){M=v(),performance.mark(e+"::"+t)}}function f(e,t){if(m(e)){var n=e+"::"+t,o=b.getDisplayName(e)||"Unknown",r=v();if(0.1<r-M){var i=o+" ["+t+"]";performance.measure(i,n)}performance.clearMarks(n),i&&performance.clearMeasures(i)}}var g=e("./ReactInvalidSetStateWarningHook"),y=e("./ReactHostOperationHistoryHook"),b=e("react/lib/ReactComponentTreeHook"),_=e("fbjs/lib/ExecutionEnvironment"),v=e("fbjs/lib/performanceNow"),E=e("fbjs/lib/warning"),C=[],T={},I=!1,S=[],k=[],x=0,N=[],w=0,R=null,P=0,A=0,D=null,O=!1,M=0,L="undefined"!=typeof performance&&"function"==typeof performance.mark&&"function"==typeof performance.clearMarks&&"function"==typeof performance.measure&&"function"==typeof performance.clearMeasures,F={addHook:function(e){C.push(e)},removeHook:function(e){for(var t=0;t<C.length;t++)C[t]===e&&(C.splice(t,1),t--)},isProfiling:function(){return I},beginProfiling:function(){I||(I=!0,S.length=0,s(),F.addHook(y))},endProfiling:function(){I&&(I=!1,s(),F.removeHook(y))},getFlushHistory:function(){return S},onBeginFlush:function(){x++,s(),c(),o("onBeginFlush")},onEndFlush:function(){s(),x--,u(),o("onEndFlush")},onBeginLifeCycleTimer:function(e,t){d(e),o("onBeginLifeCycleTimer",e,t),h(e,t),l(e,t)},onEndLifeCycleTimer:function(e,t){d(e),p(e,t),f(e,t),o("onEndLifeCycleTimer",e,t)},onBeginProcessingChildContext:function(){o("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){o("onEndProcessingChildContext")},onHostOperation:function(e){d(e.instanceID),o("onHostOperation",e)},onSetState:function(){o("onSetState")},onSetChildren:function(e,t){d(e),t.forEach(d),o("onSetChildren",e,t)},onBeforeMountComponent:function(e,t,n){d(e),d(n,!0),o("onBeforeMountComponent",e,t,n),h(e,"mount")},onMountComponent:function(e){d(e),f(e,"mount"),o("onMountComponent",e)},onBeforeUpdateComponent:function(e,t){d(e),o("onBeforeUpdateComponent",e,t),h(e,"update")},onUpdateComponent:function(e){d(e),f(e,"update"),o("onUpdateComponent",e)},onBeforeUnmountComponent:function(e){d(e),o("onBeforeUnmountComponent",e),h(e,"unmount")},onUnmountComponent:function(e){d(e),f(e,"unmount"),o("onUnmountComponent",e)},onTestEvent:function(){o("onTestEvent")}};F.addDevtool=F.addHook,F.removeDevtool=F.removeHook,F.addHook(g),F.addHook(b);var U=_.canUseDOM&&window.location.href||"";/[?&]react_perf\b/.test(U)&&F.beginProfiling(),t.exports=F},{"./ReactHostOperationHistoryHook":256,"./ReactInvalidSetStateWarningHook":261,"fbjs/lib/ExecutionEnvironment":15,"fbjs/lib/performanceNow":34,"fbjs/lib/warning":36,"react/lib/ReactComponentTreeHook":338}],247:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(){this.reinitializeTransaction()}var o=e("object-assign"),r=e("./ReactUpdates"),i=e("./Transaction"),s=e("fbjs/lib/emptyFunction"),d={initialize:s,close:r.flushBatchedUpdates.bind(r)},l=[d,{initialize:s,close:function(){u.isBatchingUpdates=!1}}];o(n.prototype,i,{getTransactionWrappers:function(){return l}});var p=new n,u={isBatchingUpdates:!1,batchedUpdates:function(t,n,o,r,i,s){var e=u.isBatchingUpdates;return u.isBatchingUpdates=!0,e?t(n,o,r,i,s):p.perform(t,null,n,o,r,i,s)}};t.exports=u},{"./ReactUpdates":275,"./Transaction":293,"fbjs/lib/emptyFunction":21,"object-assign":190}],248:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./ARIADOMPropertyConfig"),o=e("./BeforeInputEventPlugin"),r=e("./ChangeEventPlugin"),i=e("./DefaultEventPluginOrder"),s=e("./EnterLeaveEventPlugin"),d=e("./HTMLDOMPropertyConfig"),l=e("./ReactComponentBrowserEnvironment"),p=e("./ReactDOMComponent"),c=e("./ReactDOMComponentTree"),u=e("./ReactDOMEmptyComponent"),m=e("./ReactDOMTreeTraversal"),h=e("./ReactDOMTextComponent"),f=e("./ReactDefaultBatchingStrategy"),g=e("./ReactEventListener"),y=e("./ReactInjection"),b=e("./ReactReconcileTransaction"),_=e("./SVGDOMPropertyConfig"),v=e("./SelectEventPlugin"),E=e("./SimpleEventPlugin"),C=!1;t.exports={inject:function(){C||(C=!0,y.EventEmitter.injectReactEventListener(g),y.EventPluginHub.injectEventPluginOrder(i),y.EventPluginUtils.injectComponentTree(c),y.EventPluginUtils.injectTreeTraversal(m),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:s,ChangeEventPlugin:r,SelectEventPlugin:v,BeforeInputEventPlugin:o}),y.HostComponent.injectGenericComponentClass(p),y.HostComponent.injectTextComponentClass(h),y.DOMProperty.injectDOMPropertyConfig(n),y.DOMProperty.injectDOMPropertyConfig(d),y.DOMProperty.injectDOMPropertyConfig(_),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new u(e)}),y.Updates.injectReconcileTransaction(b),y.Updates.injectBatchingStrategy(f),y.Component.injectEnvironment(l))}}},{"./ARIADOMPropertyConfig":199,"./BeforeInputEventPlugin":201,"./ChangeEventPlugin":205,"./DefaultEventPluginOrder":212,"./EnterLeaveEventPlugin":213,"./HTMLDOMPropertyConfig":219,"./ReactComponentBrowserEnvironment":225,"./ReactDOMComponent":229,"./ReactDOMComponentTree":231,"./ReactDOMEmptyComponent":233,"./ReactDOMTextComponent":242,"./ReactDOMTreeTraversal":244,"./ReactDefaultBatchingStrategy":247,"./ReactEventListener":253,"./ReactInjection":257,"./ReactReconcileTransaction":269,"./SVGDOMPropertyConfig":277,"./SelectEventPlugin":278,"./SimpleEventPlugin":279}],249:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var n="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103;t.exports=n},{}],250:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n={create:function(e){return o(e)}},o;n.injection={injectEmptyComponentFactory:function(e){o=e}},t.exports=n},{}],251:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";function n(e,t,n){try{t(n)}catch(e){null==o&&(o=e)}}var o=null;t.exports={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}}},{}],252:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e("./EventPluginHub");t.exports={handleTopLevel:function(e,t,r,i){var s=o.extractEvents(e,t,r,i);n(s)}}},{"./EventPluginHub":214}],253:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){for(;e._hostParent;)e=e._hostParent;var t=c.getNodeFromInstance(e),n=t.parentNode;return c.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function r(e){var t=m(e.nativeEvent),o=c.getClosestInstanceFromNode(t),r=o;do e.ancestors.push(r),r=r&&n(r);while(r);for(var s=0;s<e.ancestors.length;s++)o=e.ancestors[s],f._handleTopLevel(e.topLevelType,o,e.nativeEvent,m(e.nativeEvent))}function i(e){var t=h(window);e(t)}var s=e("object-assign"),d=e("fbjs/lib/EventListener"),l=e("fbjs/lib/ExecutionEnvironment"),p=e("./PooledClass"),c=e("./ReactDOMComponentTree"),u=e("./ReactUpdates"),m=e("./getEventTarget"),h=e("fbjs/lib/getUnboundedScrollPosition");s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),p.addPoolingTo(o,p.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,t,n){return n?d.listen(n,t,f.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?d.capture(n,t,f.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=i.bind(null,e);d.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(f._enabled){var n=o.getPooled(e,t);try{u.batchedUpdates(r,n)}finally{o.release(n)}}}};t.exports=f},{"./PooledClass":222,"./ReactDOMComponentTree":231,"./ReactUpdates":275,"./getEventTarget":307,"fbjs/lib/EventListener":14,"fbjs/lib/ExecutionEnvironment":15,"fbjs/lib/getUnboundedScrollPosition":26,"object-assign":190}],254:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";t.exports={logTopLevelRenders:!1}},{}],255:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./reactProdInvariant"),o=e("fbjs/lib/invariant"),r=null,i=null;t.exports={createInternalComponent:function(e){return r?void 0:n("111",e.type),new r(e)},createInstanceForText:function(e){return new i(e)},isTextComponent:function(e){return e instanceof i},injection:{injectGenericComponentClass:function(e){r=e},injectTextComponentClass:function(e){i=e}}}},{"./reactProdInvariant":318,"fbjs/lib/invariant":29}],256:[function(e,t){/**
 * Copyright (c) 2016-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var n=[],o={onHostOperation:function(e){n.push(e)},clearHistory:function(){o._preventClearing||(n=[])},getHistory:function(){return n}};t.exports=o},{}],257:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./DOMProperty"),o=e("./EventPluginHub"),r=e("./EventPluginUtils"),i=e("./ReactComponentEnvironment"),s=e("./ReactEmptyComponent"),d=e("./ReactBrowserEventEmitter"),l=e("./ReactHostComponent"),p=e("./ReactUpdates"),c={Component:i.injection,DOMProperty:n.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:r.injection,EventEmitter:d.injection,HostComponent:l.injection,Updates:p.injection};t.exports=c},{"./DOMProperty":209,"./EventPluginHub":214,"./EventPluginUtils":216,"./ReactBrowserEventEmitter":223,"./ReactComponentEnvironment":226,"./ReactEmptyComponent":250,"./ReactHostComponent":255,"./ReactUpdates":275}],258:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){return r(document.documentElement,e)}var o=e("./ReactDOMSelection"),r=e("fbjs/lib/containsNode"),i=e("fbjs/lib/focusNode"),s=e("fbjs/lib/getActiveElement"),d={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:d.hasSelectionCapabilities(e)?d.getSelection(e):null}},restoreSelection:function(e){var t=s(),o=e.focusedElem,r=e.selectionRange;t!==o&&n(o)&&(d.hasSelectionCapabilities(o)&&d.setSelection(o,r),i(o))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};t.exports=d},{"./ReactDOMSelection":241,"fbjs/lib/containsNode":18,"fbjs/lib/focusNode":23,"fbjs/lib/getActiveElement":24}],259:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return e._reactInternalInstance!==void 0},set:function(e,t){e._reactInternalInstance=t}}},{}],260:[function(e,t){/**
 * Copyright (c) 2016-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";t.exports={debugTool:null}},{"./ReactDebugTool":246}],261:[function(e,t){/**
 * Copyright (c) 2016-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";e("fbjs/lib/warning");var n;t.exports={onBeginProcessingChildContext:function(){},onEndProcessingChildContext:function(){},onSetState:function(){n()}}},{"fbjs/lib/warning":36}],262:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./adler32"),o=/\/?>/,r=/^<\!\-\-/,i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return r.test(e)?e:e.replace(o," "+i.CHECKSUM_ATTR_NAME+"=\""+t+"\"$&")},canReuseMarkup:function(e,t){var o=t.getAttribute(i.CHECKSUM_ATTR_NAME);o=o&&parseInt(o,10);var r=n(e);return r===o}};t.exports=i},{"./adler32":296}],263:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){for(var n=Math.min(e.length,t.length),o=0;o<n;o++)if(e.charAt(o)!==t.charAt(o))return o;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===U?e.documentElement:e.firstChild:null}function r(e){return e.getAttribute&&e.getAttribute(M)||""}function i(e,t,n,o,r){var i;if(C.logTopLevelRenders){var s=e._currentElement.props.child,d=s.type;i="React mount: "+("string"==typeof d?d:d.displayName||d.name),console.time(i)}var l=k.mountComponent(e,n,null,v(e,t),r,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,W._mountImageIntoNode(l,t,e,o,n)}function s(e,t,n,o){var r=N.ReactReconcileTransaction.getPooled(!n&&E.useCreateElement);r.perform(i,null,e,t,r,n,o),N.ReactReconcileTransaction.release(r)}function d(e,t,n){for(!1,k.unmountComponent(e,n),!1,t.nodeType===U&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=_.getInstanceFromNode(t);return!!(n&&n._hostParent)}}function p(e){return!!(e&&(e.nodeType===F||e.nodeType===U||e.nodeType===j))}function c(e){var t=o(e),n=t&&_.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function u(e){var t=c(e);return t?t._hostContainerInfo._topLevelWrapper:null}var m=e("./reactProdInvariant"),h=e("./DOMLazyTree"),f=e("./DOMProperty"),g=e("react/lib/React"),y=e("./ReactBrowserEventEmitter"),b=e("react/lib/ReactCurrentOwner"),_=e("./ReactDOMComponentTree"),v=e("./ReactDOMContainerInfo"),E=e("./ReactDOMFeatureFlags"),C=e("./ReactFeatureFlags"),T=e("./ReactInstanceMap"),I=e("./ReactInstrumentation"),S=e("./ReactMarkupChecksum"),k=e("./ReactReconciler"),x=e("./ReactUpdateQueue"),N=e("./ReactUpdates"),w=e("fbjs/lib/emptyObject"),R=e("./instantiateReactComponent"),P=e("fbjs/lib/invariant"),A=e("./setInnerHTML"),D=e("./shouldUpdateReactComponent"),O=e("fbjs/lib/warning"),M=f.ID_ATTRIBUTE_NAME,L=f.ROOT_ATTRIBUTE_NAME,F=1,U=9,j=11,B={},V=1,q=function(){this.rootID=V++};q.prototype.isReactComponent={},!1,q.prototype.render=function(){return this.props.child},q.isReactTopLevelWrapper=!0;var W={TopLevelWrapper:q,_instancesByReactRootID:B,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,o,r){return W.scrollMonitor(o,function(){x.enqueueElementInternal(e,t,n),r&&x.enqueueCallbackInternal(e,r)}),e},_renderNewRootComponent:function(e,t,n,o){void 0,p(t)?void 0:m("37"),y.ensureScrollValueMonitoring();var r=R(e,!1);N.batchedUpdates(s,r,t,n,o);var i=r._instance.rootID;return B[i]=r,r},renderSubtreeIntoContainer:function(e,t,n,o){return null!=e&&T.has(e)?void 0:m("38"),W._renderSubtreeIntoContainer(e,t,n,o)},_renderSubtreeIntoContainer:function(e,t,n,i){x.validateCallback(i,"ReactDOM.render"),g.isValidElement(t)?void 0:m("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":""),void 0;var s=g.createElement(q,{child:t}),d;if(e){var p=T.get(e);d=p._processChildContext(p._context)}else d=w;var c=u(n);if(c){var h=c._currentElement,f=h.props.child;if(D(f,t)){var y=c._renderedComponent.getPublicInstance(),b=i&&function(){i.call(y)};return W._updateRootComponent(c,s,d,n,b),y}W.unmountComponentAtNode(n)}var _=o(n),v=_&&!!r(_),E=l(n),C=W._renderNewRootComponent(s,n,v&&!c&&!E,d)._renderedComponent.getPublicInstance();return i&&i.call(C),C},render:function(e,t,n){return W._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){void 0,p(e)?void 0:m("40"),!1;var t=u(e);if(!t){var n=l(e),o=1===e.nodeType&&e.hasAttribute(L);return!1,!1}return delete B[t._instance.rootID],N.batchedUpdates(d,t,e,!1),!0},_mountImageIntoNode:function(e,t,r,i,s){if(p(t)?void 0:m("41"),i){var d=o(t);if(S.canReuseMarkup(e,d))return void _.precacheNode(r,d);var l=d.getAttribute(S.CHECKSUM_ATTR_NAME);d.removeAttribute(S.CHECKSUM_ATTR_NAME);var c=d.outerHTML;d.setAttribute(S.CHECKSUM_ATTR_NAME,l);var u=e,f=n(u,c),g=" (client) "+u.substring(f-20,f+20)+"\n (server) "+c.substring(f-20,f+20);t.nodeType===U?m("42",g):void 0,!1}if(t.nodeType===U?m("43"):void 0,s.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else A(t,e),_.precacheNode(r,t.firstChild)}};t.exports=W},{"./DOMLazyTree":207,"./DOMProperty":209,"./ReactBrowserEventEmitter":223,"./ReactDOMComponentTree":231,"./ReactDOMContainerInfo":232,"./ReactDOMFeatureFlags":234,"./ReactFeatureFlags":254,"./ReactInstanceMap":259,"./ReactInstrumentation":260,"./ReactMarkupChecksum":262,"./ReactReconciler":270,"./ReactUpdateQueue":274,"./ReactUpdates":275,"./instantiateReactComponent":314,"./reactProdInvariant":318,"./setInnerHTML":320,"./shouldUpdateReactComponent":322,"fbjs/lib/emptyObject":22,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"react/lib/React":335,"react/lib/ReactCurrentOwner":339}],264:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:g.getHostNode(e),toIndex:n,afterNode:t}}function r(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function i(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function d(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){u.processChildrenUpdates(e,t)}var p=Math.max,c=e("./reactProdInvariant"),u=e("./ReactComponentEnvironment"),m=e("./ReactInstanceMap"),h=e("./ReactInstrumentation"),f=e("react/lib/ReactCurrentOwner"),g=e("./ReactReconciler"),y=e("./ReactChildReconciler"),b=e("fbjs/lib/emptyFunction"),_=e("./flattenChildren"),v=e("fbjs/lib/invariant");t.exports={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return y.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,o,r,i){var s=0,d;return d=_(t,s),y.updateChildren(e,d,n,o,r,this,this._hostContainerInfo,i,s),d},mountChildren:function(e,t,n){var o=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=o;var r=[],i=0;for(var s in o)if(o.hasOwnProperty(s)){var d=o[s];var l=g.mountComponent(d,t,this,this._hostContainerInfo,n,0);d._mountIndex=i++,r.push(l)}return!1,r},updateTextContent:function(e){var t=this._renderedChildren;for(var n in y.unmountChildren(t,!1),t)t.hasOwnProperty(n)&&c("118");var o=[s(e)];l(this,o)},updateMarkup:function(e){var t=this._renderedChildren;for(var n in y.unmountChildren(t,!1),t)t.hasOwnProperty(n)&&c("118");var o=[i(e)];l(this,o)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var o=this._renderedChildren,r={},i=[],s=this._reconcilerUpdateChildren(o,e,i,r,t,n);if(s||o){var c=null,u=0,m=0,h=0,f=null,y;for(y in s)if(s.hasOwnProperty(y)){var b=o&&o[y],_=s[y];b===_?(c=d(c,this.moveChild(b,f,u,m)),m=p(b._mountIndex,m),b._mountIndex=u):(b&&(m=p(b._mountIndex,m)),c=d(c,this._mountChildAtIndex(_,i[h],f,u,t,n)),h++),u++,f=g.getHostNode(_)}for(y in r)r.hasOwnProperty(y)&&(c=d(c,this._unmountChild(o[y],r[y])));c&&l(this,c),this._renderedChildren=s,!1}},unmountChildren:function(e){var t=this._renderedChildren;y.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return o(e,t,n)},createChild:function(e,t,o){return n(o,t,e._mountIndex)},removeChild:function(e,t){return r(e,t)},_mountChildAtIndex:function(e,t,n,o){return e._mountIndex=o,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}}},{"./ReactChildReconciler":224,"./ReactComponentEnvironment":226,"./ReactInstanceMap":259,"./ReactInstrumentation":260,"./ReactReconciler":270,"./flattenChildren":302,"./reactProdInvariant":318,"fbjs/lib/emptyFunction":21,"fbjs/lib/invariant":29,"react/lib/ReactCurrentOwner":339}],265:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var n=e("./reactProdInvariant"),o=e("react/lib/React"),r=e("fbjs/lib/invariant"),i={HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){if(null===e||!1===e)return i.EMPTY;return o.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void n("26",e)}};t.exports=i},{"./reactProdInvariant":318,"fbjs/lib/invariant":29,"react/lib/React":335}],266:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";function n(e){return!!(e&&"function"==typeof e.attachRef&&"function"==typeof e.detachRef)}var o=e("./reactProdInvariant"),r=e("fbjs/lib/invariant");t.exports={addComponentAsRefTo:function(e,t,r){n(r)?void 0:o("119"),r.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,r){n(r)?void 0:o("120");var i=r.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&r.detachRef(t)}}},{"./reactProdInvariant":318,"fbjs/lib/invariant":29}],267:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";!1,t.exports={}},{}],268:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],269:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.useCreateElement=e}var o=e("object-assign"),r=e("./CallbackQueue"),i=e("./PooledClass"),s=e("./ReactBrowserEventEmitter"),d=e("./ReactInputSelection"),l=e("./ReactInstrumentation"),p=e("./Transaction"),c=e("./ReactUpdateQueue"),u={initialize:d.getSelectionInformation,close:d.restoreSelection},m=[u,{initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];o(n.prototype,p,{getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}}),i.addPoolingTo(n),t.exports=n},{"./CallbackQueue":204,"./PooledClass":222,"./ReactBrowserEventEmitter":223,"./ReactInputSelection":258,"./ReactInstrumentation":260,"./ReactUpdateQueue":274,"./Transaction":293,"object-assign":190}],270:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(){o.attachRefs(this,this._currentElement)}var o=e("./ReactRef"),r=e("./ReactInstrumentation"),i=e("fbjs/lib/warning");t.exports={mountComponent:function(e,t,o,r,i,s){var d=e.mountComponent(t,o,r,i,s);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(n,e),!1,d},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){!1,o.detachRefs(e,e._currentElement),e.unmountComponent(t),!1},receiveComponent:function(e,t,r,i){var s=e._currentElement;if(t!==s||i!==e._context){var d=o.shouldUpdateRefs(s,t);d&&o.detachRefs(e,s),e.receiveComponent(t,r,i),d&&e._currentElement&&null!=e._currentElement.ref&&r.getReactMountReady().enqueue(n,e),!1}},performUpdateIfNecessary:function(e,t,n){return e._updateBatchNumber===n?void(!1,e.performUpdateIfNecessary(t),!1):void void 0}}},{"./ReactInstrumentation":260,"./ReactRef":271,"fbjs/lib/warning":36}],271:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";function n(e,t,n){"function"==typeof e?e(t.getPublicInstance()):r.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):r.removeComponentAsRefFrom(t,e,n)}var r=e("./ReactOwner"),i={};i.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var o=t.ref;null!=o&&n(o,e,t._owner)}},i.shouldUpdateRefs=function(e,t){var n=null,o=null;null!==e&&"object"==typeof e&&(n=e.ref,o=e._owner);var r=null,i=null;return null!==t&&"object"==typeof t&&(r=t.ref,i=t._owner),n!==r||"string"==typeof r&&i!==o},i.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=i},{"./ReactOwner":266}],272:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new d(this)}var o=e("object-assign"),r=e("./PooledClass"),i=e("./Transaction"),s=e("./ReactInstrumentation"),d=e("./ReactServerUpdateQueue"),l=[];var p={enqueue:function(){}};o(n.prototype,i,{getTransactionWrappers:function(){return l},getReactMountReady:function(){return p},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}}),r.addPoolingTo(n),t.exports=n},{"./PooledClass":222,"./ReactInstrumentation":260,"./ReactServerUpdateQueue":273,"./Transaction":293,"object-assign":190}],273:[function(e,t){/**
 * Copyright (c) 2015-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){}var r=e("./ReactUpdateQueue"),i=e("fbjs/lib/warning"),s=function(){function e(t){n(this,e),this.transaction=t}return e.prototype.isMounted=function(){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&r.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?r.enqueueForceUpdate(e):o(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?r.enqueueReplaceState(e,t):o(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?r.enqueueSetState(e,t):o(e,"setState")},e}();t.exports=s},{"./ReactUpdateQueue":274,"fbjs/lib/warning":36}],274:[function(e,t){/**
 * Copyright (c) 2015-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){p.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!=t)return t;var n=e.constructor&&e.constructor.name||t,o=Object.keys(e);return 0<o.length&&20>o.length?n+" (keys: "+o.join(", ")+")":n}function r(e){var t=d.get(e);if(!t){return null}return!1,t}var i=e("./reactProdInvariant"),s=e("react/lib/ReactCurrentOwner"),d=e("./ReactInstanceMap"),l=e("./ReactInstrumentation"),p=e("./ReactUpdates"),c=e("fbjs/lib/invariant"),u=e("fbjs/lib/warning"),m={isMounted:function(e){var t=d.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,o){m.validateCallback(t,o);var i=r(e);return i?void(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],n(i)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],n(e)},enqueueForceUpdate:function(e){var t=r(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,n(t))},enqueueReplaceState:function(e,t,o){var i=r(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,o!==void 0&&null!==o&&(m.validateCallback(o,"replaceState"),i._pendingCallbacks?i._pendingCallbacks.push(o):i._pendingCallbacks=[o]),n(i))},enqueueSetState:function(e,t){var o=r(e,"setState");if(o){var i=o._pendingStateQueue||(o._pendingStateQueue=[]);i.push(t),n(o)}},enqueueElementInternal:function(e,t,o){e._pendingElement=t,e._context=o,n(e)},validateCallback:function(e,t){!e||"function"==typeof e?void 0:i("122",t,o(e))}};t.exports=m},{"./ReactInstanceMap":259,"./ReactInstrumentation":260,"./ReactUpdates":275,"./reactProdInvariant":318,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"react/lib/ReactCurrentOwner":339}],275:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(){T.ReactReconcileTransaction&&v?void 0:d("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled(!0)}function r(e,t){return e._mountOrder-t._mountOrder}function i(e){var t=e.dirtyComponentsLength;t===g.length?void 0:d("124",t,g.length),g.sort(r),y++;for(var n=0;n<t;n++){var o=g[n],i=o._pendingCallbacks;o._pendingCallbacks=null;var s;if(u.logTopLevelRenders){var l=o;o._currentElement.type.isReactTopLevelWrapper&&(l=o._renderedComponent),s="React update: "+l.getName(),console.time(s)}if(m.performUpdateIfNecessary(o,e.reconcileTransaction,y),s&&console.timeEnd(s),i)for(var p=0;p<i.length;p++)e.callbackQueue.enqueue(i[p],o.getPublicInstance())}}function s(e){return n(),v.isBatchingUpdates?void(g.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=y+1)):void v.batchedUpdates(s,e)}var d=e("./reactProdInvariant"),l=e("object-assign"),p=e("./CallbackQueue"),c=e("./PooledClass"),u=e("./ReactFeatureFlags"),m=e("./ReactReconciler"),h=e("./Transaction"),f=e("fbjs/lib/invariant"),g=[],y=0,b=p.getPooled(),_=!1,v=null,E=[{initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength===g.length?g.length=0:(g.splice(0,this.dirtyComponentsLength),C())}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];l(o.prototype,h,{getTransactionWrappers:function(){return E},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return h.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),c.addPoolingTo(o);var C=function(){for(;g.length||_;){if(g.length){var e=o.getPooled();e.perform(i,null,e),o.release(e)}if(_){_=!1;var t=b;b=p.getPooled(),t.notifyAll(),p.release(t)}}},T={ReactReconcileTransaction:null,batchedUpdates:function(t,o,r,i,s,d){return n(),v.batchedUpdates(t,o,r,i,s,d)},enqueueUpdate:s,flushBatchedUpdates:C,injection:{injectReconcileTransaction:function(e){e?void 0:d("126"),T.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:d("127"),"function"==typeof e.batchedUpdates?void 0:d("128"),"boolean"==typeof e.isBatchingUpdates?void 0:d("129"),v=e}},asap:function(e,t){f(v.isBatchingUpdates,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),b.enqueue(e,t),_=!0}};t.exports=T},{"./CallbackQueue":204,"./PooledClass":222,"./ReactFeatureFlags":254,"./ReactReconciler":270,"./Transaction":293,"./reactProdInvariant":318,"fbjs/lib/invariant":29,"object-assign":190}],276:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports="15.6.2"},{}],277:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},r={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){r.Properties[e]=0,o[e]&&(r.DOMAttributeNames[e]=o[e])}),t.exports=r},{}],278:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){if("selectionStart"in e&&d.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(b||null==f||f!==p())return null;var o=n(f);if(!y||!u(y,o)){y=o;var i=l.getPooled(h.select,g,e,t);return i.type="select",i.target=f,r.accumulateTwoPhaseDispatches(i),i}return null}var r=e("./EventPropagators"),i=e("fbjs/lib/ExecutionEnvironment"),s=e("./ReactDOMComponentTree"),d=e("./ReactInputSelection"),l=e("./SyntheticEvent"),p=e("fbjs/lib/getActiveElement"),c=e("./isTextInputElement"),u=e("fbjs/lib/shallowEqual"),m=i.canUseDOM&&"documentMode"in document&&11>=document.documentMode,h={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},f=null,g=null,y=null,b=!1,_=!1;t.exports={eventTypes:h,extractEvents:function(e,t,n,r){if(!_)return null;var i=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(c(i)||"true"===i.contentEditable)&&(f=i,g=t,y=null);break;case"topBlur":f=null,g=null,y=null;break;case"topMouseDown":b=!0;break;case"topContextMenu":case"topMouseUp":return b=!1,o(n,r);case"topSelectionChange":if(m)break;case"topKeyDown":case"topKeyUp":return o(n,r);}return null},didPutListener:function(e,t){"onSelect"===t&&(_=!0)}}},{"./EventPropagators":217,"./ReactDOMComponentTree":231,"./ReactInputSelection":258,"./SyntheticEvent":284,"./isTextInputElement":316,"fbjs/lib/ExecutionEnvironment":15,"fbjs/lib/getActiveElement":24,"fbjs/lib/shallowEqual":35}],279:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";function n(e){return"."+e._rootNodeID}function o(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var r=e("./reactProdInvariant"),i=e("fbjs/lib/EventListener"),s=e("./EventPropagators"),d=e("./ReactDOMComponentTree"),l=e("./SyntheticAnimationEvent"),p=e("./SyntheticClipboardEvent"),c=e("./SyntheticEvent"),u=e("./SyntheticFocusEvent"),m=e("./SyntheticKeyboardEvent"),h=e("./SyntheticMouseEvent"),f=e("./SyntheticDragEvent"),g=e("./SyntheticTouchEvent"),y=e("./SyntheticTransitionEvent"),b=e("./SyntheticUIEvent"),_=e("./SyntheticWheelEvent"),v=e("fbjs/lib/emptyFunction"),E=e("./getEventCharCode"),C=e("fbjs/lib/invariant"),T={},I={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,o="top"+t,r={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[o]};T[e]=r,I[o]=r});var S={};t.exports={eventTypes:T,extractEvents:function(e,t,n,o){var i=I[e];if(!i)return null;var d;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":d=c;break;case"topKeyPress":if(0===E(n))return null;case"topKeyDown":case"topKeyUp":d=m;break;case"topBlur":case"topFocus":d=u;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":d=h;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":d=f;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":d=g;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":d=l;break;case"topTransitionEnd":d=y;break;case"topScroll":d=b;break;case"topWheel":d=_;break;case"topCopy":case"topCut":case"topPaste":d=p;}d?void 0:r("86",e);var v=d.getPooled(i,t,n,o);return s.accumulateTwoPhaseDispatches(v),v},didPutListener:function(e,t){if("onClick"===t&&!o(e._tag)){var r=n(e),s=d.getNodeFromInstance(e);S[r]||(S[r]=i.listen(s,"click",v))}},willDeleteListener:function(e,t){if("onClick"===t&&!o(e._tag)){var r=n(e);S[r].remove(),delete S[r]}}}},{"./EventPropagators":217,"./ReactDOMComponentTree":231,"./SyntheticAnimationEvent":280,"./SyntheticClipboardEvent":281,"./SyntheticDragEvent":283,"./SyntheticEvent":284,"./SyntheticFocusEvent":285,"./SyntheticKeyboardEvent":287,"./SyntheticMouseEvent":288,"./SyntheticTouchEvent":289,"./SyntheticTransitionEvent":290,"./SyntheticUIEvent":291,"./SyntheticWheelEvent":292,"./getEventCharCode":304,"./reactProdInvariant":318,"fbjs/lib/EventListener":14,"fbjs/lib/emptyFunction":21,"fbjs/lib/invariant":29}],280:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticEvent");o.augmentClass(n,{animationName:null,elapsedTime:null,pseudoElement:null}),t.exports=n},{"./SyntheticEvent":284}],281:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticEvent");o.augmentClass(n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t.exports=n},{"./SyntheticEvent":284}],282:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticEvent");o.augmentClass(n,{data:null}),t.exports=n},{"./SyntheticEvent":284}],283:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticMouseEvent");o.augmentClass(n,{dataTransfer:null}),t.exports=n},{"./SyntheticMouseEvent":288}],284:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,o){!1,this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var s in r)if(r.hasOwnProperty(s)){var d=r[s];d?this[s]=d(n):"target"==s?this.target=o:this[s]=n[s]}var l=null==n.defaultPrevented?!1===n.returnValue:n.defaultPrevented;return this.isDefaultPrevented=l?i.thatReturnsTrue:i.thatReturnsFalse,this.isPropagationStopped=i.thatReturnsFalse,this}var o=e("object-assign"),r=e("./PooledClass"),i=e("fbjs/lib/emptyFunction"),s=e("fbjs/lib/warning"),d="function"==typeof Proxy,l=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"],p={type:null,target:null,currentTarget:i.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=i.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=i.thatReturnsTrue)},persist:function(){this.isPersistent=i.thatReturnsTrue},isPersistent:i.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<l.length;n++)this[l[n]]=null}}),n.Interface=p,n.augmentClass=function(e,t){var n=this,i=function(){};i.prototype=n.prototype;var s=new i;o(s,e.prototype),e.prototype=s,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,r.addPoolingTo(e,r.fourArgumentPooler)},!1,r.addPoolingTo(n,r.fourArgumentPooler),t.exports=n},{"./PooledClass":222,"fbjs/lib/emptyFunction":21,"fbjs/lib/warning":36,"object-assign":190}],285:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticUIEvent");o.augmentClass(n,{relatedTarget:null}),t.exports=n},{"./SyntheticUIEvent":291}],286:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticEvent");o.augmentClass(n,{data:null}),t.exports=n},{"./SyntheticEvent":284}],287:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticUIEvent"),r=e("./getEventCharCode"),i=e("./getEventKey"),s=e("./getEventModifierState");o.augmentClass(n,{key:i,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?r(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?r(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),t.exports=n},{"./SyntheticUIEvent":291,"./getEventCharCode":304,"./getEventKey":305,"./getEventModifierState":306}],288:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticUIEvent"),r=e("./ViewportMetrics"),i=e("./getEventModifierState");o.augmentClass(n,{screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:i,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+r.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+r.currentScrollTop}}),t.exports=n},{"./SyntheticUIEvent":291,"./ViewportMetrics":294,"./getEventModifierState":306}],289:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticUIEvent"),r=e("./getEventModifierState");o.augmentClass(n,{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:r}),t.exports=n},{"./SyntheticUIEvent":291,"./getEventModifierState":306}],290:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticEvent");o.augmentClass(n,{propertyName:null,elapsedTime:null,pseudoElement:null}),t.exports=n},{"./SyntheticEvent":284}],291:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticEvent"),r=e("./getEventTarget");o.augmentClass(n,{view:function(e){if(e.view)return e.view;var t=r(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}}),t.exports=n},{"./SyntheticEvent":284,"./getEventTarget":307}],292:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n,r){return o.call(this,e,t,n,r)}var o=e("./SyntheticMouseEvent");o.augmentClass(n,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),t.exports=n},{"./SyntheticMouseEvent":288}],293:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var n=e("./reactProdInvariant"),o=e("fbjs/lib/invariant"),r={};/**
 * `Transaction` creates a black box that is able to wrap any method such that
 * certain invariants are maintained before and after the method is invoked
 * (Even if an exception is thrown while invoking the wrapped method). Whoever
 * instantiates a transaction can provide enforcers of the invariants at
 * creation time. The `Transaction` class itself will supply one additional
 * automatic invariant for you - the invariant that any transaction instance
 * should not be run while it is already being run. You would typically create a
 * single instance of a `Transaction` for reuse multiple times, that potentially
 * is used to wrap several different methods. Wrappers are extremely simple -
 * they only require implementing two methods.
 *
 * <pre>
 *                       wrappers (injected at creation time)
 *                                      +        +
 *                                      |        |
 *                    +-----------------|--------|--------------+
 *                    |                 v        |              |
 *                    |      +---------------+   |              |
 *                    |   +--|    wrapper1   |---|----+         |
 *                    |   |  +---------------+   v    |         |
 *                    |   |          +-------------+  |         |
 *                    |   |     +----|   wrapper2  |--------+   |
 *                    |   |     |    +-------------+  |     |   |
 *                    |   |     |                     |     |   |
 *                    |   v     v                     v     v   | wrapper
 *                    | +---+ +---+   +---------+   +---+ +---+ | invariants
 * perform(anyMethod) | |   | |   |   |         |   |   | |   | | maintained
 * +----------------->|-|---|-|---|-->|anyMethod|---|---|-|---|-|-------->
 *                    | |   | |   |   |         |   |   | |   | |
 *                    | |   | |   |   |         |   |   | |   | |
 *                    | |   | |   |   |         |   |   | |   | |
 *                    | +---+ +---+   +---------+   +---+ +---+ |
 *                    |  initialize                    close    |
 *                    +-----------------------------------------+
 * </pre>
 *
 * Use cases:
 * - Preserving the input selection ranges before/after reconciliation.
 *   Restoring selection even in the event of an unexpected error.
 * - Deactivating events while rearranging the DOM, preventing blurs/focuses,
 *   while guaranteeing that afterwards, the event system is reactivated.
 * - Flushing a queue of collected DOM mutations to the main UI thread after a
 *   reconciliation takes place in a worker thread.
 * - Invoking any collected `componentDidUpdate` callbacks after rendering new
 *   content.
 * - (Future use case): Wrapping particular flushes of the `ReactWorker` queue
 *   to preserve the `scrollTop` (an automatic scroll aware DOM).
 * - (Future use case): Layout calculations before and after DOM updates.
 *
 * Transactional plugin API:
 * - A module that has an `initialize` method that returns any precomputation.
 * - and a `close` method that accepts the precomputation. `close` is invoked
 *   when the wrapped process is completed, or has failed.
 *
 * @param {Array<TransactionalWrapper>} transactionWrapper Wrapper modules
 * that implement `initialize` and `close`.
 * @return {Transaction} Single transaction for reuse in thread.
 *
 * @class Transaction
 */t.exports={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(t,o,r,i,s,l,d,e){!this.isInTransaction()?void 0:n("27");var p,c;try{this._isInTransaction=!0,p=!0,this.initializeAll(0),c=t.call(o,r,i,s,l,d,e),p=!1}finally{try{if(p)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e,o;n<t.length;n++){o=t[n];try{this.wrapperInitData[n]=r,this.wrapperInitData[n]=o.initialize?o.initialize.call(this):null}finally{if(this.wrapperInitData[n]===r)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:n("28");for(var t=this.transactionWrappers,o=e;o<t.length;o++){var i=t[o],s=this.wrapperInitData[o],d;try{d=!0,s!==r&&i.close&&i.close.call(this,s),d=!1}finally{if(d)try{this.closeAll(o+1)}catch(t){}}}this.wrapperInitData.length=0}}},{"./reactProdInvariant":318,"fbjs/lib/invariant":29}],294:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};t.exports=n},{}],295:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var n=e("./reactProdInvariant"),o=e("fbjs/lib/invariant");t.exports=function(e,t){return null==t?n("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}},{"./reactProdInvariant":318,"fbjs/lib/invariant":29}],296:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var o=65521;t.exports=function(e){for(var t=1,r=0,s=0,i=e.length,d=-4&i;s<d;){for(var l=Math.min(s+4096,d);s<l;s+=4)r+=(t+=e.charCodeAt(s))+(t+=e.charCodeAt(s+1))+(t+=e.charCodeAt(s+2))+(t+=e.charCodeAt(s+3));t%=o,r%=o}for(;s<i;s++)r+=t+=e.charCodeAt(s);return t%=o,r%=o,t|r<<16}},{}],297:[function(e,t){(function(n){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var o=e("./reactProdInvariant"),r=e("./ReactPropTypeLocationNames"),i=e("./ReactPropTypesSecret"),s=e("fbjs/lib/invariant"),d=e("fbjs/lib/warning");"undefined"!=typeof n&&n.env;var l={};t.exports=function(e,t,n,s){for(var d in e)if(e.hasOwnProperty(d)){var p;try{"function"==typeof e[d]?void 0:o("84",s||"React class",r[n],d),p=e[d](t,d,s,n,null,i)}catch(e){p=e}if(void 0,p instanceof Error&&!(p.message in l)){l[p.message]=!0;!1,void 0}}}}).call(this,e("_process"))},{"./ReactPropTypeLocationNames":267,"./ReactPropTypesSecret":268,"./reactProdInvariant":318,_process:191,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"react/lib/ReactComponentTreeHook":338}],298:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,o,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,r)})}:e}},{}],299:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./CSSProperty"),o=e("fbjs/lib/warning"),r=n.isUnitlessNumber;t.exports=function(e,t,n,o){var i=null==t||"boolean"==typeof t||""===t;if(i)return"";var s=isNaN(t);if(o||s||0===t||r.hasOwnProperty(e)&&r[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}},{"./CSSProperty":202,"fbjs/lib/warning":36}],300:[function(e,t){/**
 * Copyright (c) 2016-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * Based on the escape-html library, which is used under the MIT License below:
 *
 * Copyright (c) 2012-2013 TJ Holowaychuk
 * Copyright (c) 2015 Andreas Lubbe
 * Copyright (c) 2015 Tiancheng "Timothy" Gu
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * 'Software'), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
 * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
 * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
 * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 */"use strict";function n(e){var t=""+e,n=o.exec(t);if(!n)return t;var r="",i=0,s=0,d;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&#x27;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;default:continue;}s!==i&&(r+=t.substring(s,i)),s=i+1,r+=d}return s===i?r:r+t.substring(s,i)}var o=/["'&<>]/;t.exports=function(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}},{}],301:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./reactProdInvariant"),o=e("react/lib/ReactCurrentOwner"),r=e("./ReactDOMComponentTree"),i=e("./ReactInstanceMap"),s=e("./getHostComponentFromComposite"),d=e("fbjs/lib/invariant"),l=e("fbjs/lib/warning");t.exports=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=i.get(e);return t?(t=s(t),t?r.getNodeFromInstance(t):null):void("function"==typeof e.render?n("44"):n("45",Object.keys(e)))}},{"./ReactDOMComponentTree":231,"./ReactInstanceMap":259,"./getHostComponentFromComposite":308,"./reactProdInvariant":318,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"react/lib/ReactCurrentOwner":339}],302:[function(e,t){(function(n){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";function o(e,t,n){if(e&&"object"==typeof e){var o=e,r=o[n]===void 0;!1,r&&null!=t&&(o[n]=t)}}var r=e("./KeyEscapeUtils"),i=e("./traverseAllChildren"),s=e("fbjs/lib/warning");"undefined"!=typeof n&&n.env&&!1,t.exports=function(e,t){if(null==e)return e;var n={};return i(e,o,n),n}}).call(this,e("_process"))},{"./KeyEscapeUtils":220,"./traverseAllChildren":323,_process:191,"fbjs/lib/warning":36,"react/lib/ReactComponentTreeHook":338}],303:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";t.exports=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}},{}],304:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports=function(e){var t=e.keyCode,n;return"charCode"in e?(n=e.charCode,0===n&&13===t&&(n=13)):n=t,32<=n||13===n?n:0}},{}],305:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./getEventCharCode"),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=function(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var i=n(e);return 13===i?"Enter":String.fromCharCode(i)}return"keydown"===e.type||"keyup"===e.type?r[e.keyCode]||"Unidentified":""}},{"./getEventCharCode":304}],306:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=o[e];return!!r&&!!n[r]}var o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=function(){return n}},{}],307:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports=function(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}},{}],308:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./ReactNodeTypes");t.exports=function(e){for(var t;(t=e._renderedNodeType)===n.COMPOSITE;)e=e._renderedComponent;if(t===n.HOST)return e._renderedComponent;return t===n.EMPTY?null:void 0}},{"./ReactNodeTypes":265}],309:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var n="function"==typeof Symbol&&Symbol.iterator;t.exports=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}},{}],310:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}t.exports=function(e,t){for(var r=n(e),i=0,s=0;r;){if(3===r.nodeType){if(s=i+r.textContent.length,i<=t&&s>=t)return{node:r,offset:t-i};i=s}r=n(o(r))}}},{}],311:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("fbjs/lib/ExecutionEnvironment"),o=null;t.exports=function(){return!o&&n.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}},{"fbjs/lib/ExecutionEnvironment":15}],312:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var o=e("fbjs/lib/ExecutionEnvironment"),r={animationend:n("Animation","AnimationEnd"),animationiteration:n("Animation","AnimationIteration"),animationstart:n("Animation","AnimationStart"),transitionend:n("Transition","TransitionEnd")},i={},s={};o.canUseDOM&&(s=document.createElement("div").style,!("AnimationEvent"in window)&&(delete r.animationend.animation,delete r.animationiteration.animation,delete r.animationstart.animation),!("TransitionEvent"in window)&&delete r.transitionend.transition),t.exports=function(e){if(i[e])return i[e];if(!r[e])return e;var t=r[e];for(var n in t)if(t.hasOwnProperty(n)&&n in s)return i[e]=t[n];return""}},{"fbjs/lib/ExecutionEnvironment":15}],313:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function o(e){return e._wrapperState.valueTracker}function r(e,t){e._wrapperState.valueTracker=t}function i(e){e._wrapperState.valueTracker=null}function s(e){var t;return e&&(t=n(e)?""+e.checked:e.value),t}var d=e("./ReactDOMComponentTree"),l={_getTrackerFromNode:function(e){return o(d.getInstanceFromNode(e))},track:function(e){if(!o(e)){var t=d.getNodeFromInstance(e),s=n(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),p=""+t[s];t.hasOwnProperty(s)||"function"!=typeof l.get||"function"!=typeof l.set||(Object.defineProperty(t,s,{enumerable:l.enumerable,configurable:!0,get:function(){return l.get.call(this)},set:function(e){p=""+e,l.set.call(this,e)}}),r(e,{getValue:function(){return p},setValue:function(e){p=""+e},stopTracking:function(){i(e),delete t[s]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=o(e);if(!t)return l.track(e),!0;var n=t.getValue(),r=s(d.getNodeFromInstance(e));return r!==n&&(t.setValue(r),!0)},stopTracking:function(e){var t=o(e);t&&t.stopTracking()}};t.exports=l},{"./ReactDOMComponentTree":231}],314:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function r(e){var t;if(null===e||!1===e)t=l.create(r);else if("object"==typeof e){var s=e,d=s.type;if("function"!=typeof d&&"string"!=typeof d){var c="";!1,c+=n(s._owner),i("130",null==d?d:typeof d,c)}"string"==typeof s.type?t=p.createInternalComponent(s):o(s.type)?(t=new s.type(s),!t.getHostNode&&(t.getHostNode=t.getNativeNode)):t=new h(s)}else"string"==typeof e||"number"==typeof e?t=p.createInstanceForText(e):i("131",typeof e);return!1,t._mountIndex=0,t._mountImage=null,!1,!1,t}var i=e("./reactProdInvariant"),s=e("object-assign"),d=e("./ReactCompositeComponent"),l=e("./ReactEmptyComponent"),p=e("./ReactHostComponent"),c=e("react/lib/getNextDebugID"),u=e("fbjs/lib/invariant"),m=e("fbjs/lib/warning"),h=function(e){this.construct(e)};s(h.prototype,d,{_instantiateReactComponent:r}),t.exports=r},{"./ReactCompositeComponent":227,"./ReactEmptyComponent":250,"./ReactHostComponent":255,"./reactProdInvariant":318,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"object-assign":190,"react/lib/getNextDebugID":353}],315:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("fbjs/lib/ExecutionEnvironment"),o;/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */n.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=function(e,t){if(!n.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,i=r in document;if(!i){var s=document.createElement("div");s.setAttribute(r,"return;"),i="function"==typeof s[r]}return!i&&o&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},{"fbjs/lib/ExecutionEnvironment":15}],316:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!n[e.type]:!("textarea"!==t)}},{}],317:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./escapeTextContentForBrowser");t.exports=function(e){return"\""+n(e)+"\""}},{"./escapeTextContentForBrowser":300}],318:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";t.exports=function(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,o=0;o<t;o++)n+="&args[]="+encodeURIComponent(arguments[o+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var r=new Error(n);throw r.name="Invariant Violation",r.framesToPop=1,r}},{}],319:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./ReactMount");t.exports=n.renderSubtreeIntoContainer},{"./ReactMount":263}],320:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("fbjs/lib/ExecutionEnvironment"),o=e("./DOMNamespaces"),r=/^[ \r\n\t\f]/,i=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,s=e("./createMicrosoftUnsafeLocalFunction"),d=s(function(e,t){if(e.namespaceURI===o.svg&&!("innerHTML"in e)){l=l||document.createElement("div"),l.innerHTML="<svg>"+t+"</svg>";for(var n=l.firstChild;n.firstChild;)e.appendChild(n.firstChild)}else e.innerHTML=t}),l;/**
 * Set the innerHTML property of a node, ensuring that whitespace is preserved
 * even in IE8.
 *
 * @param {DOMElement} node
 * @param {string} html
 * @internal
 */if(n.canUseDOM){var p=document.createElement("div");p.innerHTML=" ",""===p.innerHTML&&(d=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),r.test(t)||"<"===t[0]&&i.test(t)){e.innerHTML="\uFEFF"+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),p=null}t.exports=d},{"./DOMNamespaces":208,"./createMicrosoftUnsafeLocalFunction":298,"fbjs/lib/ExecutionEnvironment":15}],321:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("fbjs/lib/ExecutionEnvironment"),o=e("./escapeTextContentForBrowser"),r=e("./setInnerHTML"),i=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};/**
 * Set the textContent property of a node, ensuring that whitespace is preserved
 * even in IE8. innerText is a poor substitute for textContent and, among many
 * issues, inserts <br> instead of the literal newline chars. innerHTML behaves
 * as it should.
 *
 * @param {DOMElement} node
 * @param {string} text
 * @internal
 */n.canUseDOM&&!("textContent"in document.documentElement)&&(i=function(e,t){return 3===e.nodeType?void(e.nodeValue=t):void r(e,o(t))}),t.exports=i},{"./escapeTextContentForBrowser":300,"./setInnerHTML":320,"fbjs/lib/ExecutionEnvironment":15}],322:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports=function(e,t){var n=null===e||!1===e,o=null===t||!1===t;if(n||o)return n==o;var r=typeof e,i=typeof t;return"string"==r||"number"==r?"string"==i||"number"==i:"object"==i&&e.type===t.type&&e.key===t.key}},{}],323:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){return e&&"object"==typeof e&&null!=e.key?p.escape(e.key):t.toString(36)}function o(e,t,l,c){var h=typeof e;if(("undefined"==h||"boolean"==h)&&(e=null),null===e||"string"==h||"number"==h||"object"==h&&e.$$typeof===s)return l(c,e,""===t?u+n(e,0):t),1;var f=0,g=""===t?u:t+m,y,b;if(Array.isArray(e))for(var _=0;_<e.length;_++)y=e[_],b=g+n(y,_),f+=o(y,b,l,c);else{var i=d(e);if(i){var v=i.call(e),E;if(i!==e.entries)for(var C=0;!(E=v.next()).done;)y=E.value,b=g+n(y,C++),f+=o(y,b,l,c);else for(var T;!(E=v.next()).done;)T=E.value,T&&(y=T[1],b=g+p.escape(T[0])+m+n(y,0),f+=o(y,b,l,c))}else if("object"==h){var I="",S=e+"";r("31","[object Object]"===S?"object with keys {"+Object.keys(e).join(", ")+"}":S,I)}}return f}var r=e("./reactProdInvariant"),i=e("react/lib/ReactCurrentOwner"),s=e("./ReactElementSymbol"),d=e("./getIteratorFn"),l=e("fbjs/lib/invariant"),p=e("./KeyEscapeUtils"),c=e("fbjs/lib/warning"),u=".",m=":";t.exports=function(e,t,n){return null==e?0:o(e,"",t,n)}},{"./KeyEscapeUtils":220,"./ReactElementSymbol":249,"./getIteratorFn":309,"./reactProdInvariant":318,"fbjs/lib/invariant":29,"fbjs/lib/warning":36,"react/lib/ReactCurrentOwner":339}],324:[function(e,t){/**
 * Copyright (c) 2015-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("object-assign"),o=e("fbjs/lib/emptyFunction"),r=e("fbjs/lib/warning");t.exports=o},{"fbjs/lib/emptyFunction":21,"fbjs/lib/warning":36,"object-assign":190}],325:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=e("lodash/find"),d=o(s),l=e("lodash/sortBy"),p=o(l),c=function(){function e(){r(this,e),this.refs={}}return i(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return(0,d.default)(this.refs[this.active.collection],function(t){var n=t.node;return n.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.active.collection;return(0,p.default)(this.refs[e],function(e){var t=e.node;return t.sortableInfo.index})}}]),e}();n.default=c},{"lodash/find":161,"lodash/sortBy":180}],326:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=Math.abs;Object.defineProperty(n,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},c=function(){function e(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s=e[Symbol.iterator](),d;!(o=(d=s.next()).done)&&(n.push(d.value),!(t&&n.length===t));o=!0);}catch(e){r=!0,i=e}finally{try{!o&&s["return"]&&s["return"]()}finally{if(r)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n.default=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{withRef:!1},n,o;return o=n=function(n){function o(e){i(this,o);var t=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.handleStart=function(n){var e=t.props,o=e.distance,r=e.shouldCancelStart;if(2===n.button||r(n))return!1;t._touched=!0,t._pos={x:n.pageX,y:n.pageY};var i=(0,C.closest)(n.target,function(e){return null!=e.sortableInfo});if(i&&i.sortableInfo&&t.nodeIsChild(i)&&!t.state.sorting){var s=t.props.useDragHandle,d=i.sortableInfo,l=d.index,p=d.collection;if(s&&!(0,C.closest)(n.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:l,collection:p},"a"===n.target.tagName.toLowerCase()&&n.preventDefault(),o||(0===t.props.pressDelay?t.handlePress(n):t.pressTimer=setTimeout(function(){return t.handlePress(n)},t.props.pressDelay))}},t.nodeIsChild=function(e){return e.sortableInfo.manager===t.manager},t.handleMove=function(n){var e=t.props,o=e.distance,r=e.pressThreshold;if(!t.state.sorting&&t._touched){t._delta={x:t._pos.x-n.pageX,y:t._pos.y-n.pageY};var i=l(t._delta.x)+l(t._delta.y);!o&&(!r||r&&i>=r)?(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0)):o&&i>=o&&t.manager.isActive()&&t.handlePress(n)}},t.handleEnd=function(){var e=t.props.distance;t._touched=!1,e||t.cancel()},t.cancel=function(){t.state.sorting||(clearTimeout(t.pressTimer),t.manager.active=null)},t.handlePress=function(n){var e=t.manager.getActive();if(e){var o=t.props,i=o.axis,s=o.getHelperDimensions,d=o.helperClass,l=o.hideSortableGhost,p=o.onSortStart,c=o.useWindowAsScrollContainer,u=e.node,m=e.collection,h=u.sortableInfo.index,f=(0,C.getElementMargin)(u),g=t.container.getBoundingClientRect(),y=s({index:h,node:u,collection:m});t.node=u,t.margin=f,t.width=y.width,t.height=y.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=u.getBoundingClientRect(),t.containerBoundingRect=g,t.index=h,t.newIndex=h,t.axis={x:0<=i.indexOf("x"),y:0<=i.indexOf("y")},t.offsetEdge=t.getEdgeOffset(u),t.initialOffset=t.getOffset(n),t.initialScroll={top:t.scrollContainer.scrollTop,left:t.scrollContainer.scrollLeft},t.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var b=u.querySelectorAll("input, textarea, select"),_=u.cloneNode(!0),v=[].concat(r(_.querySelectorAll("input, textarea, select")));if(v.forEach(function(e,t){"file"!==e.type&&b[t]&&(e.value=b[t].value)}),t.helper=t.document.body.appendChild(_),t.helper.style.position="fixed",t.helper.style.top=t.boundingClientRect.top-f.top+"px",t.helper.style.left=t.boundingClientRect.left-f.left+"px",t.helper.style.width=t.width+"px",t.helper.style.height=t.height+"px",t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",l&&(t.sortableGhost=u,u.style.visibility="hidden",u.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(c?0:g.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(c?t.contentWindow.innerWidth:g.left+g.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(c?0:g.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(c?t.contentWindow.innerHeight:g.top+g.height)-t.boundingClientRect.top-t.height/2),d){var E;(E=t.helper.classList).add.apply(E,r(d.split(" ")))}t.listenerNode=n.touches?u:t.contentWindow,C.events.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),C.events.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:h}),p&&p({node:u,index:h,collection:m},n)}},t.handleSortMove=function(n){var e=t.props.onSortMove;n.preventDefault(),t.updatePosition(n),t.animateNodes(),t.autoscroll(),e&&e(n)},t.handleSortEnd=function(n){var e=t.props,o=e.hideSortableGhost,r=e.onSortEnd,s=t.manager.active.collection;t.listenerNode&&(C.events.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),C.events.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),o&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var d=t.manager.refs[s],l=0,i=d.length;l<i;l++){var p=d[l],c=p.node;p.edgeOffset=null,c.style[C.vendorPrefix+"Transform"]="",c.style[C.vendorPrefix+"TransitionDuration"]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({oldIndex:t.index,newIndex:t.newIndex,collection:s},n),t._touched=!1},t.autoscroll=function(){var e=t.translate,n={x:0,y:0},o={x:1,y:1},r={x:10,y:10};e.y>=t.maxTranslate.y-t.height/2?(n.y=1,o.y=r.y*l((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2?(n.x=1,o.x=r.x*l((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2?(n.y=-1,o.y=r.y*l((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&(n.x=-1,o.x=r.x*l((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),(0!==n.x||0!==n.y)&&(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:1*o.x*n.x,top:1*o.y*n.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))},t.manager=new E.default,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},(0,_.default)(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return d(o,n),u(o,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.getContainer,o=t.useWindowAsScrollContainer,r=this.props.contentWindow||window;this.container="function"==typeof n?n(this.getWrappedInstance()):(0,y.findDOMNode)(this),this.document=this.container.ownerDocument||document,this.scrollContainer=o?this.document.body:this.container,this.contentWindow="function"==typeof r?r():r;var i=function(t){e.events.hasOwnProperty(t)&&C.events[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})};for(var s in this.events)i(s)}},{key:"componentWillUnmount",value:function(){var e=this,t=function(t){e.events.hasOwnProperty(t)&&C.events[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})};for(var n in this.events)t(n)}},{key:"getEdgeOffset",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{top:0,left:0};if(e){var n={top:t.top+e.offsetTop,left:t.left+e.offsetLeft};return e.parentNode===this.container?n:this.getEdgeOffset(e.parentNode,n)}}},{key:"getOffset",value:function(t){return{x:t.touches?t.touches[0].pageX:t.pageX,y:t.touches?t.touches[0].pageY:t.pageY}}},{key:"getLockPixelOffsets",value:function(){var e=this.props.lockOffset;Array.isArray(e)||(e=[e,e]),(0,_.default)(2===e.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",e);var t=e,n=c(t,2),o=n[0],r=n[1];return[this.getLockPixelOffset(o),this.getLockPixelOffset(r)]}},{key:"getLockPixelOffset",value:function(e){var t=e,n=e,o="px";if("string"==typeof e){var r=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(e);(0,_.default)(null!==r,"lockOffset value should be a number or a string of a number followed by \"px\" or \"%\". Given %s",e),t=n=parseFloat(e),o=r[1]}return(0,_.default)(isFinite(t)&&isFinite(n),"lockOffset value should be a finite. Given %s",e),"%"===o&&(t=t*this.width/100,n=n*this.height/100),{x:t,y:n}}},{key:"updatePosition",value:function(t){var e=this.props,n=e.lockAxis,o=e.lockToContainerEdges,r=this.getOffset(t),i={x:r.x-this.initialOffset.x,y:r.y-this.initialOffset.y};if(i.y-=window.pageYOffset-this.initialWindowScroll.top,i.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=i,o){var s=this.getLockPixelOffsets(),d=c(s,2),l=d[0],p=d[1],u={x:this.width/2-l.x,y:this.height/2-l.y},m={x:this.width/2-p.x,y:this.height/2-p.y};i.x=(0,C.limit)(this.minTranslate.x+u.x,this.maxTranslate.x-m.x,i.x),i.y=(0,C.limit)(this.minTranslate.y+u.y,this.maxTranslate.y-m.y,i.y)}"x"===n?i.y=0:"y"===n&&(i.x=0),this.helper.style[C.vendorPrefix+"Transform"]="translate3d("+i.x+"px,"+i.y+"px, 0)"}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,o=this.manager.getOrderedRefs(),r={left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top},s={left:this.offsetEdge.left+this.translate.x+r.left,top:this.offsetEdge.top+this.translate.y+r.top},d={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left};this.newIndex=null;for(var l=0,i=o.length;l<i;l++){var p=o[l].node,c=p.sortableInfo.index,u=p.offsetWidth,m=p.offsetHeight,h={width:this.width>u?u/2:this.width/2,height:this.height>m?m/2:this.height/2},f={x:0,y:0},g=o[l].edgeOffset;g||(o[l].edgeOffset=g=this.getEdgeOffset(p));var y=l<o.length-1&&o[l+1],b=0<l&&o[l-1];if(y&&!y.edgeOffset&&(y.edgeOffset=this.getEdgeOffset(y.node)),c===this.index){n&&(this.sortableGhost=p,p.style.visibility="hidden",p.style.opacity=0);continue}t&&(p.style[C.vendorPrefix+"TransitionDuration"]=t+"ms"),this.axis.x?this.axis.y?c<this.index&&(s.left+d.left-h.width<=g.left&&s.top+d.top<=g.top+h.height||s.top+d.top+h.height<=g.top)?(f.x=this.width+this.marginOffset.x,g.left+f.x>this.containerBoundingRect.width-h.width&&(f.x=y.edgeOffset.left-g.left,f.y=y.edgeOffset.top-g.top),null===this.newIndex&&(this.newIndex=c)):c>this.index&&(s.left+d.left+h.width>=g.left&&s.top+d.top+h.height>=g.top||s.top+d.top+h.height>=g.top+m)&&(f.x=-(this.width+this.marginOffset.x),g.left+f.x<this.containerBoundingRect.left+h.width&&(f.x=b.edgeOffset.left-g.left,f.y=b.edgeOffset.top-g.top),this.newIndex=c):c>this.index&&s.left+d.left+h.width>=g.left?(f.x=-(this.width+this.marginOffset.x),this.newIndex=c):c<this.index&&s.left+d.left<=g.left+h.width&&(f.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=c)):this.axis.y&&(c>this.index&&s.top+d.top+h.height>=g.top?(f.y=-(this.height+this.marginOffset.y),this.newIndex=c):c<this.index&&s.top+d.top<=g.top+h.height&&(f.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=c))),p.style[C.vendorPrefix+"Transform"]="translate3d("+f.x+"px,"+f.y+"px,0)"}null==this.newIndex&&(this.newIndex=this.index)}},{key:"getWrappedInstance",value:function(){return(0,_.default)(t.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=t.withRef?"wrappedInstance":null;return h.default.createElement(e,p({ref:n},(0,C.omit)(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions")))}}]),o}(m.Component),n.displayName=(0,C.provideDisplayName)("sortableList",e),n.defaultProps={axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,shouldCancelStart:function(t){if(-1!==["input","textarea","select","option","button"].indexOf(t.target.tagName.toLowerCase()))return!0},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}},n.propTypes={axis:g.default.oneOf(["x","y","xy"]),distance:g.default.number,lockAxis:g.default.string,helperClass:g.default.string,transitionDuration:g.default.number,contentWindow:g.default.any,onSortStart:g.default.func,onSortMove:g.default.func,onSortEnd:g.default.func,shouldCancelStart:g.default.func,pressDelay:g.default.number,useDragHandle:g.default.bool,useWindowAsScrollContainer:g.default.bool,hideSortableGhost:g.default.bool,lockToContainerEdges:g.default.bool,lockOffset:g.default.oneOfType([g.default.number,g.default.string,g.default.arrayOf(g.default.oneOfType([g.default.number,g.default.string]))]),getContainer:g.default.func,getHelperDimensions:g.default.func},n.childContextTypes={manager:g.default.object.isRequired},o};var m=e("react"),h=o(m),f=e("prop-types"),g=o(f),y=e("react-dom"),b=e("invariant"),_=o(b),v=e("../Manager"),E=o(v),C=e("../utils")},{"../Manager":325,"../utils":330,invariant:41,"prop-types":196,react:358,"react-dom":198}],327:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},l=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n.default=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{withRef:!1},n,o;return o=n=function(n){function o(){return r(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return s(o,n),l(o,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,o=e.index;n||this.setDraggable(t,o)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,o=e.index;n?this.removeDraggable(t):this.setDraggable(t,o)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection,n=e.disabled;n||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=this.node=(0,h.findDOMNode)(this);n.sortableInfo={index:t,collection:e,manager:this.context.manager},this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return(0,g.default)(t.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=t.withRef?"wrappedInstance":null;return c.default.createElement(e,d({ref:n},(0,y.omit)(this.props,"collection","disabled","index")))}}]),o}(p.Component),n.displayName=(0,y.provideDisplayName)("sortableElement",e),n.contextTypes={manager:m.default.object.isRequired},n.propTypes={index:m.default.number.isRequired,collection:m.default.oneOfType([m.default.number,m.default.string]),disabled:m.default.bool},n.defaultProps={collection:0},o};var p=e("react"),c=o(p),u=e("prop-types"),m=o(u),h=e("react-dom"),f=e("invariant"),g=o(f),y=e("../utils")},{"../utils":330,invariant:41,"prop-types":196,react:358,"react-dom":198}],328:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},l=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n.default=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{withRef:!1},n,o;return o=n=function(n){function o(){return r(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return s(o,n),l(o,[{key:"componentDidMount",value:function(){var e=(0,u.findDOMNode)(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return(0,h.default)(t.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=t.withRef?"wrappedInstance":null;return c.default.createElement(e,d({ref:n},this.props))}}]),o}(p.Component),n.displayName=(0,f.provideDisplayName)("sortableHandle",e),o};var p=e("react"),c=o(p),u=e("react-dom"),m=e("invariant"),h=o(m),f=e("../utils")},{"../utils":330,invariant:41,react:358,"react-dom":198}],329:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.arrayMove=n.sortableHandle=n.sortableElement=n.sortableContainer=n.SortableHandle=n.SortableElement=n.SortableContainer=void 0;var r=e("./utils");Object.defineProperty(n,"arrayMove",{enumerable:!0,get:function(){return r.arrayMove}});var i=e("./SortableContainer"),s=o(i),d=e("./SortableElement"),l=o(d),p=e("./SortableHandle"),c=o(p);n.SortableContainer=s.default,n.SortableElement=l.default,n.SortableHandle=c.default,n.sortableContainer=s.default,n.sortableElement=l.default,n.sortableHandle=c.default},{"./SortableContainer":326,"./SortableElement":327,"./SortableHandle":328,"./utils":330}],330:[function(e,t,n){"use strict";function o(e){return"px"===e.substr(-2)?parseFloat(e):0}Object.defineProperty(n,"__esModule",{value:!0}),n.arrayMove=function(e,t,n){var o=e.slice(0);if(n>=o.length)for(var r=n-o.length;r--+1;)o.push(void 0);return o.splice(n,0,o.splice(t,1)[0]),o},n.omit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Object.keys(e).reduce(function(t,o){return-1===n.indexOf(o)&&(t[o]=e[o]),t},{})},n.closest=function(e,t){for(;e;){if(t(e))return e;e=e.parentNode}},n.limit=function(e,t,n){return n<e?e:n>t?t:n},n.getElementMargin=function(e){var t=window.getComputedStyle(e);return{top:o(t.marginTop),right:o(t.marginRight),bottom:o(t.marginBottom),left:o(t.marginLeft)}},n.provideDisplayName=function(e,t){var n=t.displayName||t.name;return n?e+"("+n+")":e};var r=n.events={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},i=n.vendorPrefix=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return"ms"===t?"ms":t&&t.length?t[0].toUpperCase()+t.substr(1):""}()},{}],331:[function(e,t,n){"use strict";function o(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&p[n])return p[n];var o=window.getComputedStyle(e),r=l.reduce(function(e,t){return e[t]=o.getPropertyValue(t),e},{}),d=r[s];i&&"border-box"===d&&(r.width=parseFloat(r.width)+parseFloat(o["border-right-width"])+parseFloat(o["border-left-width"])+parseFloat(o["padding-right"])+parseFloat(o["padding-left"])+"px");var c=parseFloat(r["padding-bottom"])+parseFloat(r["padding-top"]),u=parseFloat(r["border-bottom-width"])+parseFloat(r["border-top-width"]),m={sizingStyle:r,paddingSize:c,borderSize:u,boxSizing:d};return t&&n&&(p[n]=m),m}n.__esModule=!0,n.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;c?null===c.parentNode&&document.body.appendChild(c):(c=document.createElement("textarea"),document.body.appendChild(c));var i=o(e,t),s=i.paddingSize,l=i.borderSize,p=i.boxSizing,u=i.sizingStyle;Object.keys(u).map(function(e){c.style[e]=u[e]}),Object.keys(d).map(function(e){c.style.setProperty(e,d[e],"important")}),c.value=e.value||e.placeholder||"x";var m=-Infinity,h=Infinity,f=c.scrollHeight;if("border-box"===p?f+=l:"content-box"===p&&(f-=s),null!==n||null!==r){c.value="x";var g=c.scrollHeight-s;null!==n&&(m=g*n,"border-box"===p&&(m=m+s+l),f=Math.max(m,f)),null!==r&&(h=g*r,"border-box"===p&&(h=h+s+l),f=Math.min(h,f))}return{height:f,minHeight:m,maxHeight:h}};var r="undefined"!=typeof window&&"undefined"!=typeof document,i=!!r&&!!document.documentElement.currentStyle,s=function(){if(!r)return"box-sizing";var e=window.getComputedStyle(document.documentElement);return e.getPropertyValue("box-sizing")?"box-sizing":e.getPropertyValue("-moz-box-sizing")?"-moz-box-sizing":e.getPropertyValue("-webkit-box-sizing")?"-webkit-box-sizing":"box-sizing"}(),d={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},l=["letter-spacing","line-height","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width",s],p={},c=void 0},{}],332:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)0<=t.indexOf(o)||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}function p(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}n.__esModule=!0;var c=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=e("react"),f=o(h),g=e("prop-types"),y=o(g),b=e("./calculateNodeHeight"),_=o(b),v=function(){},E=function(e){function t(n){i(this,t);var o=s(this,e.call(this,n));return o._onRootDOMNode=function(e){o._rootDOMNode=e,o.props.inputRef&&o.props.inputRef(e)},o._onChange=function(e){o._controlled||o._resizeComponent();var t=o.props,n=t.valueLink,r=t.onChange;n?n.requestChange(e.target.value):r(e)},o._resizeComponent=function(){if(o._rootDOMNode){var e=(0,_.default)(o._rootDOMNode,o.props.useCacheForDOMMeasurements,o.props.rows||o.props.minRows,o.props.maxRows),t=e.height,n=e.minHeight,r=e.maxHeight;(o.state.height!==t||o.state.minHeight!==n||o.state.maxHeight!==r)&&o.setState({height:t,minHeight:n,maxHeight:r})}},o.state={height:n.style&&n.style.height||0,minHeight:-Infinity,maxHeight:Infinity},o._controlled="string"==typeof n.value,o}return d(t,e),t.prototype.render=function(){var e=this.props,t=e.valueLink,n=e.minRows,o=e.maxRows,i=e.onHeightChange,s=e.useCacheForDOMMeasurements,d=e.inputRef,l=r(e,["valueLink","minRows","maxRows","onHeightChange","useCacheForDOMMeasurements","inputRef"]);"object"===("undefined"==typeof t?"undefined":u(t))&&(l.value=t.value),l.style=c({},l.style,{height:this.state.height});var p=Math.max(l.style.maxHeight||Infinity,this.state.maxHeight);return p<this.state.height&&(l.style.overflow="hidden"),f.default.createElement("textarea",c({},l,{onChange:this._onChange,ref:this._onRootDOMNode}))},t.prototype.componentDidMount=function(){this._resizeComponent(),window.addEventListener("resize",this._resizeComponent)},t.prototype.componentWillReceiveProps=function(){this._clearNextFrame(),this._onNextFrameActionId=l(this._resizeComponent)},t.prototype.componentDidUpdate=function(e,t){this.state.height!==t.height&&this.props.onHeightChange(this.state.height)},t.prototype.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeComponent)},t.prototype._clearNextFrame=function(){this._onNextFrameActionId&&p(this._onNextFrameActionId)},t.prototype.focus=function(){this._rootDOMNode.focus()},t.prototype.blur=function(){this._rootDOMNode.blur()},m(t,[{key:"value",get:function(){return this._rootDOMNode.value},set:function(e){this._rootDOMNode.value=e}},{key:"selectionStart",get:function(){return this._rootDOMNode.selectionStart},set:function(e){this._rootDOMNode.selectionStart=e}},{key:"selectionEnd",get:function(){return this._rootDOMNode.selectionEnd},set:function(e){this._rootDOMNode.selectionEnd=e}}]),t}(f.default.Component);E.propTypes={value:y.default.string,onChange:y.default.func,onHeightChange:y.default.func,useCacheForDOMMeasurements:y.default.bool,rows:y.default.number,minRows:y.default.number,maxRows:y.default.number,inputRef:y.default.func},E.defaultProps={onChange:v,onHeightChange:v,useCacheForDOMMeasurements:!1},n.default=E},{"./calculateNodeHeight":331,"prop-types":196,react:358}],333:[function(e,t,n){arguments[4][220][0].apply(n,arguments)},{dup:220}],334:[function(e,t,n){arguments[4][222][0].apply(n,arguments)},{"./reactProdInvariant":356,dup:222,"fbjs/lib/invariant":29}],335:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("object-assign"),o=e("./ReactBaseClasses"),r=e("./ReactChildren"),i=e("./ReactDOMFactories"),s=e("./ReactElement"),d=e("./ReactPropTypes"),l=e("./ReactVersion"),p=e("./createClass"),c=e("./onlyChild"),u=s.createElement,m=s.createFactory,h=s.cloneElement;var f={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:c},Component:o.Component,PureComponent:o.PureComponent,createElement:u,cloneElement:h,isValidElement:s.isValidElement,PropTypes:d,createClass:p,createFactory:m,createMixin:function(e){return e},DOM:i,version:l,__spread:n};t.exports=f},{"./ReactBaseClasses":336,"./ReactChildren":337,"./ReactDOMFactories":340,"./ReactElement":341,"./ReactElementValidator":343,"./ReactPropTypes":346,"./ReactVersion":348,"./canDefineProperty":349,"./createClass":351,"./lowPriorityWarning":354,"./onlyChild":355,"object-assign":190}],336:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||d}function o(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||d}function r(){}var i=e("./reactProdInvariant"),s=e("object-assign"),d=e("./ReactNoopUpdateQueue"),l=e("./canDefineProperty"),p=e("fbjs/lib/emptyObject"),c=e("fbjs/lib/invariant"),u=e("./lowPriorityWarning");n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"==typeof e||"function"==typeof e||null==e?void 0:i("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};r.prototype=n.prototype,o.prototype=new r,o.prototype.constructor=o,s(o.prototype,n.prototype),o.prototype.isPureReactComponent=!0,t.exports={Component:n,PureComponent:o}},{"./ReactNoopUpdateQueue":344,"./canDefineProperty":349,"./lowPriorityWarning":354,"./reactProdInvariant":356,"fbjs/lib/emptyObject":22,"fbjs/lib/invariant":29,"object-assign":190}],337:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){return(""+e).replace(g,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function r(e,t){var n=e.func,o=e.context;n.call(o,t,e.count++)}function i(e,t,n,o){this.result=e,this.keyPrefix=t,this.func=n,this.context=o,this.count=0}function s(e,t,o){var r=e.result,i=e.keyPrefix,s=e.func,l=e.context,p=s.call(l,t,e.count++);Array.isArray(p)?d(p,r,o,u.thatReturnsArgument):null!=p&&(c.isValidElement(p)&&(p=c.cloneAndReplaceKey(p,i+(p.key&&(!t||t.key!==p.key)?n(p.key)+"/":"")+o)),r.push(p))}function d(e,t,o,r,d){var l="";null!=o&&(l=n(o)+"/");var p=i.getPooled(t,l,r,d);m(e,s,p),i.release(p)}function l(){return null}var p=e("./PooledClass"),c=e("./ReactElement"),u=e("fbjs/lib/emptyFunction"),m=e("./traverseAllChildren"),h=p.twoArgumentPooler,f=p.fourArgumentPooler,g=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},p.addPoolingTo(o,h),i.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},p.addPoolingTo(i,f);t.exports={forEach:function(e,t,n){if(null==e)return e;var i=o.getPooled(t,n);m(e,r,i),o.release(i)},map:function(e,t,n){if(null==e)return e;var o=[];return d(e,o,null,t,n),o},mapIntoWithKeyPrefixInternal:d,count:function(e){return m(e,l,null)},toArray:function(e){var t=[];return d(e,t,null,u.thatReturnsArgument),t}}},{"./PooledClass":334,"./ReactElement":341,"./traverseAllChildren":357,"fbjs/lib/emptyFunction":21}],338:[function(e,t){/**
 * Copyright (c) 2016-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";function n(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,o=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var r=t.call(e);return o.test(r)}catch(e){return!1}}function o(e){var t=h(e);if(t){var n=t.childIDs;f(e),n.forEach(o)}}function r(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function i(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function s(e){var t=x.getDisplayName(e),n=x.getElement(e),o=x.getOwnerID(e),i;return o&&(i=x.getDisplayName(o)),void 0,r(t,n&&n._source,i)}var d=e("./reactProdInvariant"),l=e("./ReactCurrentOwner"),p=e("fbjs/lib/invariant"),c=e("fbjs/lib/warning"),u="function"==typeof Array.from&&"function"==typeof Map&&n(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&n(Map.prototype.keys)&&"function"==typeof Set&&n(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&n(Set.prototype.keys),m,h,f,g,y,b,_;if(u){var v=new Map,E=new Set;m=function(e,t){v.set(e,t)},h=function(e){return v.get(e)},f=function(e){v["delete"](e)},g=function(){return Array.from(v.keys())},y=function(e){E.add(e)},b=function(e){E["delete"](e)},_=function(){return Array.from(E.keys())}}else{var C={},T={},I=function(e){return"."+e},S=function(e){return parseInt(e.substr(1),10)};m=function(e,t){var n=I(e);C[n]=t},h=function(e){var t=I(e);return C[t]},f=function(e){var t=I(e);delete C[t]},g=function(){return Object.keys(C).map(S)},y=function(e){var t=I(e);T[t]=!0},b=function(e){var t=I(e);delete T[t]},_=function(){return Object.keys(T).map(S)}}var k=[],x={onSetChildren:function(e,t){var n=h(e);n?void 0:d("144"),n.childIDs=t;for(var o=0;o<t.length;o++){var r=t[o],i=h(r);i?void 0:d("140"),null!=i.childIDs||"object"!=typeof i.element||null==i.element?void 0:d("141"),i.isMounted?void 0:d("71"),null==i.parentID&&(i.parentID=e),i.parentID===e?void 0:d("142",r,i.parentID,e)}},onBeforeMountComponent:function(e,t,n){m(e,{element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0})},onBeforeUpdateComponent:function(e,t){var n=h(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=h(e);t?void 0:d("144"),t.isMounted=!0;var n=0===t.parentID;n&&y(e)},onUpdateComponent:function(e){var t=h(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=h(e);if(t){t.isMounted=!1;var n=0===t.parentID;n&&b(e)}k.push(e)},purgeUnmountedComponents:function(){if(!x._preventPurging){for(var e=0,t;e<k.length;e++)t=k[e],o(t);k.length=0}},isMounted:function(e){var t=h(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=i(e),o=e._owner;t+=r(n,e._source,o&&o.getName())}var s=l.current,d=s&&s._debugID;return t+=x.getStackAddendumByID(d),t},getStackAddendumByID:function(e){for(var t="";e;)t+=s(e),e=x.getParentID(e);return t},getChildIDs:function(e){var t=h(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=x.getElement(e);return t?i(t):null},getElement:function(e){var t=h(e);return t?t.element:null},getOwnerID:function(e){var t=x.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=h(e);return t?t.parentID:null},getSource:function(e){var t=h(e),n=t?t.element:null,o=null==n?null:n._source;return o},getText:function(e){var t=x.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=h(e);return t?t.updateCount:0},getRootIDs:_,getRegisteredIDs:g,pushNonStandardWarningStack:function(e,t){if("function"==typeof console.reactStack){var n=[],o=l.current,r=o&&o._debugID;try{for(e&&n.push({name:r?x.getDisplayName(r):null,fileName:t?t.fileName:null,lineNumber:t?t.lineNumber:null});r;){var i=x.getElement(r),s=x.getParentID(r),d=x.getOwnerID(r),p=d?x.getDisplayName(d):null,c=i&&i._source;n.push({name:p,fileName:c?c.fileName:null,lineNumber:c?c.lineNumber:null}),r=s}}catch(e){}console.reactStack(n)}},popNonStandardWarningStack:function(){"function"!=typeof console.reactStackEnd||console.reactStackEnd()}};t.exports=x},{"./ReactCurrentOwner":339,"./reactProdInvariant":356,"fbjs/lib/invariant":29,"fbjs/lib/warning":36}],339:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";t.exports={current:null}},{}],340:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./ReactElement"),o=n.createFactory;var r={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),var:o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};t.exports=r},{"./ReactElement":341,"./ReactElementValidator":343}],341:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e){return e.ref!==void 0}function o(e){return e.key!==void 0}var r=e("object-assign"),s=e("./ReactCurrentOwner"),i=e("fbjs/lib/warning"),d=e("./canDefineProperty"),l=Object.prototype.hasOwnProperty,p=e("./ReactElementSymbol"),c={key:!0,ref:!0,__self:!0,__source:!0},u=function(e,t,n,o,r,i,s){return!1,{$$typeof:p,type:e,key:t,ref:n,props:s,_owner:i}},m,h;u.createElement=function(e,t,r){var d={},p=null,m=null,h=null,f=null,g;if(null!=t)for(g in n(t)&&(m=t.ref),o(t)&&(p=""+t.key),h=void 0===t.__self?null:t.__self,f=void 0===t.__source?null:t.__source,t)l.call(t,g)&&!c.hasOwnProperty(g)&&(d[g]=t[g]);var y=arguments.length-2;if(1==y)d.children=r;else if(1<y){for(var b=Array(y),_=0;_<y;_++)b[_]=arguments[_+2];!1,d.children=b}if(e&&e.defaultProps){var i=e.defaultProps;for(g in i)void 0===d[g]&&(d[g]=i[g])}return u(e,p,m,h,f,s.current,d)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){var n=u(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},u.cloneElement=function(e,t,d){var p=r({},e.props),m=e.key,h=e.ref,f=e._self,g=e._source,y=e._owner,b;// Self is preserved since the owner is preserved.
// Source is preserved since cloneElement is unlikely to be targeted by a
// Owner will be preserved, unless ref is overridden
if(null!=t){n(t)&&(h=t.ref,y=s.current),o(t)&&(m=""+t.key);var _;for(b in e.type&&e.type.defaultProps&&(_=e.type.defaultProps),t)l.call(t,b)&&!c.hasOwnProperty(b)&&(p[b]=void 0===t[b]&&void 0!==_?_[b]:t[b])}var v=arguments.length-2;if(1==v)p.children=d;else if(1<v){for(var E=Array(v),C=0;C<v;C++)E[C]=arguments[C+2];p.children=E}return u(e.type,m,h,f,g,y,p)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===p},t.exports=u},{"./ReactCurrentOwner":339,"./ReactElementSymbol":342,"./canDefineProperty":349,"fbjs/lib/warning":36,"object-assign":190}],342:[function(e,t,n){arguments[4][249][0].apply(n,arguments)},{dup:249}],343:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(){if(i.current){var e=i.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e){if(null!==e&&e!==void 0&&e.__source!==void 0){var t=e.__source,n=t.fileName.replace(/^.*[\\\/]/,""),o=t.lineNumber;return" Check your code at "+n+":"+o+"."}return""}function r(e){var t=n();if(!t){var o="string"==typeof e?e:e.displayName||e.name;o&&(t=" Check the top-level render call using <"+o+">.")}return t}function s(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=y.uniqueKey||(y.uniqueKey={}),o=r(t);if(!n[o]){n[o]=!0;var s="";e&&e._owner&&e._owner!==i.current&&(s=" It was passed a child from "+e._owner.getName()+"."),void 0}}}function d(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0,o;n<e.length;n++)o=e[n],c.isValidElement(o)&&s(o,t);else if(c.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var r=h(e);if(r&&r!==e.entries)for(var i=r.call(e),d;!(d=i.next()).done;)c.isValidElement(d.value)&&s(d.value,t)}}function l(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&u(t.propTypes,e.props,"prop",n,e,null),"function"==typeof t.getDefaultProps&&void 0}}var i=e("./ReactCurrentOwner"),p=e("./ReactComponentTreeHook"),c=e("./ReactElement"),u=e("./checkReactTypeSpec"),m=e("./canDefineProperty"),h=e("./getIteratorFn"),f=e("fbjs/lib/warning"),g=e("./lowPriorityWarning"),y={},b={createElement:function(e,t){var r="string"==typeof e||"function"==typeof e;if(!r&&"function"!=typeof e&&"string"!=typeof e){var s="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(s+=" You likely forgot to export your component from the file it's defined in.");var u=o(t);s+=u?u:n(),s+=p.getCurrentStackAddendum();var m=null!==t&&void 0!==t&&void 0!==t.__source?t.__source:null;p.pushNonStandardWarningStack(!0,m),void 0,p.popNonStandardWarningStack()}var h=c.createElement.apply(this,arguments);if(null==h)return h;if(r)for(var f=2;f<arguments.length;f++)d(arguments[f],e);return l(h),h},createFactory:function(e){var t=b.createElement.bind(null,e);return t.type=e,!1,t},cloneElement:function(){for(var e=c.cloneElement.apply(this,arguments),t=2;t<arguments.length;t++)d(arguments[t],e.type);return l(e),e}};t.exports=b},{"./ReactComponentTreeHook":338,"./ReactCurrentOwner":339,"./ReactElement":341,"./canDefineProperty":349,"./checkReactTypeSpec":350,"./getIteratorFn":352,"./lowPriorityWarning":354,"fbjs/lib/warning":36}],344:[function(e,t){/**
 * Copyright (c) 2015-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(){}var o=e("fbjs/lib/warning");t.exports={isMounted:function(){return!1},enqueueCallback:function(){},enqueueForceUpdate:function(e){n(e,"forceUpdate")},enqueueReplaceState:function(e){n(e,"replaceState")},enqueueSetState:function(e){n(e,"setState")}}},{"fbjs/lib/warning":36}],345:[function(e,t,n){arguments[4][267][0].apply(n,arguments)},{dup:267}],346:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./ReactElement"),o=n.isValidElement,r=e("prop-types/factory");t.exports=r(o)},{"./ReactElement":341,"prop-types/factory":193}],347:[function(e,t,n){arguments[4][268][0].apply(n,arguments)},{dup:268}],348:[function(e,t,n){arguments[4][276][0].apply(n,arguments)},{dup:276}],349:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";t.exports=!1},{}],350:[function(e,t){(function(n){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var o=e("./reactProdInvariant"),r=e("./ReactPropTypeLocationNames"),i=e("./ReactPropTypesSecret"),s=e("fbjs/lib/invariant"),d=e("fbjs/lib/warning");"undefined"!=typeof n&&n.env;var l={};t.exports=function(e,t,n,s){for(var d in e)if(e.hasOwnProperty(d)){var p;try{"function"==typeof e[d]?void 0:o("84",s||"React class",r[n],d),p=e[d](t,d,s,n,null,i)}catch(e){p=e}if(void 0,p instanceof Error&&!(p.message in l)){l[p.message]=!0;!1,void 0}}}}).call(this,e("_process"))},{"./ReactComponentTreeHook":338,"./ReactPropTypeLocationNames":345,"./ReactPropTypesSecret":347,"./reactProdInvariant":356,_process:191,"fbjs/lib/invariant":29,"fbjs/lib/warning":36}],351:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./ReactBaseClasses"),o=n.Component,r=e("./ReactElement"),i=r.isValidElement,s=e("./ReactNoopUpdateQueue"),d=e("create-react-class/factory");t.exports=d(o,i,s)},{"./ReactBaseClasses":336,"./ReactElement":341,"./ReactNoopUpdateQueue":344,"create-react-class/factory":11}],352:[function(e,t,n){arguments[4][309][0].apply(n,arguments)},{dup:309}],353:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */"use strict";var n=1;t.exports=function(){return n++}},{}],354:[function(e,t){/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";t.exports=function(){}},{}],355:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";var n=e("./reactProdInvariant"),o=e("./ReactElement"),r=e("fbjs/lib/invariant");t.exports=function(e){return o.isValidElement(e)?void 0:n("143"),e}},{"./ReactElement":341,"./reactProdInvariant":356,"fbjs/lib/invariant":29}],356:[function(e,t,n){arguments[4][318][0].apply(n,arguments)},{dup:318}],357:[function(e,t){/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */"use strict";function n(e,t){return e&&"object"==typeof e&&null!=e.key?p.escape(e.key):t.toString(36)}function o(e,t,l,c){var h=typeof e;if(("undefined"==h||"boolean"==h)&&(e=null),null===e||"string"==h||"number"==h||"object"==h&&e.$$typeof===s)return l(c,e,""===t?u+n(e,0):t),1;var f=0,g=""===t?u:t+m,y,b;if(Array.isArray(e))for(var _=0;_<e.length;_++)y=e[_],b=g+n(y,_),f+=o(y,b,l,c);else{var i=d(e);if(i){var v=i.call(e),E;if(i!==e.entries)for(var C=0;!(E=v.next()).done;)y=E.value,b=g+n(y,C++),f+=o(y,b,l,c);else for(var T;!(E=v.next()).done;)T=E.value,T&&(y=T[1],b=g+p.escape(T[0])+m+n(y,0),f+=o(y,b,l,c))}else if("object"==h){var I="",S=e+"";r("31","[object Object]"===S?"object with keys {"+Object.keys(e).join(", ")+"}":S,I)}}return f}var r=e("./reactProdInvariant"),i=e("./ReactCurrentOwner"),s=e("./ReactElementSymbol"),d=e("./getIteratorFn"),l=e("fbjs/lib/invariant"),p=e("./KeyEscapeUtils"),c=e("fbjs/lib/warning"),u=".",m=":";t.exports=function(e,t,n){return null==e?0:o(e,"",t,n)}},{"./KeyEscapeUtils":333,"./ReactCurrentOwner":339,"./ReactElementSymbol":342,"./getIteratorFn":352,"./reactProdInvariant":356,"fbjs/lib/invariant":29,"fbjs/lib/warning":36}],358:[function(e,t){"use strict";t.exports=e("./lib/React")},{"./lib/React":335}],359:[function(e,t,n){(function(t,o){function r(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,s=Function.prototype.apply,d=Array.prototype.slice,l={},p=0;n.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=p++,o=!(2>arguments.length)&&d.call(arguments,1);return l[t]=!0,i(function(){l[t]&&(o?e.apply(null,o):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof o?o:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":191,timers:359}],360:[function(e,t){(function(e){/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var n,o,r,i,s,d,l,p,c,u,m,h,g,f,y,b,_,v,E;(function(n){function o(e,t){return e!==r&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,o){return e[n]=t?t(n,o):o}}var r="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:{};"function"==typeof define&&define.amd?define("tslib",["exports"],function(e){n(o(r,o(e)))}):"object"==typeof t&&"object"==typeof t.exports?n(o(r,o(t.exports))):n(o(r))})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};n=function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)},o=Object.assign||function(e){for(var t=1,o=arguments.length,n;t<o;t++)for(var r in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},r=function(n,o){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&0>o.indexOf(t)&&(e[t]=n[t]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,t=Object.getOwnPropertySymbols(n);r<t.length;r++)0>o.indexOf(t[r])&&(e[t[r]]=n[t[r]]);return e},i=function(e,t,n,o){var s=arguments.length,l=3>s?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o,r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var d=e.length-1;0<=d;d--)(r=e[d])&&(l=(3>s?r(l):3<s?r(t,n,l):r(t,n))||l);return 3<s&&l&&Object.defineProperty(t,n,l),l},s=function(e,t){return function(n,o){t(n,o,e)}},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function s(e){try{l(o.next(e))}catch(t){i(t)}}function d(e){try{l(o["throw"](e))}catch(t){i(t)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,d)}l((o=o.apply(e,t||[])).next())})},p=function(e,n){function o(e){return function(t){return r([e,t])}}function r(o){if(s)throw new TypeError("Generator is already executing.");for(;i;)try{if(s=1,d&&(l=d[2&o[0]?"return":o[0]?"throw":"next"])&&!(l=l.call(d,o[1])).done)return l;switch((d=0,l)&&(o=[0,l.value]),o[0]){case 0:case 1:l=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,d=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if((l=i.trys,!(l=0<l.length&&l[l.length-1]))&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!l||o[1]>l[0]&&o[1]<l[3])){i.label=o[1];break}if(6===o[0]&&i.label<l[1]){i.label=l[1],l=o;break}if(l&&i.label<l[2]){i.label=l[2],i.ops.push(o);break}l[2]&&i.ops.pop(),i.trys.pop();continue;}o=n.call(e,i)}catch(t){o=[6,t],d=0}finally{s=l=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var i={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},s,d,l,p;return p={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(p[Symbol.iterator]=function(){return this}),p},c=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},u=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},m=function(t,o){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),i=[],d,r;try{for(;(void 0===o||0<o--)&&!(d=s.next()).done;)i.push(d.value)}catch(e){r={error:e}}finally{try{d&&!d.done&&(n=s["return"])&&n.call(s)}finally{if(r)throw r.error}}return i},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e},g=function(e){return this instanceof g?(this.v=e,this):new g(e)},f=function(e,t,n){function o(e){c[e]&&(m[e]=function(t){return new Promise(function(n,o){1<u.push([e,t,n,o])||r(e,t)})})}function r(e,t){try{s(c[e](t))}catch(t){p(u[0][3],t)}}function s(e){e.value instanceof g?Promise.resolve(e.value.v).then(d,l):p(u[0][2],e)}function d(e){r("next",e)}function l(e){r("throw",e)}function p(e,t){(e(t),u.shift(),u.length)&&r(u[0][0],u[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=n.apply(e,t||[]),u=[],m;return m={},o("next"),o("throw"),o("return"),m[Symbol.asyncIterator]=function(){return this},m},y=function(e){function t(t,n){e[t]&&(o[t]=function(o){return(r=!r)?{value:g(e[t](o)),done:"return"===t}:n?n(o):o})}var o,r;return o={},t("next"),t("throw",function(t){throw t}),t("return"),o[Symbol.iterator]=function(){return this},o},b=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof u?u(e):e[Symbol.iterator]()},_=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},E=function(e){return e&&e.__esModule?e:{default:e}},e("__extends",n),e("__assign",o),e("__rest",r),e("__decorate",i),e("__param",s),e("__metadata",d),e("__awaiter",l),e("__generator",p),e("__exportStar",c),e("__values",u),e("__read",m),e("__spread",h),e("__await",g),e("__asyncGenerator",f),e("__asyncDelegator",y),e("__asyncValues",b),e("__makeTemplateObject",_),e("__importStar",v),e("__importDefault",E)})}).call(this,"undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global)},{}],361:[function(){(function(e){"use strict";function t(e){if("string"!=typeof e&&(e+=""),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e+=""),e}function o(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return b.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function i(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function s(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function d(e){var t=new FileReader,n=s(t);return t.readAsArrayBuffer(e),n}function l(e){var t=new FileReader,n=s(t);return t.readAsText(e),n}function p(e){for(var t=new Uint8Array(e),n=Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,!e)this._bodyText="";else if("string"==typeof e)this._bodyText=e;else if(b.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(b.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(b.arrayBuffer&&b.blob&&v(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else if(b.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||E(e)))this._bodyArrayBuffer=c(e);else throw new Error("unsupported BodyInit type");this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var e=i(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e){var t=e.toUpperCase();return-1<C.indexOf(t)?t:e}function h(e,t){t=t||{};var n=t.body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e+"";if(this.credentials=t.credentials||this.credentials||"omit",(t.headers||!this.headers)&&(this.headers=new r(t.headers)),this.method=m(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(r))}}),t}function g(e){var t=new r,n=e.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(e){var n=e.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();t.append(o,r)}}),t}function y(e,t){t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=200<=this.status&&300>this.status,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var b={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(b.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(e){return e&&DataView.prototype.isPrototypeOf(e)},E=ArrayBuffer.isView||function(e){return e&&-1<_.indexOf(Object.prototype.toString.call(e))};r.prototype.append=function(e,o){e=t(e),o=n(o);var r=this.map[e];this.map[e]=r?r+","+o:o},r.prototype["delete"]=function(e){delete this.map[t(e)]},r.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,o){this.map[t(e)]=n(o)},r.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),o(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),o(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),o(e)},b.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},u.call(h.prototype),u.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},y.error=function(){var e=new y(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];y.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new y(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=h,e.Response=y,e.fetch=function(e,t){return new Promise(function(n,o){var r=new h(e,t),i=new XMLHttpRequest;i.onload=function(){var e={status:i.status,statusText:i.statusText,headers:g(i.getAllResponseHeaders()||"")};e.url="responseURL"in i?i.responseURL:e.headers.get("X-Request-URL");var t="response"in i?i.response:i.responseText;n(new y(t,e))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(r.method,r.url,!0),"include"===r.credentials?i.withCredentials=!0:"omit"===r.credentials&&(i.withCredentials=!1),"responseType"in i&&b.blob&&(i.responseType="blob"),r.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send("undefined"==typeof r._bodyInit?null:r._bodyInit)})},e.fetch.polyfill=!0}})("undefined"==typeof self?this:self)},{}],362:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("mobx"),p=e("../auth/auth"),c=o(p),u=e("../data/constants"),m=o(u),h=e("../data/firebase"),f=o(h),g=e("../data/local-store"),y=o(g),b=(_=l.observable.ref,v=function(){function e(){i(this,e),r(this,"app",E,this),r(this,"appName",C,this),r(this,"apiKey",T,this),r(this,"attemptingClearCompleted",I,this),r(this,"bulkAddingItems",S,this),r(this,"editingItemId",k,this),r(this,"firebaseApp",x,this),r(this,"loadingData",N,this),r(this,"showingFirebaseSettings",w,this),r(this,"state",R,this),r(this,"viewingSettings",P,this)}return d(e,[{key:"initializeFirebaseApp",value:function(){var e=this;f.default.init(this.appName,this.apiKey).then((0,l.action)("firebase:init",function(t){if(e.app=t,e.app){e.state=m.default.CONFIRMING_AUTH;try{c.default.listenForChange()}catch(t){e.state=m.default.NEEDS_FIREBASE_CONFIG}}else e.state=m.default.NEEDS_FIREBASE_CONFIG}))}},{key:"updateFirebaseSettings",value:function(e,t){(e!==this.appName||t!==this.apiKey)&&(y.default.set({appName:e,apiKey:t}),this.appName=e,this.apiKey=t,this.initializeFirebaseApp()),this.showingFirebaseSettings=!1}}]),e}(),E=s(v.prototype,"app",[_],{enumerable:!0,initializer:function(){return null}}),C=s(v.prototype,"appName",[l.observable],{enumerable:!0,initializer:function(){return y.default.get("appName")||"imalist"}}),T=s(v.prototype,"apiKey",[l.observable],{enumerable:!0,initializer:function(){return y.default.get("apiKey")}}),I=s(v.prototype,"attemptingClearCompleted",[l.observable],{enumerable:!0,initializer:function(){return!1}}),S=s(v.prototype,"bulkAddingItems",[l.observable],{enumerable:!0,initializer:function(){return!1}}),k=s(v.prototype,"editingItemId",[l.observable],{enumerable:!0,initializer:function(){return null}}),x=s(v.prototype,"firebaseApp",[l.observable],{enumerable:!0,initializer:function(){return null}}),N=s(v.prototype,"loadingData",[l.observable],{enumerable:!0,initializer:function(){return!1}}),w=s(v.prototype,"showingFirebaseSettings",[l.observable],{enumerable:!0,initializer:function(){return!1}}),R=s(v.prototype,"state",[l.observable],{enumerable:!0,initializer:function(){return m.default.INITIALIZING_FIREBASE}}),P=s(v.prototype,"viewingSettings",[l.observable],{enumerable:!0,initializer:function(){return!1}}),v),_,v,E,C,T,I,S,k,x,N,w,R,P;n.default=new b,t.exports=n["default"]},{"../auth/auth":367,"../data/constants":374,"../data/firebase":375,"../data/local-store":376,mobx:189}],363:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("classnames"),p=o(l),c=e("mobx"),u=e("mobx-react"),m=e("react"),h=o(m),f=e("../auth/auth"),g=o(f),y=e("../auth/auth-state"),b=o(y),_=e("../lists/lists-store"),v=o(_),E=e("../modal/action-sheet"),C=o(E),T=e("../items/items"),I=o(T),S=e("../lists/lists"),k=o(S),x=e("../auth/passcode"),N=o(x),w=(0,u.observer)(R=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),d(t,[{key:"componentWillMount",value:function(){this.listsStore=new v.default,this.listsStore.listen(),g.default.fetchUserData().then(function(){g.default.listenForUserDataChanges()})}},{key:"componentWillUnmount",value:function(){this.listsStore.stopListening()}},{key:"render",value:function(){var e=this;return h.default.createElement("div",{className:(0,p.default)({app:!0,"showing-items":this.listsStore.showingItems})},h.default.createElement(k.default,{listsStore:this.listsStore,onLogout:(0,c.action)("logout",function(){return b.default.attemptingLogout=!0})}),h.default.createElement(I.default,{list:this.listsStore.selectedList,isLoading:this.listsStore.isLoading,onShowLists:(0,c.action)("show:lists",function(){return e.listsStore.selectList(null)})}),h.default.createElement(C.default,{isShowing:b.default.attemptingLogout,actions:[{label:"Log Out",handler:(0,c.action)("logout:confirmed",function(){return g.default.logout()})},{label:"Cancel",handler:(0,c.action)("logout:cancelled",function(){return b.default.attemptingLogout=!1}),type:"cancel"}]}),h.default.createElement(N.default,null))}}]),t}(m.Component))||R,R;n.default=w,t.exports=n["default"]},{"../auth/auth":367,"../auth/auth-state":366,"../auth/passcode":370,"../items/items":383,"../lists/lists":391,"../lists/lists-store":390,"../modal/action-sheet":393,classnames:10,mobx:189,"mobx-react":188,react:358}],364:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("mobx"),p=e("mobx-react"),c=e("react"),u=o(c),m=e("./app-state"),h=o(m),f=e("../data/constants"),g=o(f),y=e("./app"),b=o(y),_=e("../auth/login"),v=o(_),E=function(){return u.default.createElement("div",{className:"app-loading"},u.default.createElement("header",{className:"fixed"}),u.default.createElement("p",{className:"no-items"},u.default.createElement("i",{className:"fa fa-hourglass-end fa-spin"})," Loading..."))},C=(0,p.observer)(T=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),d(t,[{key:"componentWillMount",value:function(){(0,l.action)("root:will:mount",function(){h.default.initializeFirebaseApp()})()}},{key:"render",value:function(){switch(h.default.state){case g.default.INITIALIZING_FIREBASE:case g.default.CONFIRMING_AUTH:return u.default.createElement(E,null);case g.default.NEEDS_FIREBASE_CONFIG:case g.default.NEEDS_AUTH:return u.default.createElement(v.default,null);default:return u.default.createElement(b.default,null);}}}]),t}(c.Component))||T,T;n.default=C,t.exports=n["default"]},{"../auth/login":368,"../data/constants":374,"./app":363,"./app-state":362,mobx:189,"mobx-react":188,react:358}],365:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=e("mobx"),u=e("mobx-react"),m=e("react"),h=o(m),f=e("./app-state"),g=o(f),y=e("../auth/auth"),b=o(y),_=e("../auth/auth-state"),v=o(_),E=e("../modal/modal"),C=o(E),T=e("../auth/passcode-input"),I=o(T),S=(0,u.observer)(x=(N=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),r(o,"oldPasscode",w,o),r(o,"newPasscode",R,o),r(o,"error",P,o),r(o,"_updateOldPasscode",A,o),r(o,"_updateNewPasscode",D,o),r(o,"_cancel",O,o),r(o,"_submit",M,o),n),s(o,d)}return d(t,e),p(t,[{key:"render",value:function(){return h.default.createElement("div",null,h.default.createElement("header",{className:"fixed"},h.default.createElement("h1",null,"Settings")),h.default.createElement("form",{onSubmit:this._submit},this._oldPasscode(),h.default.createElement("fieldset",null,h.default.createElement("label",null,v.default.user.hasPasscode?"New passcode":"Passcode"),h.default.createElement(I.default,{ref:"newPasscode",value:this.newPasscode,onChange:this._updateNewPasscode})),h.default.createElement("div",{className:"actions"},h.default.createElement("button",{className:"submit",disabled:!this.isValid},"Save"),h.default.createElement("button",{className:"cancel",onClick:this._cancel},"Cancel"))))}},{key:"_oldPasscode",value:function(){return v.default.user.hasPasscode?h.default.createElement("fieldset",null,h.default.createElement("label",null,"Old passcode"),h.default.createElement(I.default,{ref:"oldPasscode",value:this.oldPasscode,onChange:this._updateOldPasscode}),h.default.createElement("p",{className:"error"},this.error)):null}},{key:"componentDidMount",value:function(){this.refs[v.default.user.hasPasscode?"oldPasscode":"newPasscode"].focus()}},{key:"isValid",get:function(){return v.default.user.hasPasscode?4===this.oldPasscode.length&&4===this.newPasscode.length:4===this.newPasscode.length}}]),t}(m.Component),w=l(N.prototype,"oldPasscode",[c.observable],{enumerable:!0,initializer:function(){return""}}),R=l(N.prototype,"newPasscode",[c.observable],{enumerable:!0,initializer:function(){return""}}),P=l(N.prototype,"error",[c.observable],{enumerable:!0,initializer:function(){return""}}),l(N.prototype,"isValid",[c.computed],Object.getOwnPropertyDescriptor(N.prototype,"isValid"),N.prototype),A=l(N.prototype,"_updateOldPasscode",[c.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.oldPasscode=t}}}),D=l(N.prototype,"_updateNewPasscode",[c.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.newPasscode=t}}}),O=l(N.prototype,"_cancel",[c.action],{enumerable:!0,initializer:function(){return function(t){t.preventDefault(),g.default.viewingSettings=!1}}}),M=l(N.prototype,"_submit",[c.action],{enumerable:!0,initializer:function(){var t=this;return function(n){return n.preventDefault(),t.isValid?v.default.user.hasPasscode&&!b.default.matchesUserPasscode(t.oldPasscode)?(t.error="Passcode incorrect",void t.refs.oldPasscode.focus()):void(b.default.updatePasscode(t.newPasscode),g.default.viewingSettings=!1):void 0}}}),N))||x,k=(0,u.observer)(function(){return h.default.createElement(C.default,{className:"app-settings",isShowing:g.default.viewingSettings},h.default.createElement(S,null))}),x,N,w,R,P,A,D,O,M;n.default=k,t.exports=n["default"]},{"../auth/auth":367,"../auth/auth-state":366,"../auth/passcode-input":369,"../modal/modal":394,"./app-state":362,mobx:189,"mobx-react":188,react:358}],366:[function(e,t,n){"use strict";function o(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}function s(){}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("mobx"),p=e("./user-model"),c=function(e){return e&&e.__esModule?e:{default:e}}(p),u=(m=function(){function e(){var t=this;r(this,e),o(this,"attemptingLogin",h,this),o(this,"attemptingLogout",f,this),o(this,"user",g,this),o(this,"isAuthenticated",y,this),o(this,"loginFailed",b,this),o(this,"passcodeNeeded",_,this),this.onPasscodeSubmit=s,this.onPasscodeCancel=s,(0,l.action)("create:user",function(){t.user=new c.default})()}return d(e,[{key:"resetPasscodeCallbacks",value:function(){this.onPasscodeSubmit=s,this.onPasscodeCancel=s}}]),e}(),h=i(m.prototype,"attemptingLogin",[l.observable],{enumerable:!0,initializer:function(){return!1}}),f=i(m.prototype,"attemptingLogout",[l.observable],{enumerable:!0,initializer:function(){return!1}}),g=i(m.prototype,"user",[l.observable],{enumerable:!0,initializer:null}),y=i(m.prototype,"isAuthenticated",[l.observable],{enumerable:!0,initializer:function(){return!1}}),b=i(m.prototype,"loginFailed",[l.observable],{enumerable:!0,initializer:function(){return!1}}),_=i(m.prototype,"passcodeNeeded",[l.observable],{enumerable:!0,initializer:function(){return!1}}),m),m,h,f,g,y,b,_;n.default=new u,t.exports=n["default"]},{"./user-model":372,mobx:189}],367:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=e("md5"),l=o(d),p=e("mobx"),c=e("../app/app-state"),u=o(c),m=e("./auth-state"),h=o(m),f=e("../data/constants"),g=o(f),y=e("../data/firebase"),b=o(y),_=e("./user-model"),v=o(_),E=e("./users-api"),C=o(E),T=(I=function(){function e(){i(this,e),r(this,"_setUserPasscode",S,this),this.usersApi=new C.default}return s(e,[{key:"isAuthenticated",value:function(){return!!this._firebaseUser()}},{key:"fetchUserData",value:function(){return this.usersApi.fetchUsersData(h.default.user.id).then(this._setUserPasscode)}},{key:"listenForUserDataChanges",value:function(){this.usersApi.listen(h.default.user.id,this._setUserPasscode)}},{key:"matchesUserPasscode",value:function(e){return h.default.user.hashedPasscode===(0,l.default)(e)}},{key:"updatePasscode",value:function(e){var t=(0,l.default)(e);h.default.user.hashedPasscode=t,this.usersApi.updateUser({id:h.default.user.id,hashedPasscode:t})}},{key:"listenForChange",value:function(){var e=this;b.default.onAuthStateChanged((0,p.action)("auth:state:changed",function(){e._updateAuthStatus()}))}},{key:"_updateAuthStatus",value:function(){var e=this._firebaseUser()||{},t=e.uid,n=e.email;h.default.user=u.default.app?new v.default({id:t,email:n}):new v.default,h.default.isAuthenticated=!!u.default.app&&this.isAuthenticated(),u.default.state=h.default.isAuthenticated?g.default.READY:g.default.NEEDS_AUTH}},{key:"login",value:function(e,t){var n=this;h.default.attemptingLogin=!0,h.default.loginFailed=!1,b.default.signIn(e,t).then((0,p.action)("login:succeeded",function(){h.default.attemptingLogin=!1,h.default.loginFailed=!1,n._updateAuthStatus()})).catch((0,p.action)("login:failed",function(){h.default.attemptingLogin=!1,h.default.loginFailed=!0}))}},{key:"logout",value:function(){var e=this;b.default.signOut().then((0,p.action)("logged:out",function(){h.default.attemptingLogout=!1,e._updateAuthStatus()}))}},{key:"_firebaseUser",value:function(){return b.default.getCurrentUser()}}]),e}(),S=function(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(I.prototype,"_setUserPasscode",[p.action],{enumerable:!0,initializer:function(){return function(e){h.default.user.hashedPasscode=e?e.hashedPasscode:void 0}}}),I),I,S;n.default=new T,t.exports=n["default"]},{"../app/app-state":362,"../data/constants":374,"../data/firebase":375,"./auth-state":366,"./user-model":372,"./users-api":373,md5:187,mobx:189}],368:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("mobx"),i=e("mobx-react"),s=e("react"),d=o(s),l=e("../app/app-state"),p=o(l),c=e("./auth-state"),u=o(c),m=e("./auth"),h=o(m),f=e("./settings"),g=o(f),y=(0,i.observer)(function(){var t=void 0,n=void 0,e=(0,r.action)("attempt:login",function(o){o.preventDefault(),h.default.login(t.value,n.value)}),o=(0,r.action)("show:firebase:settings",function(){p.default.showingFirebaseSettings=!0});return d.default.createElement("div",{className:"login"},d.default.createElement("header",null,d.default.createElement("h1",null,"Please Log In")),d.default.createElement("div",{className:"container"},u.default.loginFailed?d.default.createElement("p",{className:"error"},"Login failed. Please try again."):null,d.default.createElement("form",{onSubmit:e},d.default.createElement("fieldset",null,d.default.createElement("label",null,"Email"),d.default.createElement("input",{ref:function(e){return t=e},type:"email"})),d.default.createElement("fieldset",null,d.default.createElement("label",null,"Password"),d.default.createElement("input",{ref:function(e){return n=e},type:"password"})),d.default.createElement("div",{className:"actions"},u.default.attemptingLogin?d.default.createElement("span",null,d.default.createElement("i",{className:"fa fa-spinner fa-spin"})):d.default.createElement("button",null,"Log In")))),d.default.createElement("footer",null,d.default.createElement("button",{onClick:o},d.default.createElement("i",{className:"fa fa-cog"}))),d.default.createElement(g.default,null))});n.default=y,t.exports=n["default"]},{"../app/app-state":362,"./auth":367,"./auth-state":366,"./settings":371,mobx:189,"mobx-react":188,react:358}],369:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(e,t,n){return e.substr(0,t)+n+e.substr(t+n.length)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=e("lodash"),c=o(p),u=e("mobx-react"),m=e("react"),h=o(m),f={8:"Backspace",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9"},g=(0,u.observer)(y=function(e){function t(){var e,n,o,s;r(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return s=(n=(o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),o._updatePasscode=function(e){return function(t){var n=f[t.which];if(null!=n){var r=o.props.value,i="Backspace"===n?r.substr(0,r.length-1):d(r,e,n);o.props.onChange(i)}}},o.focus=function(){var e=o.refs["passcode"+o._focusIndex()];e&&e.focus()},n),i(o,s)}return s(t,e),l(t,[{key:"render",value:function(){var e=this;return h.default.createElement("div",{className:"passcode-input"},c.default.map(c.default.range(4),function(t){return h.default.createElement("input",{key:t,ref:"passcode"+t,type:"tel",value:e.props.value.charAt(t)?"*":"",onFocus:e.focus,onKeyUp:e._updatePasscode(t),tabIndex:t===e._focusIndex()?0:-1})}))}},{key:"componentDidUpdate",value:function(){this.focus()}},{key:"_focusIndex",value:function(){var e=this.props.value.length;return 3<e?3:e}}]),t}(m.Component))||y,y;n.default=g,t.exports=n["default"]},{lodash:177,"mobx-react":188,react:358}],370:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=e("mobx"),u=e("mobx-react"),m=e("react"),h=o(m),f=e("./auth"),g=o(f),y=e("./auth-state"),b=o(y),_=e("../modal/modal"),v=o(_),E=e("./passcode-input"),C=o(E),T=(0,u.observer)(S=(k=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),r(o,"passcode",x,o),r(o,"error",N,o),r(o,"_updatePasscode",w,o),r(o,"_cancel",R,o),r(o,"_submit",P,o),n),s(o,d)}return d(t,e),p(t,[{key:"render",value:function(){return h.default.createElement("form",{onSubmit:this._submit},h.default.createElement("fieldset",null,h.default.createElement("label",null,this._message()),h.default.createElement(C.default,{ref:"passcode",className:"passcode-input",type:"tel",value:this.passcode,onChange:this._updatePasscode}),h.default.createElement("p",{className:"error"},this.error)),h.default.createElement("div",{className:"actions"},this._submitButton(),h.default.createElement("button",{className:"cancel",onClick:this._cancel},"Cancel")))}},{key:"componentDidMount",value:function(){this.refs.passcode.focus()}},{key:"_message",value:function(){return b.default.user.hasPasscode?"Enter your passcode":"Set a passcode"}},{key:"_submitButton",value:function(){return b.default.user.hasPasscode?null:h.default.createElement("button",{className:"submit",disabled:!this.isValid},"Set Passcode")}},{key:"isValid",get:function(){return 4===this.passcode.length}}]),t}(m.Component),x=l(k.prototype,"passcode",[c.observable],{enumerable:!0,initializer:function(){return""}}),N=l(k.prototype,"error",[c.observable],{enumerable:!0,initializer:function(){return""}}),l(k.prototype,"isValid",[c.computed],Object.getOwnPropertyDescriptor(k.prototype,"isValid"),k.prototype),w=l(k.prototype,"_updatePasscode",[c.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.passcode!==t&&(e.error="",e.passcode=t),4===t.length&&b.default.user.hasPasscode&&e._submit()}}}),R=l(k.prototype,"_cancel",[c.action],{enumerable:!0,initializer:function(){return function(t){t.preventDefault(),b.default.passcodeNeeded=!1,b.default.onPasscodeCancel()}}}),P=l(k.prototype,"_submit",[c.action],{enumerable:!0,initializer:function(){var t=this;return function(n){if(n&&n.preventDefault(),!!t.isValid){if(!b.default.user.hasPasscode)g.default.updatePasscode(t.passcode);else if(!g.default.matchesUserPasscode(t.passcode))return t.error="Passcode incorrect",void t.refs.passcode.focus();b.default.passcodeNeeded=!1,b.default.onPasscodeSubmit()}}}}),k))||S,I=(0,u.observer)(function(){return h.default.createElement(v.default,{className:"passcode",isShowing:b.default.passcodeNeeded},h.default.createElement(T,null))}),S,k,x,N,w,R,P;n.default=I,t.exports=n["default"]},{"../modal/modal":394,"./auth":367,"./auth-state":366,"./passcode-input":369,mobx:189,"mobx-react":188,react:358}],371:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=e("mobx"),u=e("mobx-react"),m=e("react"),h=o(m),f=e("../app/app-state"),g=o(f),y=e("../data/constants"),b=o(y),_=e("../modal/modal"),v=o(_),E=(0,u.observer)(I=(S=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),r(o,"_updateFirebaseSettings",k,o),r(o,"_cancel",x,o),n),s(o,d)}return d(t,e),p(t,[{key:"componentDidUpdate",value:function(){g.default.showingFirebaseSettings&&this.refs.appName.focus()}},{key:"render",value:function(){return h.default.createElement("div",null,h.default.createElement("header",null,h.default.createElement("h1",null,"Firebase Settings")),h.default.createElement("form",{onSubmit:this._updateFirebaseSettings},h.default.createElement("fieldset",null,h.default.createElement("label",null,"App Name"),h.default.createElement("input",{ref:"appName",placeholder:"App Name",defaultValue:g.default.appName})),h.default.createElement("fieldset",null,h.default.createElement("label",null,"API Key"),h.default.createElement("input",{ref:"apiKey",placeholder:"API Key",defaultValue:g.default.apiKey})),h.default.createElement("div",{className:"actions"},h.default.createElement("button",{className:"save",type:"submit"},"Save"),h.default.createElement("button",{className:"cancel",onClick:this._cancel},"Cancel"))))}}]),t}(m.Component),k=l(S.prototype,"_updateFirebaseSettings",[c.action],{enumerable:!0,initializer:function(){var t=this;return function(n){n.preventDefault(),g.default.updateFirebaseSettings(t.refs.appName.value,t.refs.apiKey.value)}}}),x=l(S.prototype,"_cancel",[c.action],{enumerable:!0,initializer:function(){return function(t){t.preventDefault(),g.default.showingFirebaseSettings=!1}}}),S))||I,C=function(){return g.default.state===b.default.NEEDS_FIREBASE_CONFIG||g.default.showingFirebaseSettings},T=(0,u.observer)(function(){return h.default.createElement(v.default,{className:"auth-settings light-box",isShowing:C()},h.default.createElement(E,null))}),I,S,k,x;n.default=T,t.exports=n["default"]},{"../app/app-state":362,"../data/constants":374,"../modal/modal":394,mobx:189,"mobx-react":188,react:358}],372:[function(e,t,n){"use strict";function o(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=e("mobx"),l=(p=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.id,i=t.email;r(this,e),o(this,"id",c,this),o(this,"email",u,this),o(this,"hashedPasscode",m,this),this.id=n,this.email=i}return s(e,[{key:"hasPasscode",get:function(){return!!this.hashedPasscode}}]),e}(),c=i(p.prototype,"id",[d.observable],{enumerable:!0,initializer:null}),u=i(p.prototype,"email",[d.observable],{enumerable:!0,initializer:null}),m=i(p.prototype,"hashedPasscode",[d.observable],{enumerable:!0,initializer:null}),i(p.prototype,"hasPasscode",[d.computed],Object.getOwnPropertyDescriptor(p.prototype,"hasPasscode"),p.prototype),p),p,c,u,m;n.default=l,t.exports=n["default"]},{mobx:189}],373:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=e("../data/firebase"),s=function(e){return e&&e.__esModule?e:{default:e}}(i),d=function(){function e(){o(this,e)}return r(e,[{key:"fetchUsersData",value:function(e){return s.default.when("users/"+e)}},{key:"listen",value:function(e,t){s.default.watchDoc("users/"+e,function(e){var n=e.value;t(n)})}},{key:"updateUser",value:function(e){s.default.update("users/"+e.id,e)}}]),e}();n.default=d,t.exports=n["default"]},{"../data/firebase":375}],374:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={INITIALIZING_FIREBASE:"INITIALIZING_FIREBASE",CONFIRMING_AUTH:"CONFIRMING_AUTH",NEEDS_FIREBASE_CONFIG:"NEEDS_FIREBASE_CONFIG",NEEDS_AUTH:"NEEDS_AUTH",READY:"READY"},t.exports=n["default"]},{}],375:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return p.default.app.auth()}function i(){return d.default.firestore()}Object.defineProperty(n,"__esModule",{value:!0});var s=e("firebase/app"),d=o(s);e("firebase/auth"),e("firebase/database"),e("firebase/firestore");var l=e("../app/app-state"),p=o(l),c={init:function(e,t){var n=p.default.app?p.default.app.delete():Promise.resolve();return n.then(function(){var n=d.default.initializeApp({apiKey:t,projectId:e});return d.default.firestore().enablePersistence().catch(function(e){console.log("Failed to enable offline persistence:",e)}).then(function(){return n})})},getCurrentUser:function(){return r().currentUser},onAuthStateChanged:function(e){r().onAuthStateChanged(e)},signIn:function(e,t){return r().signInWithEmailAndPassword(e,t)},signOut:function(){return r().signOut()},watchCollection:function(e,t){return i().collection(e).onSnapshot(function(e){e.docChanges.forEach(function(e){t[e.type]&&t[e.type]({id:e.doc.id,value:e.doc.data()})})})},watchDoc:function(e,t){return i().doc(e).onSnapshot(function(e){e.exists&&t({id:e.id,value:e.data()})})},when:function(e){return i().doc(e).get().then(function(e){return e.exists?{id:e.key,value:e.data()}:void 0})},whenLoaded:function(){return Promise.all([i().collection("lists").get(),i().collection("users").get()])},add:function(e,t){return i().collection(e).add(t).then(function(e){return e.id})},remove:function(e){return i().doc(e).delete()},update:function(e,t){return i().doc(e).set(t,{merge:!0})}};("development"===window.env||"test"===window.env)&&(window.firebase=c),n.default=c,t.exports=n["default"]},{"../app/app-state":362,"firebase/app":37,"firebase/auth":38,"firebase/database":39,"firebase/firestore":40}],376:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o="imalist";n.default={data:JSON.parse(localStorage[o]||"{}"),get:function(e){return this.data[e]},set:function(e,t){if("string"==typeof e)this.data[e]=t;else for(var n in e)t=e[n],this.data[n]=t;return localStorage[o]=JSON.stringify(this.data),t}},t.exports=n["default"]},{}],377:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("react"),p=o(l),c=e("react-textarea-autosize"),u=o(c),m=e("../modal/modal"),h=o(m),f=function(e){function t(){var e,n,o,s;r(this,t);for(var d=arguments.length,l=Array(d),p=0;p<d;p++)l[p]=arguments[p];return s=(n=(o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o),o._format=function(){var e=o.refs.bulkItems.value;o.refs.bulkItems.value=e.split("\n").map(function(e){return e=e.replace(/^\s*[^a-zA-Z#]+\s*/,""),e=e.replace(/^\s*#+\s*/,"# "),e}).join("\n")},o._add=function(){o.props.onAdd(o.refs.bulkItems.value.split("\n"))},n),i(o,s)}return s(t,e),d(t,[{key:"componentDidMount",value:function(){this.refs.bulkItems.focus()}},{key:"render",value:function(){var e=Array(40).join(" ");return p.default.createElement("div",null,p.default.createElement(u.default,{ref:"bulkItems",minRows:5,placeholder:"\u2022 Separate items with new lines"+e+"\u2022 Prefix with # to make a label"}),p.default.createElement("footer",{className:"actions"},p.default.createElement("button",{className:"cancel",onClick:this.props.onCancel},"Cancel"),p.default.createElement("button",{className:"format",onClick:this._format},"Format"),p.default.createElement("button",{className:"submit",onClick:this._add},"Add")))}}]),t}(l.Component);n.default=function(e){return p.default.createElement(h.default,{className:"bulk-add light-box",isShowing:e.isShowing},p.default.createElement(f,e))},t.exports=n["default"]},{"../modal/modal":394,react:358,"react-textarea-autosize":332}],378:[function(e,t,n){"use strict";function o(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=e("lodash"),l=function(e){return e&&e.__esModule?e:{default:e}}(d),p=e("mobx"),c=(u=function(){function e(t,n){r(this,e),o(this,"id",m,this),o(this,"name",h,this),o(this,"order",f,this),o(this,"type",g,this),o(this,"isChecked",y,this),this.id=t,this.update(n)}return s(e,[{key:"update",value:function(e){l.default.extend(this,l.default.pick(e,"name","order","type","isChecked"))}}]),e}(),m=i(u.prototype,"id",[p.observable],{enumerable:!0,initializer:null}),h=i(u.prototype,"name",[p.observable],{enumerable:!0,initializer:null}),f=i(u.prototype,"order",[p.observable],{enumerable:!0,initializer:function(){return 0}}),g=i(u.prototype,"type",[p.observable],{enumerable:!0,initializer:null}),y=i(u.prototype,"isChecked",[p.observable],{enumerable:!0,initializer:function(){return!1}}),u),u,m,h,f,g,y;n.default=c,t.exports=n["default"]},{lodash:177,mobx:189}],379:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=e("classnames"),u=o(c),m=e("mobx"),h=e("mobx-react"),f=e("react"),g=o(f),y=e("react-dom"),b=e("react-sortable-hoc"),_=e("./name"),v=o(_),E=(0,b.SortableHandle)(function(){return g.default.createElement("i",{className:"sort-handle fa fa-ellipsis-v"})}),C=(0,h.observer)(T=(I=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),r(o,"isEditing",S,o),r(o,"showingOptions",k,o),o._toggleChecked=function(){(0,y.findDOMNode)(o.refs.toggleChecked).blur(),o.props.onUpdate({id:o.props.model.id,isChecked:!o.props.model.isChecked})},o._toggleCollapsed=function(){o.props.onToggleCollapsed(o.props.model)},r(o,"_onEditingStatusChange",x,o),o._updateName=function(e){o.props.onUpdate({id:o.props.model.id,name:e})},r(o,"_toggleOptions",N,o),o._remove=function(){o.props.onRemove(o.props.model)},n),s(o,d)}return d(t,e),p(t,[{key:"componentDidMount",value:function(){this._checkEditing()}},{key:"componentDidUpdate",value:function(){this._checkEditing()}},{key:"_checkEditing",value:function(){this.props.isEditing&&!this.isEditing&&(this.isEditing=!0,this.refs.name.focus()),!this.props.isEditing&&this.isEditing&&(this.isEditing=!1)}},{key:"render",value:function(){var e=this.props.model.type||"todo";return g.default.createElement("li",{className:(0,u.default)("item","type-"+e,{"is-checked":this.props.model.isChecked,"is-collapsed":this.props.isCollapsed,"showing-options":this.showingOptions})},g.default.createElement("span",{className:"item-container"},g.default.createElement(v.default,{ref:"name",name:this.props.model.name,onEditingStatusChange:this._onEditingStatusChange,onUpdate:this._updateName,onNext:this.props.onNext}),g.default.createElement("button",{ref:"toggleChecked",className:"toggle-checked",onClick:this._toggleChecked},g.default.createElement("i",{className:"fa fa-check"})),g.default.createElement("button",{className:"toggle-collapsed",onClick:this._toggleCollapsed},g.default.createElement("i",{className:"fa fa-caret-down"})),g.default.createElement(E,null),g.default.createElement("div",{className:"options"},g.default.createElement("button",{className:"toggle-options",onClick:this._toggleOptions},g.default.createElement("i",{className:"fa fa-ellipsis-h"})),g.default.createElement("button",{className:"remove",onClick:this._remove},g.default.createElement("i",{className:"fa fa-times"})))))}}]),t}(f.Component),S=l(I.prototype,"isEditing",[m.observable],{enumerable:!0,initializer:function(){return!1}}),k=l(I.prototype,"showingOptions",[m.observable],{enumerable:!0,initializer:function(){return!1}}),l(I.prototype,"_checkEditing",[m.action],Object.getOwnPropertyDescriptor(I.prototype,"_checkEditing"),I.prototype),x=l(I.prototype,"_onEditingStatusChange",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.props.onEdit(e.props.model,t),e.showingOptions=!1}}}),N=l(I.prototype,"_toggleOptions",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.showingOptions=!e.showingOptions}}}),I))||T,T,I,S,k,x,N;n.default=(0,b.SortableElement)(C),t.exports=n["default"]},{"./name":384,classnames:10,mobx:189,"mobx-react":188,react:358,"react-dom":198,"react-sortable-hoc":329}],380:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("lodash"),p=o(l),c=e("mobx"),u=e("../data/firebase"),m=o(u),h=e("../data/local-store"),f=o(h),g=(y=function(){function e(t){i(this,e),r(this,"_itemAdded",b,this),r(this,"_itemUpdated",_,this),r(this,"_itemRemoved",v,this),this.listId=t}return d(e,[{key:"fetchCollapsed",value:function(){return(f.default.get("collapsed")||{})[this.listId]}},{key:"saveCollapsed",value:function(e){var t=f.default.get("collapsed")||{};p.default.keys(e).length?t[this.listId]=e:delete t[this.listId],f.default.set("collapsed",t)}},{key:"listen",value:function(e){this.callbacks=e,this._stopListening=m.default.watchCollection("lists/"+this.listId+"/items",{added:this._itemAdded,modified:this._itemUpdated,removed:this._itemRemoved})}},{key:"stopListening",value:function(){this._stopListening&&this._stopListening()}},{key:"addItem",value:function(e){return m.default.add("lists/"+this.listId+"/items",e)}},{key:"updateItem",value:function(e){m.default.update("lists/"+this.listId+"/items/"+e.id,e)}},{key:"removeItem",value:function(e){m.default.remove("lists/"+this.listId+"/items/"+e.id)}}]),e}(),b=s(y.prototype,"_itemAdded",[c.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var n=t.id,o=t.value;e.callbacks.onAdd(n,o)}}}),_=s(y.prototype,"_itemUpdated",[c.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var n=t.id,o=t.value;e.callbacks.onUpdate(n,o)}}}),v=s(y.prototype,"_itemRemoved",[c.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var n=t.id,o=t.value;e.callbacks.onRemove(n,o)}}}),y),y,b,_,v;n.default=g,t.exports=n["default"]},{"../data/firebase":375,"../data/local-store":376,lodash:177,mobx:189}],381:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},c=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("lodash"),m=o(u),h=e("mobx"),f=e("mobx-react"),g=e("react"),y=o(g),b=e("react-sortable-hoc"),_=e("../app/app-state"),v=o(_),E=e("../modal/action-sheet"),C=o(E),T=e("./item"),I=o(T),S=(0,f.observer)(N=(w=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),r(o,"attempingRemoveLabel",R,o),r(o,"_next",P,o),r(o,"_editItem",A,o),r(o,"_updateItem",D,o),r(o,"_attemptRemoveItem",O,o),r(o,"_removeItem",M,o),r(o,"_removeLabelAndItems",L,o),r(o,"_removeLabel",F,o),r(o,"_cancelRemoveLabel",U,o),r(o,"_toggleCollapsed",j,o),n),s(o,d)}return d(t,e),c(t,[{key:"render",value:function(){var e=this;return y.default.createElement("ul",null,m.default.map(this.props.itemsStore.items,function(t,n){var o=e.props.itemsStore.isCollapsed(t);return y.default.createElement(I.default,{key:t.id,index:n,disabled:o&&"label"!==t.type,model:t,isEditing:t.id===v.default.editingItemId,isCollapsed:o,onEdit:e._editItem,onUpdate:e._updateItem,onRemove:e._attemptRemoveItem,onNext:function(){return e._next(n)},onToggleCollapsed:e._toggleCollapsed})}),y.default.createElement(C.default,{isShowing:!!this.attempingRemoveLabel,actions:[{label:"Remove label and all its items",handler:this._removeLabelAndItems},{label:"Remove label only",handler:this._removeLabel},{label:"Cancel",handler:this._cancelRemoveLabel,type:"cancel"}]}))}}]),t}(g.Component),R=l(w.prototype,"attempingRemoveLabel",[h.observable],{enumerable:!0,initializer:function(){return null}}),P=l(w.prototype,"_next",[h.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var n=e.props.itemsStore.items[t+1];n?"label"===n.type?e.props.addItem({order:n.order}):e._editItem(n,!0):e.props.addItem()}}}),A=l(w.prototype,"_editItem",[h.action],{enumerable:!0,initializer:function(){var e=this;return function(t,n){e.props.itemsStore.editItem(n?t.id:null)}}}),D=l(w.prototype,"_updateItem",[h.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.props.itemsStore.updateItem(t)}}}),O=l(w.prototype,"_attemptRemoveItem",[h.action],{enumerable:!0,initializer:function(){var e=this;return function(t){if("label"===t.type){var n=e.props.itemsStore.associatedItemsForLabel(t).value();n.length?e.attempingRemoveLabel=t:e._removeItem(t)}else e._removeItem(t)}}}),M=l(w.prototype,"_removeItem",[h.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.props.itemsStore.removeItem(t)}}}),L=l(w.prototype,"_removeLabelAndItems",[h.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.props.itemsStore.removeLabelAndItems(e.attempingRemoveLabel),e.attempingRemoveLabel=null}}}),F=l(w.prototype,"_removeLabel",[h.action],{enumerable:!0,initializer:function(){var e=this;return function(){e._removeItem(e.attempingRemoveLabel),e.attempingRemoveLabel=null}}}),U=l(w.prototype,"_cancelRemoveLabel",[h.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.attempingRemoveLabel=null}}}),j=l(w.prototype,"_toggleCollapsed",[h.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.props.itemsStore.toggleCollapsed(t)}}}),w))||N,k=(0,b.SortableContainer)(S),x=(0,f.observer)(function(e){if(e.isLoading)return y.default.createElement("p",{className:"no-items"},y.default.createElement("i",{className:"fa fa-hourglass-end fa-spin"})," Loading...");return e.itemsStore.none?y.default.createElement("p",{className:"no-items"},"No List Selected"):e.canShow?e.itemsStore.items.length?y.default.createElement(k,p({},e,{helperClass:"sorting-helper",onSortEnd:function(t){var n=t.oldIndex,o=t.newIndex;if(n!==o){var r=e.itemsStore.items[n],i=e.itemsStore.sortedIds(n,o);e.itemsStore.expand(r),m.default.each(i,function(t,n){return e.itemsStore.updateItem({id:t,order:n})})}},useDragHandle:!0})):y.default.createElement("p",{className:"no-items"},"No Items"):y.default.createElement("p",{className:"no-items"},"Private list - need passcode")}),N,w,R,P,A,D,O,M,L,F,U,j;n.default=x,t.exports=n["default"]},{"../app/app-state":362,"../modal/action-sheet":393,"./item":379,lodash:177,mobx:189,"mobx-react":188,react:358,"react-sortable-hoc":329}],382:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=e("lodash"),c=o(p),u=e("mobx"),m=e("react-sortable-hoc"),h=e("../app/app-state"),f=o(h),g=e("./item-model"),y=o(g),b=e("./items-api"),_=o(b),v=(E=function(){function e(t){var n=this;s(this,e),i(this,"_items",C,this),i(this,"_collapsed",T,this),this._onUpdate=function(e,t){n._items.get(e).update(t)},this._onRemove=function(e){var t=n._items.get(e);t&&(n.expand(t),n._items.delete(e))},i(this,"updateItem",I,this),i(this,"removeItem",S,this),this.listId=t,this.itemsApi=new _.default(t),this._collapsed=u.observable.map(this.itemsApi.fetchCollapsed())}return l(e,[{key:"itemById",value:function(e){return this._items.get(e)}},{key:"associatedItemsForLabel",value:function(e){return(0,c.default)(this.items).dropWhile(function(t){return t.order<=e.order}).takeWhile(function(e){return"label"!==e.type})}},{key:"listen",value:function(){var e=this;this.itemsApi.listen({onAdd:function(t,n){e._items.set(t,new y.default(t,n)),n._tempId===e._justAddedId&&(f.default.editingItemId=t,e._justAddedId=null)},onUpdate:this._onUpdate,onRemove:this._onRemove})}},{key:"stopListening",value:function(){this.itemsApi.stopListening()}},{key:"_newOrder",value:function(e){return e[0]?e[0].order:this._items.size?c.default.last(this.items).order+1:0}},{key:"_newItem",value:function(e){var t=e.order,n=e._tempId,o=e.type,r=void 0===o?"todo":o,i=e.name,s=void 0===i?"":i,d={order:t,type:r,name:s,isChecked:!1};return n&&(d._tempId=n),d}},{key:"addItem",value:function(e){var t=e.type,n=e.order,o=[];null==n?"label"===t?n=this._newOrder([]):(o=this._trailingCollapsed(),n=this._newOrder(o)):o=c.default.takeRightWhile(this.items,function(e){return e.order>=n});var r=this._justAddedId=""+new Date().valueOf()+Math.random(),i=this._newItem({_tempId:r,order:n,type:t});this._reorder(o,n+1),this.itemsApi.addItem(i)}},{key:"bulkAdd",value:function(e){var t=this,n=this._trailingCollapsed(),o=this._newOrder(n),r=(0,c.default)(e).reject(function(e){return!e.trim()}).map(function(e,n){var r="todo";return /^\s*#/.test(e)&&(r="label",e=e.replace(/^\s*#+\s+/,"")),t._newItem({name:e,order:o+n,type:r})}).value();this._reorder(n,o+r.length),c.default.each(r,function(e){return t.itemsApi.addItem(e)})}},{key:"_trailingCollapsed",value:function(){var e=this;return c.default.takeRightWhile(this.items,function(t){return e.isCollapsed(t)})}},{key:"_reorder",value:function(e,t){var n=this;c.default.each(e,function(e,o){n.updateItem({id:e.id,order:t+o})})}},{key:"sortedIds",value:function(e,t){var n=this.items[e],o=c.default.map(this.items,"id");if("label"!==n.type||!this.isCollapsed(n))return(0,m.arrayMove)(o,e,t);var i=this.associatedItemsForLabel(n).value();if(!i.length)return(0,m.arrayMove)(o,e,t);var s=o.splice(e,i.length+1),d=t>e?t-i.length:t,l=this._items.get(o[d-1]);return l&&"label"===l.type&&this.isCollapsed(l)&&(d+=this.associatedItemsForLabel(l).value().length),o.splice.apply(o,[d,0].concat(r(s))),o}},{key:"editItem",value:function(e){f.default.editingItemId=e}},{key:"removeLabelAndItems",value:function(e){this.removeItem(e),this.associatedItemsForLabel(e).each(this.removeItem)}},{key:"isCollapsed",value:function(e){return!!this._collapsedItems[e.id]}},{key:"toggleCollapsed",value:function(e){var t=this._collapsed.get(e.id);t?this.expand(e):this._collapse(e)}},{key:"_collapse",value:function(e){this._collapsed.set(e.id,!0),this._saveCollapsed()}},{key:"expand",value:function(e){this._collapsed.delete(e.id),this._saveCollapsed()}},{key:"expandAll",value:function(){this._collapsed=u.observable.map(),this._saveCollapsed()}},{key:"_saveCollapsed",value:function(){this.itemsApi.saveCollapsed(this._collapsed.toJS())}},{key:"clearCompleted",value:function(){var e=this;c.default.each(this._items.values(),function(t){t.isChecked&&e.itemsApi.removeItem(t)})}},{key:"items",get:function(){return c.default.sortBy(this._items.values(),"order")}},{key:"_collapsedItems",get:function(){var e=this,t={},n=this.items;return n.length?(c.default.each(this._collapsed.keys(),function(n){var o=e._items.get(n);o&&(t[o.id]=!0,e.associatedItemsForLabel(o).each(function(e){t[e.id]=!0}))}),t):t}},{key:"hasCheckedItems",get:function(){return c.default.some(this._items.values(),{isChecked:!0})}}]),e}(),C=d(E.prototype,"_items",[u.observable],{enumerable:!0,initializer:function(){return u.observable.map()}}),T=d(E.prototype,"_collapsed",[u.observable],{enumerable:!0,initializer:null}),d(E.prototype,"items",[u.computed],Object.getOwnPropertyDescriptor(E.prototype,"items"),E.prototype),d(E.prototype,"_collapsedItems",[u.computed],Object.getOwnPropertyDescriptor(E.prototype,"_collapsedItems"),E.prototype),d(E.prototype,"hasCheckedItems",[u.computed],Object.getOwnPropertyDescriptor(E.prototype,"hasCheckedItems"),E.prototype),I=d(E.prototype,"updateItem",[u.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e._onUpdate(t.id,t),e.itemsApi.updateItem(t)}}}),S=d(E.prototype,"removeItem",[u.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e._onRemove(t.id),e.itemsApi.removeItem(t)}}}),E),E,C,T,I,S;n.default=v,t.exports=n["default"]},{"../app/app-state":362,"./item-model":378,"./items-api":380,lodash:177,mobx:189,"react-sortable-hoc":329}],383:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=e("classnames"),u=o(c),m=e("mobx"),h=e("mobx-react"),f=e("react"),g=o(f),y=e("../auth/auth-state"),b=o(y),_=e("../modal/action-sheet"),v=o(_),E=e("./bulk-add"),C=o(E),T=e("./items-list"),I=o(T),S=(0,h.observer)(k=(x=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),r(o,"attemptingClearCompleted",N,o),r(o,"bulkAddingItems",w,o),r(o,"canShow",R,o),r(o,"_attemptClearCompleted",P,o),r(o,"_cancelClearCompleted",A,o),r(o,"_clearCompleted",D,o),r(o,"_onBack",O,o),r(o,"_addItem",M,o),r(o,"_attemptBulkAdd",L,o),r(o,"_cancelBulkAdd",F,o),r(o,"_bulkAddItems",U,o),n),s(o,d)}return d(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this;this._checkCanShow(),(0,m.autorun)(function(){e.canShow&&e._dismissKeyboard()})}},{key:"componentDidUpdate",value:function(){this._checkCanShow()}},{key:"_checkCanShow",value:function(){this.props.list.id!==this.listId&&(this.listId=this.props.list.id,this._setCanShow())}},{key:"_dismissKeyboard",value:function(){this.refs.back.focus(),this.refs.back.blur()}},{key:"_setCanShow",value:function(){var e=this;(0,m.action)("set:can:show",function(){e.canShow=!e.props.list.isPrivate,e.canShow||(b.default.passcodeNeeded=!0,b.default.onPasscodeSubmit=(0,m.action)("passcode:confirmed",function(){e.canShow=!0,b.default.resetPasscodeCallbacks()}),b.default.onPasscodeCancel=(0,m.action)("passcode:cancelled",function(){e.props.onShowLists(),b.default.resetPasscodeCallbacks()}))})()}},{key:"render",value:function(){var e=this;return g.default.createElement("div",{className:(0,u.default)({items:!0,"has-checked-items":this.props.list.itemsStore.hasCheckedItems})},g.default.createElement("header",{className:"fixed"},g.default.createElement("h1",null,this.props.list.name),g.default.createElement("button",{ref:"back",className:"back",onClick:this._onBack},g.default.createElement("i",{className:"fa fa-chevron-left"}))),g.default.createElement(I.default,{addItem:this._addItem,canShow:this.canShow,isLoading:this.props.isLoading,itemsStore:this.props.list.itemsStore}),g.default.createElement("footer",null,g.default.createElement("button",{onClick:function(){return e._addItem({},!0)}},g.default.createElement("span",null,"Item"),g.default.createElement("i",{className:"fa fa-plus"})),g.default.createElement("button",{onClick:function(){return e._addItem({type:"label"})}},g.default.createElement("span",null,"Label"),g.default.createElement("i",{className:"fa fa-plus-square"})),g.default.createElement("button",{onClick:this._attemptBulkAdd},g.default.createElement("span",null,"Bulk"),g.default.createElement("i",{className:"fa fa-plus-square-o"})),g.default.createElement("div",{className:"spacer"}),g.default.createElement("button",{className:"clear-completed",onClick:this._attemptClearCompleted},g.default.createElement("span",null,"Clear ",g.default.createElement("i",{className:"fa fa-check-square-o"})),g.default.createElement("i",{className:"fa fa-ban"}))),g.default.createElement(C.default,{isShowing:this.bulkAddingItems,onCancel:this._cancelBulkAdd,onAdd:this._bulkAddItems}),g.default.createElement(v.default,{isShowing:this.attemptingClearCompleted,actions:[{label:"Clear Completed",handler:this._clearCompleted},{label:"Cancel",handler:this._cancelClearCompleted,type:"cancel"}]}))}}]),t}(f.Component),N=l(x.prototype,"attemptingClearCompleted",[m.observable],{enumerable:!0,initializer:function(){return!1}}),w=l(x.prototype,"bulkAddingItems",[m.observable],{enumerable:!0,initializer:function(){return!1}}),R=l(x.prototype,"canShow",[m.observable],{enumerable:!0,initializer:function(){return!1}}),P=l(x.prototype,"_attemptClearCompleted",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.attemptingClearCompleted=!0}}}),A=l(x.prototype,"_cancelClearCompleted",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.attemptingClearCompleted=!1}}}),D=l(x.prototype,"_clearCompleted",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.attemptingClearCompleted=!1,e.props.list.itemsStore.clearCompleted(e.props.list)}}}),O=l(x.prototype,"_onBack",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.props.onShowLists()}}}),M=l(x.prototype,"_addItem",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},n=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(n){var o=document.querySelector("#focus-fixer");o||(o=document.createElement("input"),o.id="focus-fixer",document.body.appendChild(o)),o.focus()}e.props.list.itemsStore.addItem(t)}}}),L=l(x.prototype,"_attemptBulkAdd",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.bulkAddingItems=!0}}}),F=l(x.prototype,"_cancelBulkAdd",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.bulkAddingItems=!1}}}),U=l(x.prototype,"_bulkAddItems",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.bulkAddingItems=!1,e.props.list.itemsStore.bulkAdd(t)}}}),x))||k,k,x,N,w,R,P,A,D,O,M,L,F,U;n.default=S,t.exports=n["default"]},{"../auth/auth-state":366,"../modal/action-sheet":393,"./bulk-add":377,"./items-list":381,classnames:10,mobx:189,"mobx-react":188,react:358}],384:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var d=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("react"),p=o(l),c=e("react-dom"),u=e("react-textarea-autosize"),m=o(u),h=function(e){function t(){var e,n,o,s;r(this,t);for(var d=arguments.length,l=Array(d),p=0;p<d;p++)l[p]=arguments[p];return s=(n=(o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o),o._updateName=function(){o.props.onUpdate(o._value())},o._onKeyDown=function(t){var e="Enter"===t.key;e&&t.shiftKey||e&&o._shouldAddNewLine()||e&&(t.preventDefault(),clearTimeout(o._nextTimeout),o._nextTimeout=setTimeout(function(){o._nextTimeout=null,o.hasValue()&&o.props.onNext()},200))},o._onKeyUp=function(t){"Escape"===t.key&&o._getDOMNode().blur()},n),i(o,s)}return s(t,e),d(t,[{key:"render",value:function(){var e=this;return p.default.createElement(m.default,{ref:"name",className:"name",value:this.props.name,onFocus:function(){return e.props.onEditingStatusChange(!0)},onBlur:function(){return e.props.onEditingStatusChange(!1)},onChange:this._updateName,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp})}},{key:"focus",value:function(){this._getDOMNode().focus()}},{key:"hasValue",value:function(){return!!this._value().trim()}},{key:"_value",value:function(){return this._getDOMNode().value||""}},{key:"_shouldAddNewLine",value:function(){var e=!!this._nextTimeout;return clearTimeout(this._nextTimeout),this._nextTimeout=null,e}},{key:"_getDOMNode",value:function(){return(0,c.findDOMNode)(this.refs.name)}}]),t}(l.Component);n.default=h,t.exports=n["default"]},{react:358,"react-dom":198,"react-textarea-autosize":332}],385:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=e("classnames"),u=o(c),m=e("mobx"),h=e("mobx-react"),f=e("react"),g=o(f),y=e("../modal/action-sheet"),b=o(y),_=e("../modal/modal"),v=o(_),E=(0,h.observer)(C=(T=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),r(o,"attemptingRemove",I,o),o._updateName=function(){o.props.onUpdateName(o.refs.name.value)},r(o,"_attemptRemove",S,o),o._remove=function(){o.props.onRemove(o.props.model)},r(o,"_cancelRemove",k,o),n),s(o,d)}return d(t,e),p(t,[{key:"render",value:function(){var e=this.props.model;return g.default.createElement("div",{className:(0,u.default)({"is-shared":e.shared,"is-private":e.isPrivate,"is-owner":this.props.isOwner})},g.default.createElement("fieldset",null,g.default.createElement("input",{ref:"name",value:e.name,onChange:this._updateName}),g.default.createElement("div",{className:"list-actions"},g.default.createElement("button",{className:"toggle-shared",onClick:this.props.onToggleShared},g.default.createElement("i",{className:"fa fa-share-alt"}),e.shared?"Unshare":"Share"),g.default.createElement("button",{className:"toggle-is-private",onClick:this.props.onToggleIsPrivate},g.default.createElement("i",{className:"fa fa-"+(e.isPrivate?"unlock-alt":"lock")}),e.isPrivate?"Unlock":"Lock"),g.default.createElement("button",{className:"remove",onClick:this._attemptRemove},g.default.createElement("i",{className:"fa fa-times"}),"Remove"))),g.default.createElement("div",{className:"actions"},g.default.createElement("button",{onClick:this.props.onClose},"Done")),g.default.createElement(b.default,{isShowing:this.attemptingRemove,actions:[{label:"Remove List",handler:this._remove},{label:"Cancel",handler:this._cancelRemove,type:"cancel"}]}))}},{key:"componentDidMount",value:function(){this.refs.name.focus()}}]),t}(f.Component),I=l(T.prototype,"attemptingRemove",[m.observable],{enumerable:!0,initializer:function(){return!1}}),S=l(T.prototype,"_attemptRemove",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.attemptingRemove=!0}}}),k=l(T.prototype,"_cancelRemove",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.attemptingRemove=!1}}}),T))||C,C,T,I,S,k;n.default=function(e){return g.default.createElement(v.default,{className:"list-editor light-box",isShowing:e.isEditing},g.default.createElement(E,e))},t.exports=n["default"]},{"../modal/action-sheet":393,"../modal/modal":394,classnames:10,mobx:189,"mobx-react":188,react:358}],386:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("lodash"),p=o(l),c=e("mobx"),u=e("../items/items-store"),m=o(u),h=(f=function(){function e(t,n){i(this,e),r(this,"id",g,this),r(this,"name",y,this),r(this,"order",b,this),r(this,"owner",_,this),r(this,"shared",v,this),r(this,"isPrivate",E,this),r(this,"itemsStore",C,this),this.id=t,this._updatePrimitiveProps(n),this.itemsStore=new m.default(t),this.itemsStore.listen()}return d(e,[{key:"update",value:function(e){this._updatePrimitiveProps(e)}},{key:"_updatePrimitiveProps",value:function(e){p.default.extend(this,p.default.pick(e,"name","order","owner","shared","isPrivate"))}},{key:"willRemove",value:function(){this.itemsStore.stopListening()}}]),e}(),g=s(f.prototype,"id",[c.observable],{enumerable:!0,initializer:null}),y=s(f.prototype,"name",[c.observable],{enumerable:!0,initializer:null}),b=s(f.prototype,"order",[c.observable],{enumerable:!0,initializer:function(){return 0}}),_=s(f.prototype,"owner",[c.observable],{enumerable:!0,initializer:null}),v=s(f.prototype,"shared",[c.observable],{enumerable:!0,initializer:function(){return!1}}),E=s(f.prototype,"isPrivate",[c.observable],{enumerable:!0,initializer:function(){return!1}}),C=s(f.prototype,"itemsStore",[c.observable],{enumerable:!0,initializer:null}),f),f,g,y,b,_,v,E,C;n.default=h,t.exports=n["default"]},{"../items/items-store":382,lodash:177,mobx:189}],387:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=e("classnames"),u=o(c),m=e("mobx"),h=e("mobx-react"),f=e("react"),g=o(f),y=e("react-sortable-hoc"),b=e("./list-editor"),_=o(b),v=(0,y.SortableHandle)(function(){return g.default.createElement("i",{className:"sort-handle fa fa-ellipsis-v"})}),E=(0,h.observer)(C=(T=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),o._select=function(){o.props.onSelect(o.props.model)},r(o,"_openEditor",I,o),r(o,"_closeEditor",S,o),o._updateName=function(e){o.props.onUpdate({id:o.props.model.id,name:e})},o._toggleShared=function(){o.props.onUpdate({id:o.props.model.id,shared:!o.props.model.shared})},o._toggleIsPrivate=function(){o.props.onUpdatePrivacy({id:o.props.model.id,willBePrivate:!o.props.model.isPrivate})},o._remove=function(){o.props.onRemove(o.props.model)},n),s(o,d)}return d(t,e),p(t,[{key:"render",value:function(){var e=this.props.model;return g.default.createElement("li",{className:(0,u.default)({list:!0,"is-shared":e.shared,"is-private":e.isPrivate,"is-owner":this.props.isOwner,"is-selected":this.props.isSelected})},g.default.createElement("span",{className:"list-container"},g.default.createElement(v,null),g.default.createElement("span",{className:"name",onClick:this._select},this.props.model.name),g.default.createElement("div",{className:"indicators"},g.default.createElement("i",{className:"is-shared-indicator fa fa-share-alt-square",title:"Shared"}),g.default.createElement("i",{className:"is-private-indicator fa fa-lock",title:"Locked"})),g.default.createElement("button",{className:"edit-list",onClick:this._openEditor},g.default.createElement("i",{className:"fa fa-ellipsis-h"})),g.default.createElement(_.default,{model:this.props.model,isOwner:this.props.isOwner,isEditing:this.props.isEditing,onUpdateName:this._updateName,onToggleShared:this._toggleShared,onToggleIsPrivate:this._toggleIsPrivate,onRemove:this._remove,onClose:this._closeEditor})))}}]),t}(f.Component),I=l(T.prototype,"_openEditor",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.props.onEdit(e.props.model)}}}),S=l(T.prototype,"_closeEditor",[m.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.props.onEdit({id:null})}}}),T))||C,C,T,I,S;n.default=(0,y.SortableElement)(E),t.exports=n["default"]},{"./list-editor":385,classnames:10,mobx:189,"mobx-react":188,react:358,"react-sortable-hoc":329}],388:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=e("mobx"),p=e("../data/firebase"),c=o(p),u=e("../data/local-store"),m=o(u),h=(f=function(){function e(){i(this,e),r(this,"_listAdded",g,this),r(this,"_listUpdated",y,this),r(this,"_listRemoved",b,this),r(this,"_dataLoaded",_,this)}return d(e,[{key:"fetchSelectedList",value:function(){return m.default.get("selectedListId")}},{key:"saveSelectedList",value:function(e){m.default.set({selectedListId:e})}},{key:"listen",value:function(e){this.callbacks=e,this._stopListening=c.default.watchCollection("lists",{added:this._listAdded,modified:this._listUpdated,removed:this._listRemoved}),c.default.whenLoaded().then(this._dataLoaded)}},{key:"stopListening",value:function(){this._stopListening&&this._stopListening()}},{key:"addList",value:function(e){return c.default.add("lists",e)}},{key:"updateList",value:function(e){c.default.update("lists/"+e.id,e)}},{key:"removeList",value:function(e){c.default.remove("lists/"+e.id)}}]),e}(),g=s(f.prototype,"_listAdded",[l.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var n=t.id,o=t.value;e.callbacks.onAdd(n,o)}}}),y=s(f.prototype,"_listUpdated",[l.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var n=t.id,o=t.value;e.callbacks.onUpdate(n,o)}}}),b=s(f.prototype,"_listRemoved",[l.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var n=t.id,o=t.value;e.callbacks.onRemove(n,o)}}}),_=s(f.prototype,"_dataLoaded",[l.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.callbacks.onDataLoad()}}}),f),f,g,y,b,_;n.default=h,t.exports=n["default"]},{"../data/firebase":375,"../data/local-store":376,mobx:189}],389:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},c=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=e("lodash"),m=o(u),h=e("classnames"),f=o(h),g=e("mobx"),y=e("mobx-react"),b=e("react"),_=o(b),v=e("react-sortable-hoc"),E=e("../auth/auth-state"),C=o(E),T=e("./list"),I=o(T),S=(0,y.observer)(N=(w=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),r(o,"_editList",R,o),r(o,"_goToList",P,o),r(o,"_updateList",A,o),r(o,"_updateListPrivacy",D,o),r(o,"_removeList",O,o),n),s(o,d)}return d(t,e),c(t,[{key:"render",value:function(){var e=this;return _.default.createElement("ul",{className:(0,f.default)({"is-dragging":this.props.isDragging})},m.default.map(this.props.listsStore.lists,function(t,n){return _.default.createElement(I.default,{key:t.id,index:n,model:t,isOwner:t.owner===C.default.user.email,isEditing:t.id===e.props.listsStore.editingListId,isSelected:t.id===e.props.listsStore.selectedListId,onEdit:e._editList,onSelect:e._goToList,onUpdate:e._updateList,onUpdatePrivacy:e._updateListPrivacy,onRemove:e._removeList})}))}}]),t}(b.Component),R=l(w.prototype,"_editList",[g.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.props.listsStore.editList(t)}}}),P=l(w.prototype,"_goToList",[g.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.props.listsStore.selectList(t)}}}),A=l(w.prototype,"_updateList",[g.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.props.listsStore.updateList(t)}}}),D=l(w.prototype,"_updateListPrivacy",[g.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var n=t.id,o=t.willBePrivate;C.default.passcodeNeeded=!0,C.default.onPasscodeSubmit=(0,g.action)("finished:password:action",function(){e._updateList({id:n,isPrivate:o}),C.default.resetPasscodeCallbacks()})}}}),O=l(w.prototype,"_removeList",[g.action],{enumerable:!0,initializer:function(){var e=this;return function(t){e.props.listsStore.removeList(t)}}}),w))||N,k=(0,v.SortableContainer)(S),x=(0,y.observer)(M=(L=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),r(o,"isDragging",F,o),r(o,"_onSortStart",U,o),r(o,"_onSortEnd",j,o),n),s(o,d)}return d(t,e),c(t,[{key:"render",value:function(){return this.props.listsStore.isLoading?_.default.createElement("p",{className:"no-items"},_.default.createElement("i",{className:"fa fa-hourglass-end fa-spin"})," Loading..."):this.props.listsStore.lists.length?_.default.createElement(k,p({},this.props,{helperClass:"sorting-helper",isDragging:this.isDragging,onSortStart:this._onSortStart,onSortEnd:this._onSortEnd,useDragHandle:!0})):_.default.createElement("p",{className:"no-items"},"No Lists")}}]),t}(b.Component),F=l(L.prototype,"isDragging",[g.observable],{enumerable:!0,initializer:function(){return!1}}),U=l(L.prototype,"_onSortStart",[g.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.isDragging=!0}}}),j=l(L.prototype,"_onSortEnd",[g.action],{enumerable:!0,initializer:function(){var e=this;return function(t){var n=t.oldIndex,o=t.newIndex;if(e.isDragging=!1,n!==o){var r=(0,v.arrayMove)(m.default.map(e.props.listsStore.lists,"id"),n,o);m.default.each(r,function(t,n){return e.props.listsStore.updateList({id:t,order:n})})}}}}),L))||M,N,w,R,P,A,D,O,M,L,F,U,j;n.default=x,t.exports=n["default"]},{"../auth/auth-state":366,"./list":387,classnames:10,lodash:177,mobx:189,"mobx-react":188,react:358,"react-sortable-hoc":329}],390:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=e("lodash"),c=o(p),u=e("mobx"),m=e("../auth/auth-state"),h=o(m),f=e("./list-model"),g=o(f),y=e("./lists-api"),b=o(y),_=(v=function(){function e(){var t=this;s(this,e),i(this,"_lists",E,this),i(this,"editingListId",C,this),i(this,"isLoading",T,this),i(this,"selectedListId",I,this),this._onUpdate=function(e,n){t._lists.get(e).update(n)},this._onRemove=function(e){var n=t._lists.get(e);n&&(n.willRemove(),t._lists.delete(e))},this.listsApi=new b.default,(0,u.action)("fetch:selected:list",function(){t.selectedListId=t.listsApi.fetchSelectedList()})()}return l(e,[{key:"listen",value:function(){var e=this;(0,u.action)("begin:loading:data",function(){return e.isLoading=!0})(),this.listsApi.listen({onAdd:function(t,n){e._lists.set(t,new g.default(t,n))},onUpdate:this._onUpdate,onRemove:this._onRemove,onDataLoad:function(){e.isLoading=!1}})}},{key:"stopListening",value:function(){this.listsApi.stopListening()}},{key:"selectList",value:function(e){var t=e?e.id:null;this.listsApi.saveSelectedList(t),this.selectedListId=t}},{key:"addList",value:function(){var e=this,t=this.lists,n=t.length?Math.max.apply(Math,r(c.default.map(t,"order")))+1:0,o=this._newList({order:n,owner:h.default.user.email});this.listsApi.addList(o).then((0,u.action)("added:list",function(t){e.editList({id:t})}))}},{key:"editList",value:function(e){this.editingListId=e.id}},{key:"_newList",value:function(e){var t=e.order,n=e.owner;return{order:t,owner:n,name:"",shared:!1}}},{key:"updateList",value:function(e){this._onUpdate(e.id,e),this.listsApi.updateList(e)}},{key:"removeList",value:function(e){this._onRemove(e.id),this.listsApi.removeList(e)}},{key:"showingItems",get:function(){return!!this.selectedListId}},{key:"lists",get:function(){return(0,c.default)(this._lists.values()).sortBy("order").filter(function(e){return e.shared||e.owner===h.default.user.email}).value()}},{key:"selectedList",get:function(){var e=c.default.find(this.lists,{id:this.selectedListId});return e||{itemsStore:{items:[],none:!0}}}}]),e}(),E=d(v.prototype,"_lists",[u.observable],{enumerable:!0,initializer:function(){return u.observable.map()}}),C=d(v.prototype,"editingListId",[u.observable],{enumerable:!0,initializer:function(){return null}}),T=d(v.prototype,"isLoading",[u.observable],{enumerable:!0,initializer:function(){return!1}}),I=d(v.prototype,"selectedListId",[u.observable],{enumerable:!0,initializer:function(){return null}}),d(v.prototype,"showingItems",[u.computed],Object.getOwnPropertyDescriptor(v.prototype,"showingItems"),v.prototype),d(v.prototype,"lists",[u.computed],Object.getOwnPropertyDescriptor(v.prototype,"lists"),v.prototype),d(v.prototype,"selectedList",[u.computed],Object.getOwnPropertyDescriptor(v.prototype,"selectedList"),v.prototype),d(v.prototype,"updateList",[u.action],Object.getOwnPropertyDescriptor(v.prototype,"updateList"),v.prototype),d(v.prototype,"removeList",[u.action],Object.getOwnPropertyDescriptor(v.prototype,"removeList"),v.prototype),v),v,E,C,T,I;n.default=_,t.exports=n["default"]},{"../auth/auth-state":366,"./list-model":386,"./lists-api":388,lodash:177,mobx:189}],391:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(o):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n,o,r){var i={};return Object.keys(o).forEach(function(e){i[e]=o[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,o){return o(e,t,n)||n},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=e("mobx"),u=e("mobx-react"),m=e("react"),h=o(m),f=e("../app/app-state"),g=o(f),y=e("./lists-list"),b=o(y),_=e("../app/settings"),v=o(_),E=(0,u.observer)(C=(T=function(e){function t(){var e,n,o,d;i(this,t);for(var l=arguments.length,p=Array(l),c=0;c<l;c++)p[c]=arguments[c];return d=(n=(o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(p))),o),r(o,"_addList",I,o),r(o,"_showSettings",S,o),n),s(o,d)}return d(t,e),p(t,[{key:"render",value:function(){return h.default.createElement("div",{className:"lists"},h.default.createElement("header",{className:"fixed"},h.default.createElement("h1",null,"ImaList")),h.default.createElement(b.default,{listsStore:this.props.listsStore}),h.default.createElement("footer",null,h.default.createElement("button",{onClick:this._addList},h.default.createElement("span",null,"List"),h.default.createElement("i",{className:"fa fa-plus"})),h.default.createElement("div",{className:"spacer"}),h.default.createElement("button",{className:"settings",onClick:this._showSettings},h.default.createElement("span",null,"Settings"),h.default.createElement("i",{className:"fa fa-cog"})),h.default.createElement("button",{className:"logout",onClick:this.props.onLogout},h.default.createElement("span",null,"Logout"),h.default.createElement("i",{className:"fa fa-sign-out"}))),h.default.createElement(v.default,null))}}]),t}(m.Component),I=l(T.prototype,"_addList",[c.action],{enumerable:!0,initializer:function(){var e=this;return function(){e.props.listsStore.addList()}}}),S=l(T.prototype,"_showSettings",[c.action],{enumerable:!0,initializer:function(){return function(){g.default.viewingSettings=!0}}}),T))||C,C,T,I,S;n.default=E,t.exports=n["default"]},{"../app/app-state":362,"../app/settings":365,"./lists-list":389,mobx:189,"mobx-react":188,react:358}],392:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var n=e("fastclick"),o=t(n),r=e("mobx"),i=e("react"),s=t(i),d=e("react-dom"),l=t(d),p=e("./app/root"),c=t(p);new o.default(document.body),(0,r.useStrict)(!0),"production"!==window.env&&(window.autorun=r.autorun),l.default.render(s.default.createElement(c.default,null),document.getElementById("app"))},{"./app/root":364,fastclick:13,mobx:189,react:358,"react-dom":198}],393:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1,n;t<arguments.length;t++)for(var o in n=arguments[t],n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},i=e("lodash"),s=o(i),d=e("react"),l=o(d),p=e("./modal"),c=o(p);n.default=function(e){return l.default.createElement(c.default,r({},e,{className:"action-sheet"}),s.default.map(e.actions,function(e){var t=e.label,n=e.handler,o=e.type,r=o===void 0?"confirm":o;return l.default.createElement("button",{key:t,className:r,onClick:n},t)}))},t.exports=n["default"]},{"./modal":394,lodash:177,react:358}],394:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("classnames"),i=o(r),s=e("react"),d=o(s),l=e("./portal"),p=o(l);n.default=function(e){var t=e.children,n=e.className,o=e.isShowing;return d.default.createElement(p.default,{isShowing:o},d.default.createElement("div",{className:(0,i.default)("modal",n)},d.default.createElement("div",{className:"container"},t)))},t.exports=n["default"]},{"./portal":395,classnames:10,react:358}],395:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"==typeof t||"function"==typeof t)?t:e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0,o;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=e("react"),l=e("react-dom"),p=0,c=function(e){function t(){var e;o(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];var d=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return d.id="portal-"+p++,d.hasEntered=!1,d}return i(t,e),s(t,[{key:"componentWillUnmount",value:function(){this._unmount()}},{key:"componentDidMount",value:function(){this.props.isShowing&&this._mount()}},{key:"componentDidUpdate",value:function(e){var t=e.isShowing;!t&&this.props.isShowing&&this._mount(),t&&!this.props.isShowing&&this._unmount()}},{key:"_mount",value:function(){this._findOrCreateContainer(),(0,l.render)(this.props.children,this.element),this._enter()}},{key:"_findOrCreateContainer",value:function(){var e=document.getElementById(this.id);e||(e=document.createElement("div"),e.id=this.id,document.body.appendChild(e)),this.element=e}},{key:"_enter",value:function(){var e=this;setTimeout(this._withElement(function(){e.element.className="has-entered"},50))}},{key:"_unmount",value:function(){var e=this;this.element&&(this.element.className="",setTimeout(this._withElement(function(){(0,l.unmountComponentAtNode)(e.element),document.body.removeChild(e.element),e.element=null},350)))}},{key:"_withElement",value:function(e){this.element&&e()}},{key:"render",value:function(){return null}}]),t}(d.Component);n.default=c,t.exports=n["default"]},{react:358,"react-dom":198}]},{},[392]);